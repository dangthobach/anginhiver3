window.FileAPI={debug:!1,staticPath:"/static_files/jscript/FileAPI/statics"};function ga(){}function isIE(){var b=navigator.userAgent.toLowerCase();return-1!=b.indexOf("msie")?parseInt(b.split("msie")[1]):!1}var errorception_num_errors_reported=0;
(function(b,l,k,g){_errs=[g];_errs.meta={};var c=b.onerror;if(!isIE()||9<isIE())b.onerror=function(){var b=arguments;0<b.length&&"string"===typeof b[0]&&-1!=b[0].indexOf("SecurityError (DOM Exception 18)")||(_errs.meta.jquery_loaded="undefined"!=typeof jQuery,_errs.meta.dollasign_loaded="undefined"!=typeof $,_errs.meta.etm_loaded="undefined"!=typeof ETM,_errs.meta.loaded_body="undefined"!==typeof loaded_body,_errs.meta.libs_loaded="undefined"!==typeof libs_loaded,_errs.meta.css_loaded="undefined"!==
typeof css_loaded,_errs.meta.ga_loaded="undefined"!==typeof ga,_errs.meta.googleanalytics_loaded="undefined"!==typeof googleanalytics,errorception_num_errors_reported++,10<errorception_num_errors_reported||(_errs.push(b),c&&c.apply(this,b)))};var f=function(){var b=l.createElement(k),c=l.getElementsByTagName(k)[0];b.src="//beacon.errorception.com/"+g+".js";b.async=!0;c.parentNode.insertBefore(b,c)};b.addEventListener?b.addEventListener("load",f,!1):b.attachEvent("onload",f)})(window,document,"script",
"555cddd6172bc9b172000019");
(function(b,l){"object"===typeof module&&"object"===typeof module.exports?module.exports=b.document?l(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return l(b)}:l(b)})("undefined"!==typeof window?window:this,function(b,l){function k(a,b){b=b||G;var d=b.createElement("script");d.text=a;b.head.appendChild(d).parentNode.removeChild(d)}function g(a){var b=!!a&&"length"in a&&a.length,d=t.type(a);return"function"===d||t.isWindow(a)?!1:"array"===d||0===b||"number"===
typeof b&&0<b&&b-1 in a}function c(a,b,d){if(t.isFunction(b))return t.grep(a,function(a,h){return!!b.call(a,h,a)!==d});if(b.nodeType)return t.grep(a,function(a){return a===b!==d});if("string"===typeof b){if(jb.test(b))return t.filter(b,a,d);b=t.filter(b,a)}return t.grep(a,function(a){return-1<va.call(b,a)!==d&&1===a.nodeType})}function f(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function n(a){var b={};t.each(a.match(za)||[],function(a,d){b[d]=!0});return b}function e(a){return a}function p(a){throw a;
}function m(a,b,d){var h;try{a&&t.isFunction(h=a.promise)?h.call(a).done(b).fail(d):a&&t.isFunction(h=a.then)?h.call(a,b,d):b.call(void 0,a)}catch(c){d.call(void 0,c)}}function r(){G.removeEventListener("DOMContentLoaded",r);b.removeEventListener("load",r);t.ready()}function s(){this.expando=t.expando+s.uid++}function v(a,b,d){if(void 0===d&&1===a.nodeType)if(d="data-"+b.replace(Wa,"-$&").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+
""===d?+d:hc.test(d)?JSON.parse(d):d}catch(h){}Ka.set(a,b,d)}else d=void 0;return d}function u(a,b,d,h){var c,q=1,f=20,e=h?function(){return h.cur()}:function(){return t.css(a,b,"")},w=e(),m=d&&d[3]||(t.cssNumber[b]?"":"px"),g=(t.cssNumber[b]||"px"!==m&&+w)&&bb.exec(t.css(a,b));if(g&&g[3]!==m){m=m||g[3];d=d||[];g=+w||1;do q=q||".5",g/=q,t.style(a,b,g+m);while(q!==(q=e()/w)&&1!==q&&--f)}d&&(g=+g||+w||0,c=d[1]?g+(d[1]+1)*d[2]:+d[2],h&&(h.unit=m,h.start=g,h.end=c));return c}function A(a,b){for(var d,
h,c=[],q=0,f=a.length;q<f;q++)if(h=a[q],h.style)if(d=h.style.display,b){if("none"===d&&(c[q]=fa.get(h,"display")||null,c[q]||(h.style.display="")),""===h.style.display&&Ca(h)){d=c;var e=q;var w=void 0,w=h.ownerDocument;h=h.nodeName;var m=yb[h];m||(w=w.body.appendChild(w.createElement(h)),m=t.css(w,"display"),w.parentNode.removeChild(w),"none"===m&&(m="block"),yb[h]=m);h=m;d[e]=h}}else"none"!==d&&(c[q]="none",fa.set(h,"display",d));for(q=0;q<f;q++)null!=c[q]&&(a[q].style.display=c[q]);return a}function a(a,
b){var d="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&t.nodeName(a,b)?t.merge([a],d):d}function d(a,b){for(var d=0,h=a.length;d<h;d++)fa.set(a[d],"globalEval",!b||fa.get(b[d],"globalEval"))}function h(b,h,c,q,f){for(var e,w,m,g=h.createDocumentFragment(),k=[],p=0,n=b.length;p<n;p++)if((e=b[p])||0===e)if("object"===t.type(e))t.merge(k,e.nodeType?[e]:e);else if(cb.test(e)){w=w||
g.appendChild(h.createElement("div"));m=(ic.exec(e)||["",""])[1].toLowerCase();m=La[m]||La._default;w.innerHTML=m[1]+t.htmlPrefilter(e)+m[2];for(m=m[0];m--;)w=w.lastChild;t.merge(k,w.childNodes);w=g.firstChild;w.textContent=""}else k.push(h.createTextNode(e));g.textContent="";for(p=0;e=k[p++];)if(q&&-1<t.inArray(e,q))f&&f.push(e);else if(b=t.contains(e.ownerDocument,e),w=a(g.appendChild(e),"script"),b&&d(w),c)for(m=0;e=w[m++];)jc.test(e.type||"")&&c.push(e);return g}function q(){return!0}function w(){return!1}
function B(){try{return G.activeElement}catch(a){}}function y(a,b,d,h,c,q){var e,f;if("object"===typeof b){"string"!==typeof d&&(h=h||d,d=void 0);for(f in b)y(a,f,d,h,b[f],q);return a}null==h&&null==c?(c=d,h=d=void 0):null==c&&("string"===typeof d?(c=h,h=void 0):(c=h,h=d,d=void 0));if(!1===c)c=w;else if(!c)return a;1===q&&(e=c,c=function(a){t().off(a);return e.apply(this,arguments)},c.guid=e.guid||(e.guid=t.guid++));return a.each(function(){t.event.add(this,b,c,h,d)})}function P(a,b){return t.nodeName(a,
"table")&&t.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function O(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function W(a){var b=zb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function ca(a,b){var d,h,c,q;if(1===b.nodeType){if(fa.hasData(a)&&(q=fa.access(a),d=fa.set(b,q),q=q.events))for(c in delete d.handle,d.events={},q)for(d=0,h=q[c].length;d<h;d++)t.event.add(b,c,q[c][d]);Ka.hasData(a)&&(c=Ka.access(a),c=t.extend({},
c),Ka.set(b,c))}}function R(b,d,c,q){d=ma.apply([],d);var e,f,w,m,g=0,p=b.length,n=p-1,B=d[0],x=t.isFunction(B);if(x||1<p&&"string"===typeof B&&!la.checkClone&&Dc.test(B))return b.each(function(a){var h=b.eq(a);x&&(d[0]=B.call(this,a,h.html()));R(h,d,c,q)});if(p&&(e=h(d,b[0].ownerDocument,!1,b,q),f=e.firstChild,1===e.childNodes.length&&(e=f),f||q)){f=t.map(a(e,"script"),O);for(w=f.length;g<p;g++)m=e,g!==n&&(m=t.clone(m,!0,!0),w&&t.merge(f,a(m,"script"))),c.call(b[g],m,g);if(w)for(e=f[f.length-1].ownerDocument,
t.map(f,W),g=0;g<w;g++)m=f[g],jc.test(m.type||"")&&!fa.access(m,"globalEval")&&t.contains(e,m)&&(m.src?t._evalUrl&&t._evalUrl(m.src):k(m.textContent.replace(Ec,""),e))}return b}function V(b,h,c){for(var q=h?t.filter(h,b):b,e=0;null!=(h=q[e]);e++)c||1!==h.nodeType||t.cleanData(a(h)),h.parentNode&&(c&&t.contains(h.ownerDocument,h)&&d(a(h,"script")),h.parentNode.removeChild(h));return b}function Y(a,b,d){var h,c,q=a.style;if(d=d||Lb(a))c=d.getPropertyValue(b)||d[b],""!==c||t.contains(a.ownerDocument,
a)||(c=t.style(a,b)),!la.pixelMarginRight()&&Fc.test(c)&&$c.test(b)&&(a=q.width,b=q.minWidth,h=q.maxWidth,q.minWidth=q.maxWidth=q.width=c,c=d.width,q.width=a,q.minWidth=b,q.maxWidth=h);return void 0!==c?c+"":c}function J(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function U(a){if(a in ad)return a;for(var b=a[0].toUpperCase()+a.slice(1),d=Gc.length;d--;)if(a=Gc[d]+b,a in ad)return a}function H(a,b,d){return(a=bb.exec(b))?Math.max(0,a[2]-(d||0))+
(a[3]||"px"):b}function x(a,b,d,h,c){b=d===(h?"border":"content")?4:"width"===b?1:0;for(var q=0;4>b;b+=2)"margin"===d&&(q+=t.css(a,d+kb[b],!0,c)),h?("content"===d&&(q-=t.css(a,"padding"+kb[b],!0,c)),"margin"!==d&&(q-=t.css(a,"border"+kb[b]+"Width",!0,c))):(q+=t.css(a,"padding"+kb[b],!0,c),"padding"!==d&&(q+=t.css(a,"border"+kb[b]+"Width",!0,c)));return q}function D(a,b,d){var h,c=!0,q=Lb(a),e="border-box"===t.css(a,"boxSizing",!1,q);a.getClientRects().length&&(h=a.getBoundingClientRect()[b]);if(0>=
h||null==h){h=Y(a,b,q);if(0>h||null==h)h=a.style[b];if(Fc.test(h))return h;c=e&&(la.boxSizingReliable()||h===a.style[b]);h=parseFloat(h)||0}return h+x(a,b,d||(e?"border":"content"),c,q)+"px"}function K(a,b,d,h,c){return new K.prototype.init(a,b,d,h,c)}function F(){lb&&(b.requestAnimationFrame(F),t.fx.tick())}function L(){b.setTimeout(function(){Sa=void 0});return Sa=t.now()}function Q(a,b){var d,h=0,c={height:a};for(b=b?1:0;4>h;h+=2-b)d=kb[h],c["margin"+d]=c["padding"+d]=a;b&&(c.opacity=c.width=a);
return c}function ha(a,b,d){for(var h,c=(ua.tweeners[b]||[]).concat(ua.tweeners["*"]),q=0,e=c.length;q<e;q++)if(h=c[q].call(d,b,a))return h}function na(a,b){var d,h,c,q,e;for(d in a)if(h=t.camelCase(d),c=b[h],q=a[d],t.isArray(q)&&(c=q[1],q=a[d]=q[0]),d!==h&&(a[h]=q,delete a[d]),(e=t.cssHooks[h])&&"expand"in e)for(d in q=e.expand(q),delete a[h],q)d in a||(a[d]=q[d],b[d]=c);else b[h]=c}function ua(a,b,d){var h,c=0,q=ua.prefilters.length,e=t.Deferred().always(function(){delete f.elem}),f=function(){if(h)return!1;
for(var b=Sa||L(),b=Math.max(0,w.startTime+w.duration-b),d=1-(b/w.duration||0),c=0,q=w.tweens.length;c<q;c++)w.tweens[c].run(d);e.notifyWith(a,[w,d,b]);if(1>d&&q)return b;e.resolveWith(a,[w]);return!1},w=e.promise({elem:a,props:t.extend({},b),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},d),originalProperties:b,originalOptions:d,startTime:Sa||L(),duration:d.duration,tweens:[],createTween:function(b,d){var h=t.Tween(a,w.opts,b,d,w.opts.specialEasing[b]||w.opts.easing);w.tweens.push(h);
return h},stop:function(b){var d=0,c=b?w.tweens.length:0;if(h)return this;for(h=!0;d<c;d++)w.tweens[d].run(1);b?(e.notifyWith(a,[w,1,0]),e.resolveWith(a,[w,b])):e.rejectWith(a,[w,b]);return this}});d=w.props;for(na(d,w.opts.specialEasing);c<q;c++)if(b=ua.prefilters[c].call(w,a,d,w.opts))return t.isFunction(b.stop)&&(t._queueHooks(w.elem,w.opts.queue).stop=t.proxy(b.stop,b)),b;t.map(d,ha,w);t.isFunction(w.opts.start)&&w.opts.start.call(a,w);t.fx.timer(t.extend(f,{elem:a,anim:w,queue:w.opts.queue}));
return w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always)}function qa(a){return a.getAttribute&&a.getAttribute("class")||""}function I(a,b,d,h){var c;if(t.isArray(b))t.each(b,function(b,c){d||bd.test(a)?h(a,c):I(a+"["+("object"===typeof c&&null!=c?b:"")+"]",c,d,h)});else if(d||"object"!==t.type(b))h(a,b);else for(c in b)I(a+"["+c+"]",b[c],d,h)}function C(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");var h,c=0,q=b.toLowerCase().match(za)||
[];if(t.isFunction(d))for(;h=q[c++];)"+"===h[0]?(h=h.slice(1)||"*",(a[h]=a[h]||[]).unshift(d)):(a[h]=a[h]||[]).push(d)}}function X(a,b,d,h){function c(f){var w;q[f]=!0;t.each(a[f]||[],function(a,f){var m=f(b,d,h);if("string"===typeof m&&!e&&!q[m])return b.dataTypes.unshift(m),c(m),!1;if(e)return!(w=m)});return w}var q={},e=a===kc;return c(b.dataTypes[0])||!q["*"]&&c("*")}function ja(a,b){var d,h,c=t.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((c[d]?a:h||(h={}))[d]=b[d]);h&&t.extend(!0,
a,h);return a}var aa=[],G=b.document,ka=Object.getPrototypeOf,E=aa.slice,ma=aa.concat,M=aa.push,va=aa.indexOf,ia={},oa=ia.toString,Z=ia.hasOwnProperty,ra=Z.toString,sa=ra.call(Object),la={},t=function(a,b){return new t.fn.init(a,b)},xa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pa=/^-ms-/,Xa=/-([a-z])/g,Ha=function(a,b){return b.toUpperCase()};t.fn=t.prototype={jquery:"3.1.0",constructor:t,length:0,toArray:function(){return E.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:E.call(this)},
pushStack:function(a){a=t.merge(this.constructor(),a);a.prevObject=this;return a},each:function(a){return t.each(this,a)},map:function(a){return this.pushStack(t.map(this,function(b,d){return a.call(b,d,b)}))},slice:function(){return this.pushStack(E.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},
push:M,sort:aa.sort,splice:aa.splice};t.extend=t.fn.extend=function(){var a,b,d,h,c,q=arguments[0]||{},e=1,f=arguments.length,w=!1;"boolean"===typeof q&&(w=q,q=arguments[e]||{},e++);"object"===typeof q||t.isFunction(q)||(q={});e===f&&(q=this,e--);for(;e<f;e++)if(null!=(a=arguments[e]))for(b in a)d=q[b],h=a[b],q!==h&&(w&&h&&(t.isPlainObject(h)||(c=t.isArray(h)))?(c?(c=!1,d=d&&t.isArray(d)?d:[]):d=d&&t.isPlainObject(d)?d:{},q[b]=t.extend(w,d,h)):void 0!==h&&(q[b]=h));return q};t.extend({expando:"jQuery"+
("3.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===t.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=t.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){if(!a||"[object Object]"!==oa.call(a))return!1;a=ka(a);if(!a)return!0;a=Z.call(a,"constructor")&&a.constructor;return"function"===typeof a&&ra.call(a)===
sa},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?ia[oa.call(a)]||"object":typeof a},globalEval:function(a){k(a)},camelCase:function(a){return a.replace(Pa,"ms-").replace(Xa,Ha)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,h=0;if(g(a))for(d=a.length;h<d&&!1!==b.call(a[h],h,a[h]);h++);else for(h in a)if(!1===b.call(a[h],h,a[h]))break;return a},
trim:function(a){return null==a?"":(a+"").replace(xa,"")},makeArray:function(a,b){var d=b||[];null!=a&&(g(Object(a))?t.merge(d,"string"===typeof a?[a]:a):M.call(d,a));return d},inArray:function(a,b,d){return null==b?-1:va.call(b,a,d)},merge:function(a,b){for(var d=+b.length,h=0,c=a.length;h<d;h++)a[c++]=b[h];a.length=c;return a},grep:function(a,b,d){for(var h=[],c=0,q=a.length,e=!d;c<q;c++)d=!b(a[c],c),d!==e&&h.push(a[c]);return h},map:function(a,b,d){var h,c,q=0,e=[];if(g(a))for(h=a.length;q<h;q++)c=
b(a[q],q,d),null!=c&&e.push(c);else for(q in a)c=b(a[q],q,d),null!=c&&e.push(c);return ma.apply([],e)},guid:1,proxy:function(a,b){var d,h;"string"===typeof b&&(d=a[b],b=a,a=d);if(t.isFunction(a))return h=E.call(arguments,2),d=function(){return a.apply(b||this,h.concat(E.call(arguments)))},d.guid=a.guid=a.guid||t.guid++,d},now:Date.now,support:la});"function"===typeof Symbol&&(t.fn[Symbol.iterator]=aa[Symbol.iterator]);t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});var Oa=function(a){function b(a,d,h,c){var q,e,f,w,m,g=d&&d.ownerDocument,p=d?d.nodeType:9;h=h||[];if("string"!==typeof a||!a||1!==p&&9!==p&&11!==p)return h;if(!c&&((d?d.ownerDocument||d:ca)!==J&&K(d),d=d||J,Q)){if(11!==p&&(w=Ec.exec(a)))if(q=w[1])if(9===p)if(e=d.getElementById(q)){if(e.id===q)return h.push(e),h}else return h;else{if(g&&(e=g.getElementById(q))&&C(d,e)&&e.id===q)return h.push(e),h}else{if(w[2])return qa.apply(h,d.getElementsByTagName(a)),
h;if((q=w[3])&&H.getElementsByClassName&&d.getElementsByClassName)return qa.apply(h,d.getElementsByClassName(q)),h}if(H.qsa&&!(Xa[a+" "]||xa&&xa.test(a))){if(1!==p)g=d,m=a;else if("object"!==d.nodeName.toLowerCase()){(f=d.getAttribute("id"))?f=f.replace(pa,Z):d.setAttribute("id",f=ya);e=D(a);for(q=e.length;q--;)e[q]="#"+f+" "+n(e[q]);m=e.join(",");g=ma.test(a)&&k(d.parentNode)||d}if(m)try{return qa.apply(h,g.querySelectorAll(m)),h}catch(B){}finally{f===ya&&d.removeAttribute("id")}}}return O(a.replace(E,
"$1"),d,h,c)}function d(){function a(d,h){b.push(d+" ")>u.cacheLength&&delete a[b.shift()];return a[d+" "]=h}var b=[];return a}function h(a){a[ya]=!0;return a}function c(a){var b=J.createElement("fieldset");try{return!!a(b)}catch(d){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function q(a,b){for(var d=a.split("|"),h=d.length;h--;)u.attrHandle[d[h]]=b}function e(a,b){var d=b&&a,h=d&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(h)return h;if(d)for(;d=d.nextSibling;)if(d===
b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function w(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function m(a){return function(b){return"label"in b&&b.disabled===a||"form"in b&&b.disabled===a||"form"in b&&!1===b.disabled&&(b.isDisabled===a||b.isDisabled!==!a&&("label"in b||!oa(b))!==a)}}function g(a){return h(function(b){b=+b;return h(function(d,h){for(var c,q=a([],d.length,
b),e=q.length;e--;)d[c=q[e]]&&(d[c]=!(h[c]=d[c]))})})}function k(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function n(a){for(var b=0,d=a.length,h="";b<d;b++)h+=a[b].value;return h}function B(a,b,d){var h=b.dir,c=b.next,q=c||h,e=d&&"parentNode"===q,f=Pa++;return b.first?function(b,d,c){for(;b=b[h];)if(1===b.nodeType||e)return a(b,d,c)}:function(b,d,w){var m,g,k=[ha,f];if(w)for(;b=b[h];){if((1===b.nodeType||e)&&a(b,d,w))return!0}else for(;b=b[h];)if(1===b.nodeType||e)if(g=
b[ya]||(b[ya]={}),g=g[b.uniqueID]||(g[b.uniqueID]={}),c&&c===b.nodeName.toLowerCase())b=b[h]||b;else{if((m=g[q])&&m[0]===ha&&m[1]===f)return k[2]=m[2];g[q]=k;if(k[2]=a(b,d,w))return!0}}}function x(a){return 1<a.length?function(b,d,h){for(var c=a.length;c--;)if(!a[c](b,d,h))return!1;return!0}:a[0]}function y(a,b,d,h,c){for(var q,e=[],f=0,w=a.length,m=null!=b;f<w;f++)if(q=a[f])if(!d||d(q,h,c))e.push(q),m&&b.push(f);return e}function r(a,d,c,q,e,f){q&&!q[ya]&&(q=r(q));e&&!e[ya]&&(e=r(e,f));return h(function(h,
f,w,m){var g,k,p=[],n=[],B=f.length,x;if(!(x=h)){x=d||"*";for(var r=w.nodeType?[w]:w,l=[],F=0,s=r.length;F<s;F++)b(x,r[F],l);x=l}x=!a||!h&&d?x:y(x,p,a,w,m);r=c?e||(h?a:B||q)?[]:f:x;c&&c(x,r,w,m);if(q)for(g=y(r,n),q(g,[],w,m),w=g.length;w--;)if(k=g[w])r[n[w]]=!(x[n[w]]=k);if(h){if(e||a){if(e){g=[];for(w=r.length;w--;)(k=r[w])&&g.push(x[w]=k);e(null,r=[],g,m)}for(w=r.length;w--;)(k=r[w])&&-1<(g=e?ja(h,k):p[w])&&(h[g]=!(f[g]=k))}}else r=y(r===f?r.splice(B,r.length):r),e?e(null,f,r,m):qa.apply(f,r)})}
function l(a){var b,d,h,c=a.length,q=u.relative[a[0].type];d=q||u.relative[" "];for(var e=q?1:0,f=B(function(a){return a===b},d,!0),w=B(function(a){return-1<ja(b,a)},d,!0),m=[function(a,d,h){a=!q&&(h||d!==U)||((b=d).nodeType?f(a,d,h):w(a,d,h));b=null;return a}];e<c;e++)if(d=u.relative[a[e].type])m=[B(x(m),d)];else{d=u.filter[a[e].type].apply(null,a[e].matches);if(d[ya]){for(h=++e;h<c&&!u.relative[a[h].type];h++);return r(1<e&&x(m),1<e&&n(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(E,
"$1"),d,e<h&&l(a.slice(e,h)),h<c&&l(a=a.slice(h)),h<c&&n(a))}m.push(d)}return x(m)}function F(a,d){var c=0<d.length,q=0<a.length,e=function(h,e,f,w,m){var g,k,p,n=0,B="0",x=h&&[],r=[],l=U,F=h||q&&u.find.TAG("*",m),s=ha+=null==l?1:Math.random()||0.1,H=F.length;for(m&&(U=e===J||e||m);B!==H&&null!=(g=F[B]);B++){if(q&&g){k=0;e||g.ownerDocument===J||(K(g),f=!Q);for(;p=a[k++];)if(p(g,e||J,f)){w.push(g);break}m&&(ha=s)}c&&((g=!p&&g)&&n--,h&&x.push(g))}n+=B;if(c&&B!==n){for(k=0;p=d[k++];)p(x,r,e,f);if(h){if(0<
n)for(;B--;)x[B]||r[B]||(r[B]=I.call(w));r=y(r)}qa.apply(w,r);m&&!h&&0<r.length&&1<n+d.length&&b.uniqueSort(w)}m&&(ha=s,U=l);return x};return c?h(e):e}var s,H,u,t,v,D,P,O,U,A,Y,K,J,L,Q,xa,W,R,C,ya="sizzle"+1*new Date,ca=a.document,ha=0,Pa=0,la=d(),na=d(),Xa=d(),V=function(a,b){a===b&&(Y=!0);return 0},ua={}.hasOwnProperty,nb=[],I=nb.pop,G=nb.push,qa=nb.push,X=nb.slice,ja=function(a,b){for(var d=0,h=a.length;d<h;d++)if(a[d]===b)return d;return-1},Oa=RegExp("[\\x20\\t\\r\\n\\f]+","g"),E=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$",
"g"),aa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ha=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Dc=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Ma=RegExp(":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
M=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,db={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},ka=/^(?:input|select|textarea|button)$/i,tb=/^h\d$/i,zb=/^[^{]+\{\s*\[native \w/,Ec=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ma=/[+~]/,Ja=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),za=function(a,b,d){a="0x"+b-65536;return a!==a||d?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},pa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Z=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+
" ":"\\"+a},jb=function(){K()},oa=B(function(a){return!0===a.disabled},{dir:"parentNode",next:"legend"});try{qa.apply(nb=X.call(ca.childNodes),ca.childNodes),nb[ca.childNodes.length].nodeType}catch(va){qa={apply:nb.length?function(a,b){G.apply(a,X.call(b))}:function(a,b){for(var d=a.length,h=0;a[d++]=b[h++];);a.length=d-1}}}H=b.support={};v=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};K=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:ca;if(a===
J||9!==a.nodeType||!a.documentElement)return J;J=a;L=J.documentElement;Q=!v(J);ca!==J&&(b=J.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",jb,!1):b.attachEvent&&b.attachEvent("onunload",jb));H.attributes=c(function(a){a.className="i";return!a.getAttribute("className")});H.getElementsByTagName=c(function(a){a.appendChild(J.createComment(""));return!a.getElementsByTagName("*").length});H.getElementsByClassName=zb.test(J.getElementsByClassName);H.getById=c(function(a){L.appendChild(a).id=
ya;return!J.getElementsByName||!J.getElementsByName(ya).length});H.getById?(u.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&Q){var d=b.getElementById(a);return d?[d]:[]}},u.filter.ID=function(a){var b=a.replace(Ja,za);return function(a){return a.getAttribute("id")===b}}):(delete u.find.ID,u.filter.ID=function(a){var b=a.replace(Ja,za);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});u.find.TAG=H.getElementsByTagName?function(a,
b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(H.qsa)return b.querySelectorAll(a)}:function(a,b){var d,h=[],c=0,q=b.getElementsByTagName(a);if("*"===a){for(;d=q[c++];)1===d.nodeType&&h.push(d);return h}return q};u.find.CLASS=H.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&Q)return b.getElementsByClassName(a)};W=[];xa=[];if(H.qsa=zb.test(J.querySelectorAll))c(function(a){L.appendChild(a).innerHTML="<a id='"+ya+"'></a><select id='"+
ya+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&xa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||xa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+ya+"-]").length||xa.push("~=");a.querySelectorAll(":checked").length||xa.push(":checked");a.querySelectorAll("a#"+
ya+"+*").length||xa.push(".#.+[+~]")}),c(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=J.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&xa.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&xa.push(":enabled",":disabled");L.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&xa.push(":enabled",
":disabled");a.querySelectorAll("*,:x");xa.push(",.*:")});(H.matchesSelector=zb.test(R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&c(function(a){H.disconnectedMatch=R.call(a,"*");R.call(a,"[s!='']:x");W.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
xa=xa.length&&RegExp(xa.join("|"));W=W.length&&RegExp(W.join("|"));C=(b=zb.test(L.compareDocumentPosition))||zb.test(L.contains)?function(a,b){var d=9===a.nodeType?a.documentElement:a,h=b&&b.parentNode;return a===h||!!(h&&1===h.nodeType&&(d.contains?d.contains(h):a.compareDocumentPosition&&a.compareDocumentPosition(h)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};V=b?function(a,b){if(a===b)return Y=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;if(d)return d;
d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return d&1||!H.sortDetached&&b.compareDocumentPosition(a)===d?a===J||a.ownerDocument===ca&&C(ca,a)?-1:b===J||b.ownerDocument===ca&&C(ca,b)?1:A?ja(A,a)-ja(A,b):0:d&4?-1:1}:function(a,b){if(a===b)return Y=!0,0;var d,h=0;d=a.parentNode;var c=b.parentNode,q=[a],f=[b];if(!d||!c)return a===J?-1:b===J?1:d?-1:c?1:A?ja(A,a)-ja(A,b):0;if(d===c)return e(a,b);for(d=a;d=d.parentNode;)q.unshift(d);for(d=b;d=d.parentNode;)f.unshift(d);
for(;q[h]===f[h];)h++;return h?e(q[h],f[h]):q[h]===ca?-1:f[h]===ca?1:0};return J};b.matches=function(a,d){return b(a,null,null,d)};b.matchesSelector=function(a,d){(a.ownerDocument||a)!==J&&K(a);d=d.replace(Dc,"='$1']");if(H.matchesSelector&&Q&&!(Xa[d+" "]||W&&W.test(d)||xa&&xa.test(d)))try{var h=R.call(a,d);if(h||H.disconnectedMatch||a.document&&11!==a.document.nodeType)return h}catch(c){}return 0<b(d,J,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==J&&K(a);return C(a,b)};b.attr=
function(a,b){(a.ownerDocument||a)!==J&&K(a);var d=u.attrHandle[b.toLowerCase()],d=d&&ua.call(u.attrHandle,b.toLowerCase())?d(a,b,!Q):void 0;return void 0!==d?d:H.attributes||!Q?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null};b.escape=function(a){return(a+"").replace(pa,Z)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,d=[],h=0,c=0;Y=!H.detectDuplicates;A=!H.sortStable&&a.slice(0);a.sort(V);if(Y){for(;b=a[c++];)b===
a[c]&&(h=d.push(c));for(;h--;)a.splice(d[h],1)}A=null;return a};t=b.getText=function(a){var b,d="",h=0;b=a.nodeType;if(!b)for(;b=a[h++];)d+=t(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=t(a)}else if(3===b||4===b)return a.nodeValue;return d};u=b.selectors={cacheLength:50,createPseudo:h,match:db,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Ja,za);a[3]=(a[3]||a[4]||a[5]||"").replace(Ja,za);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,d=!a[6]&&a[2];if(db.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":d&&Ma.test(d)&&
(b=D(d,!0))&&(b=d.indexOf(")",d.length-b)-d.length)&&(a[0]=a[0].slice(0,b),a[2]=d.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Ja,za).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=la[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&la(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||
"")})},ATTR:function(a,d,h){return function(c){c=b.attr(c,a);if(null==c)return"!="===d;if(!d)return!0;c+="";return"="===d?c===h:"!="===d?c!==h:"^="===d?h&&0===c.indexOf(h):"*="===d?h&&-1<c.indexOf(h):"$="===d?h&&c.slice(-h.length)===h:"~="===d?-1<(" "+c.replace(Oa," ")+" ").indexOf(h):"|="===d?c===h||c.slice(0,h.length+1)===h+"-":!1}},CHILD:function(a,b,d,h,c){var q="nth"!==a.slice(0,3),e="last"!==a.slice(-4),f="of-type"===b;return 1===h&&0===c?function(a){return!!a.parentNode}:function(b,d,w){var m,
g,k,p,n;d=q!==e?"nextSibling":"previousSibling";var B=b.parentNode,x=f&&b.nodeName.toLowerCase();w=!w&&!f;m=!1;if(B){if(q){for(;d;){for(k=b;k=k[d];)if(f?k.nodeName.toLowerCase()===x:1===k.nodeType)return!1;n=d="only"===a&&!n&&"nextSibling"}return!0}n=[e?B.firstChild:B.lastChild];if(e&&w)for(k=B,g=k[ya]||(k[ya]={}),g=g[k.uniqueID]||(g[k.uniqueID]={}),m=g[a]||[],m=(p=m[0]===ha&&m[1])&&m[2],k=p&&B.childNodes[p];k=++p&&k&&k[d]||(m=p=0)||n.pop();){if(1===k.nodeType&&++m&&k===b){g[a]=[ha,p,m];break}}else if(w&&
(k=b,g=k[ya]||(k[ya]={}),g=g[k.uniqueID]||(g[k.uniqueID]={}),m=g[a]||[],m=p=m[0]===ha&&m[1]),!1===m)for(;(k=++p&&k&&k[d]||(m=p=0)||n.pop())&&((f?k.nodeName.toLowerCase()!==x:1!==k.nodeType)||!++m||(w&&(g=k[ya]||(k[ya]={}),g=g[k.uniqueID]||(g[k.uniqueID]={}),g[a]=[ha,m]),k!==b)););m-=c;return m===h||0===m%h&&0<=m/h}}},PSEUDO:function(a,d){var c,q=u.pseudos[a]||u.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return q[ya]?q(d):1<q.length?(c=[a,a,"",d],u.setFilters.hasOwnProperty(a.toLowerCase())?
h(function(a,b){for(var h,c=q(a,d),e=c.length;e--;)h=ja(a,c[e]),a[h]=!(b[h]=c[e])}):function(a){return q(a,0,c)}):q}},pseudos:{not:h(function(a){var b=[],d=[],c=P(a.replace(E,"$1"));return c[ya]?h(function(a,b,d,h){h=c(a,null,h,[]);for(var q=a.length;q--;)if(d=h[q])a[q]=!(b[q]=d)}):function(a,h,q){b[0]=a;c(b,null,q,d);b[0]=null;return!d.pop()}}),has:h(function(a){return function(d){return 0<b(a,d).length}}),contains:h(function(a){a=a.replace(Ja,za);return function(b){return-1<(b.textContent||b.innerText||
t(b)).indexOf(a)}}),lang:h(function(a){M.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(Ja,za).toLowerCase();return function(b){var d;do if(d=Q?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===b.id},root:function(a){return a===L},focus:function(a){return a===J.activeElement&&(!J.hasFocus||J.hasFocus())&&
!!(a.type||a.href||~a.tabIndex)},enabled:m(!1),disabled:m(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return tb.test(a.nodeName)},input:function(a){return ka.test(a.nodeName)},button:function(a){var b=
a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:g(function(){return[0]}),last:g(function(a,b){return[b-1]}),eq:g(function(a,b,d){return[0>d?d+b:d]}),even:g(function(a,b){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:g(function(a,b){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:g(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);
return a}),gt:g(function(a,b,d){for(d=0>d?d+b:d;++d<b;)a.push(d);return a})}};u.pseudos.nth=u.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[s]=f(s);for(s in{submit:!0,reset:!0})u.pseudos[s]=w(s);p.prototype=u.filters=u.pseudos;u.setFilters=new p;D=b.tokenize=function(a,d){var h,c,q,e,f,w,m;if(f=na[a+" "])return d?0:f.slice(0);f=a;w=[];for(m=u.preFilter;f;){if(!h||(c=aa.exec(f)))c&&(f=f.slice(c[0].length)||f),w.push(q=[]);h=!1;if(c=Ha.exec(f))h=c.shift(),q.push({value:h,
type:c[0].replace(E," ")}),f=f.slice(h.length);for(e in u.filter)!(c=db[e].exec(f))||m[e]&&!(c=m[e](c))||(h=c.shift(),q.push({value:h,type:e,matches:c}),f=f.slice(h.length));if(!h)break}return d?f.length:f?b.error(a):na(a,w).slice(0)};P=b.compile=function(a,b){var d,h=[],c=[],q=Xa[a+" "];if(!q){b||(b=D(a));for(d=b.length;d--;)q=l(b[d]),q[ya]?h.push(q):c.push(q);q=Xa(a,F(c,h));q.selector=a}return q};O=b.select=function(a,b,d,h){var c,q,e,f,w="function"===typeof a&&a,m=!h&&D(a=w.selector||a);d=d||[];
if(1===m.length){q=m[0]=m[0].slice(0);if(2<q.length&&"ID"===(e=q[0]).type&&H.getById&&9===b.nodeType&&Q&&u.relative[q[1].type]){b=(u.find.ID(e.matches[0].replace(Ja,za),b)||[])[0];if(!b)return d;w&&(b=b.parentNode);a=a.slice(q.shift().value.length)}for(c=db.needsContext.test(a)?0:q.length;c--;){e=q[c];if(u.relative[f=e.type])break;if(f=u.find[f])if(h=f(e.matches[0].replace(Ja,za),ma.test(q[0].type)&&k(b.parentNode)||b)){q.splice(c,1);a=h.length&&n(q);if(!a)return qa.apply(d,h),d;break}}}(w||P(a,m))(h,
b,!Q,d,!b||ma.test(a)&&k(b.parentNode)||b);return d};H.sortStable=ya.split("").sort(V).join("")===ya;H.detectDuplicates=!!Y;K();H.sortDetached=c(function(a){return a.compareDocumentPosition(J.createElement("fieldset"))&1});c(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||q("type|href|height|width",function(a,b,d){if(!d)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});H.attributes&&c(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||q("value",function(a,b,d){if(!d&&"input"===a.nodeName.toLowerCase())return a.defaultValue});c(function(a){return null==a.getAttribute("disabled")})||q("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,d){var h;if(!d)return!0===a[b]?b.toLowerCase():(h=a.getAttributeNode(b))&&h.specified?h.value:null});return b}(b);t.find=Oa;t.expr=Oa.selectors;t.expr[":"]=t.expr.pseudos;
t.uniqueSort=t.unique=Oa.uniqueSort;t.text=Oa.getText;t.isXMLDoc=Oa.isXML;t.contains=Oa.contains;t.escapeSelector=Oa.escape;var Ma=function(a,b,d){for(var h=[],c=void 0!==d;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(c&&t(a).is(d))break;h.push(a)}return h},db=function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d},tb=t.expr.match.needsContext,Ja=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,jb=/^.[^:#\[\.,]*$/;t.filter=function(a,b,d){var h=
b[0];d&&(a=":not("+a+")");return 1===b.length&&1===h.nodeType?t.find.matchesSelector(h,a)?[h]:[]:t.find.matches(a,t.grep(b,function(a){return 1===a.nodeType}))};t.fn.extend({find:function(a){var b,d,h=this.length,c=this;if("string"!==typeof a)return this.pushStack(t(a).filter(function(){for(b=0;b<h;b++)if(t.contains(c[b],this))return!0}));d=this.pushStack([]);for(b=0;b<h;b++)t.find(a,c[b],d);return 1<h?t.uniqueSort(d):d},filter:function(a){return this.pushStack(c(this,a||[],!1))},not:function(a){return this.pushStack(c(this,
a||[],!0))},is:function(a){return!!c(this,"string"===typeof a&&tb.test(a)?t(a):a||[],!1).length}});var Mb,pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(t.fn.init=function(a,b,d){var h;if(!a)return this;d=d||Mb;if("string"===typeof a){h="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:pa.exec(a);if(!h||!h[1]&&b)return!b||b.jquery?(b||d).find(a):this.constructor(b).find(a);if(h[1]){if(b=b instanceof t?b[0]:b,t.merge(this,t.parseHTML(h[1],b&&b.nodeType?b.ownerDocument||b:G,!0)),Ja.test(h[1])&&
t.isPlainObject(b))for(h in b)if(t.isFunction(this[h]))this[h](b[h]);else this.attr(h,b[h])}else if(a=G.getElementById(h[2]))this[0]=a,this.length=1;return this}return a.nodeType?(this[0]=a,this.length=1,this):t.isFunction(a)?void 0!==d.ready?d.ready(a):a(t):t.makeArray(a,this)}).prototype=t.fn;Mb=t(G);var Ga=/^(?:parents|prev(?:Until|All))/,Xb={children:!0,contents:!0,next:!0,prev:!0};t.fn.extend({has:function(a){var b=t(a,this),d=b.length;return this.filter(function(){for(var a=0;a<d;a++)if(t.contains(this,
b[a]))return!0})},closest:function(a,b){var d,h=0,c=this.length,q=[],e="string"!==typeof a&&t(a);if(!tb.test(a))for(;h<c;h++)for(d=this[h];d&&d!==b;d=d.parentNode)if(11>d.nodeType&&(e?-1<e.index(d):1===d.nodeType&&t.find.matchesSelector(d,a))){q.push(d);break}return this.pushStack(1<q.length?t.uniqueSort(q):q)},index:function(a){return a?"string"===typeof a?va.call(t(a),this[0]):va.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(t.uniqueSort(t.merge(this.get(),
t(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});t.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Ma(a,"parentNode")},parentsUntil:function(a,b,d){return Ma(a,"parentNode",d)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return Ma(a,"nextSibling")},prevAll:function(a){return Ma(a,"previousSibling")},nextUntil:function(a,b,d){return Ma(a,
"nextSibling",d)},prevUntil:function(a,b,d){return Ma(a,"previousSibling",d)},siblings:function(a){return db((a.parentNode||{}).firstChild,a)},children:function(a){return db(a.firstChild)},contents:function(a){return a.contentDocument||t.merge([],a.childNodes)}},function(a,b){t.fn[a]=function(d,h){var c=t.map(this,b,d);"Until"!==a.slice(-5)&&(h=d);h&&"string"===typeof h&&(c=t.filter(h,c));1<this.length&&(Xb[a]||t.uniqueSort(c),Ga.test(a)&&c.reverse());return this.pushStack(c)}});var za=/\S+/g;t.Callbacks=
function(a){a="string"===typeof a?n(a):t.extend({},a);var b,d,h,c,q=[],e=[],f=-1,w=function(){c=a.once;for(h=b=!0;e.length;f=-1)for(d=e.shift();++f<q.length;)!1===q[f].apply(d[0],d[1])&&a.stopOnFalse&&(f=q.length,d=!1);a.memory||(d=!1);b=!1;c&&(q=d?[]:"")},m={add:function(){q&&(d&&!b&&(f=q.length-1,e.push(d)),function Zc(b){t.each(b,function(b,d){t.isFunction(d)?a.unique&&m.has(d)||q.push(d):d&&d.length&&"string"!==t.type(d)&&Zc(d)})}(arguments),d&&!b&&w());return this},remove:function(){t.each(arguments,
function(a,b){for(var d;-1<(d=t.inArray(b,q,d));)q.splice(d,1),d<=f&&f--});return this},has:function(a){return a?-1<t.inArray(a,q):0<q.length},empty:function(){q&&(q=[]);return this},disable:function(){c=e=[];q=d="";return this},disabled:function(){return!q},lock:function(){c=e=[];d||b||(q=d="");return this},locked:function(){return!!c},fireWith:function(a,d){c||(d=d||[],d=[a,d.slice?d.slice():d],e.push(d),b||w());return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!h}};
return m};t.extend({Deferred:function(a){var d=[["notify","progress",t.Callbacks("memory"),t.Callbacks("memory"),2],["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),0,"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),1,"rejected"]],h="pending",c={state:function(){return h},always:function(){q.done(arguments).fail(arguments);return this},"catch":function(a){return c.then(null,a)},pipe:function(){var a=arguments;return t.Deferred(function(b){t.each(d,
function(d,h){var c=t.isFunction(a[h[4]])&&a[h[4]];q[h[1]](function(){var a=c&&c.apply(this,arguments);if(a&&t.isFunction(a.promise))a.promise().progress(b.notify).done(b.resolve).fail(b.reject);else b[h[0]+"With"](this,c?[a]:arguments)})});a=null}).promise()},then:function(a,h,c){function q(a,d,h,c){return function(){var w=this,m=arguments,g=function(){var b,g;if(!(a<f)){b=h.apply(w,m);if(b===d.promise())throw new TypeError("Thenable self-resolution");g=b&&("object"===typeof b||"function"===typeof b)&&
b.then;t.isFunction(g)?c?g.call(b,q(f,d,e,c),q(f,d,p,c)):(f++,g.call(b,q(f,d,e,c),q(f,d,p,c),q(f,d,e,d.notifyWith))):(h!==e&&(w=void 0,m=[b]),(c||d.resolveWith)(w,m))}},k=c?g:function(){try{g()}catch(b){t.Deferred.exceptionHook&&t.Deferred.exceptionHook(b,k.stackTrace),a+1>=f&&(h!==p&&(w=void 0,m=[b]),d.rejectWith(w,m))}};a?k():(t.Deferred.getStackHook&&(k.stackTrace=t.Deferred.getStackHook()),b.setTimeout(k))}}var f=0;return t.Deferred(function(b){d[0][3].add(q(0,b,t.isFunction(c)?c:e,b.notifyWith));
d[1][3].add(q(0,b,t.isFunction(a)?a:e));d[2][3].add(q(0,b,t.isFunction(h)?h:p))}).promise()},promise:function(a){return null!=a?t.extend(a,c):c}},q={};t.each(d,function(a,b){var e=b[2],f=b[5];c[b[1]]=e.add;f&&e.add(function(){h=f},d[3-a][2].disable,d[0][2].lock);e.add(b[3].fire);q[b[0]]=function(){q[b[0]+"With"](this===q?void 0:this,arguments);return this};q[b[0]+"With"]=e.fireWith});c.promise(q);a&&a.call(q,q);return q},when:function(a){var b=arguments.length,d=b,h=Array(d),c=E.call(arguments),q=
t.Deferred(),e=function(a){return function(d){h[a]=this;c[a]=1<arguments.length?E.call(arguments):d;--b||q.resolveWith(h,c)}};if(1>=b&&(m(a,q.done(e(d)).resolve,q.reject),"pending"===q.state()||t.isFunction(c[d]&&c[d].then)))return q.then();for(;d--;)m(c[d],e(d),q.reject);return q.promise()}});var Yb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;t.Deferred.exceptionHook=function(a,d){b.console&&b.console.warn&&a&&Yb.test(a.name)&&b.console.warn("jQuery.Deferred exception: "+a.message,a.stack,
d)};t.readyException=function(a){b.setTimeout(function(){throw a;})};var Bb=t.Deferred();t.fn.ready=function(a){Bb.then(a)["catch"](function(a){t.readyException(a)});return this};t.extend({isReady:!1,readyWait:1,holdReady:function(a){a?t.readyWait++:t.ready(!0)},ready:function(a){(!0===a?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==a&&0<--t.readyWait||Bb.resolveWith(G,[t]))}});t.ready.then=Bb.then;"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?b.setTimeout(t.ready):
(G.addEventListener("DOMContentLoaded",r),b.addEventListener("load",r));var Ta=function(a,b,d,h,c,q,e){var f=0,w=a.length,m=null==d;if("object"===t.type(d))for(f in c=!0,d)Ta(a,b,f,d[f],!0,q,e);else if(void 0!==h&&(c=!0,t.isFunction(h)||(e=!0),m&&(e?(b.call(a,h),b=null):(m=b,b=function(a,b,d){return m.call(t(a),d)})),b))for(;f<w;f++)b(a[f],d,e?h:h.call(a[f],f,b(a[f],d)));return c?a:m?b.call(a):w?b(a[0],d):q},Cb=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};s.uid=1;s.prototype={cache:function(a){var b=
a[this.expando];b||(b={},Cb(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,d){var h;a=this.cache(a);if("string"===typeof b)a[t.camelCase(b)]=d;else for(h in b)a[t.camelCase(h)]=b[h];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][t.camelCase(b)]},access:function(a,b,d){if(void 0===b||b&&"string"===typeof b&&void 0===d)return this.get(a,b);this.set(a,b,d);return void 0!==d?d:
b},remove:function(a,b){var d,h=a[this.expando];if(void 0!==h){if(void 0!==b)for(t.isArray(b)?b=b.map(t.camelCase):(b=t.camelCase(b),b=b in h?[b]:b.match(za)||[]),d=b.length;d--;)delete h[b[d]];if(void 0===b||t.isEmptyObject(h))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!t.isEmptyObject(a)}};var fa=new s,Ka=new s,hc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wa=/[A-Z]/g;t.extend({hasData:function(a){return Ka.hasData(a)||fa.hasData(a)},
data:function(a,b,d){return Ka.access(a,b,d)},removeData:function(a,b){Ka.remove(a,b)},_data:function(a,b,d){return fa.access(a,b,d)},_removeData:function(a,b){fa.remove(a,b)}});t.fn.extend({data:function(a,b){var d,h,c,q=this[0],e=q&&q.attributes;if(void 0===a){if(this.length&&(c=Ka.get(q),1===q.nodeType&&!fa.get(q,"hasDataAttrs"))){for(d=e.length;d--;)e[d]&&(h=e[d].name,0===h.indexOf("data-")&&(h=t.camelCase(h.slice(5)),v(q,h,c[h])));fa.set(q,"hasDataAttrs",!0)}return c}return"object"===typeof a?
this.each(function(){Ka.set(this,a)}):Ta(this,function(b){var d;if(q&&void 0===b){d=Ka.get(q,a);if(void 0!==d)return d;d=v(q,a);if(void 0!==d)return d}else this.each(function(){Ka.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Ka.remove(this,a)})}});t.extend({queue:function(a,b,d){var h;if(a)return b=(b||"fx")+"queue",h=fa.get(a,b),d&&(!h||t.isArray(d)?h=fa.access(a,b,t.makeArray(d)):h.push(d)),h||[]},dequeue:function(a,b){b=b||"fx";var d=t.queue(a,
b),h=d.length,c=d.shift(),q=t._queueHooks(a,b),e=function(){t.dequeue(a,b)};"inprogress"===c&&(c=d.shift(),h--);c&&("fx"===b&&d.unshift("inprogress"),delete q.stop,c.call(a,e,q));!h&&q&&q.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return fa.get(a,d)||fa.access(a,d,{empty:t.Callbacks("once memory").add(function(){fa.remove(a,[b+"queue",d])})})}});t.fn.extend({queue:function(a,b){var d=2;"string"!==typeof a&&(b=a,a="fx",d--);return arguments.length<d?t.queue(this[0],a):void 0===b?
this:this.each(function(){var d=t.queue(this,a,b);t._queueHooks(this,a);"fx"===a&&"inprogress"!==d[0]&&t.dequeue(this,a)})},dequeue:function(a){return this.each(function(){t.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,h=1,c=t.Deferred(),q=this,e=this.length,f=function(){--h||c.resolveWith(q,[q])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";e--;)(d=fa.get(q[e],a+"queueHooks"))&&d.empty&&(h++,d.empty.add(f));f();return c.promise(b)}});var eb=
/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,bb=RegExp("^(?:([+-])=|)("+eb+")([a-z%]*)$","i"),kb=["Top","Right","Bottom","Left"],Ca=function(a,b){a=b||a;return"none"===a.style.display||""===a.style.display&&t.contains(a.ownerDocument,a)&&"none"===t.css(a,"display")},mb=function(a,b,d,h){var c,q={};for(c in b)q[c]=a.style[c],a.style[c]=b[c];d=d.apply(a,h||[]);for(c in b)a.style[c]=q[c];return d},yb={};t.fn.extend({show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(a){return"boolean"===
typeof a?a?this.show():this.hide():this.each(function(){Ca(this)?t(this).show():t(this).hide()})}});var Nb=/^(?:checkbox|radio)$/i,ic=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,jc=/^$|\/(?:java|ecma)script/i,La={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};La.optgroup=La.option;La.tbody=La.tfoot=La.colgroup=
La.caption=La.thead;La.th=La.td;var cb=/<|&#?\w+;/;(function(){var a=G.createDocumentFragment().appendChild(G.createElement("div")),b=G.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);la.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";la.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();var Db=G.documentElement,oc=/^key/,Ua=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,
Zb=/^([^.]*)(?:\.(.+)|)/;t.event={global:{},add:function(a,b,d,h,c){var q,e,f,w,m,g,k,p,n;if(m=fa.get(a))for(d.handler&&(q=d,d=q.handler,c=q.selector),c&&t.find.matchesSelector(Db,c),d.guid||(d.guid=t.guid++),(w=m.events)||(w=m.events={}),(e=m.handle)||(e=m.handle=function(b){return"undefined"!==typeof t&&t.event.triggered!==b.type?t.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(za)||[""],m=b.length;m--;)f=Zb.exec(b[m])||[],p=g=f[1],n=(f[2]||"").split(".").sort(),p&&(f=t.event.special[p]||
{},p=(c?f.delegateType:f.bindType)||p,f=t.event.special[p]||{},g=t.extend({type:p,origType:g,data:h,handler:d,guid:d.guid,selector:c,needsContext:c&&t.expr.match.needsContext.test(c),namespace:n.join(".")},q),(k=w[p])||(k=w[p]=[],k.delegateCount=0,f.setup&&!1!==f.setup.call(a,h,n,e)||a.addEventListener&&a.addEventListener(p,e)),f.add&&(f.add.call(a,g),g.handler.guid||(g.handler.guid=d.guid)),c?k.splice(k.delegateCount++,0,g):k.push(g),t.event.global[p]=!0)},remove:function(a,b,d,h,c){var q,e,f,w,
m,g,k,p,n,B,x,r=fa.hasData(a)&&fa.get(a);if(r&&(w=r.events)){b=(b||"").match(za)||[""];for(m=b.length;m--;)if(f=Zb.exec(b[m])||[],n=x=f[1],B=(f[2]||"").split(".").sort(),n){k=t.event.special[n]||{};n=(h?k.delegateType:k.bindType)||n;p=w[n]||[];f=f[2]&&RegExp("(^|\\.)"+B.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=q=p.length;q--;)g=p[q],!c&&x!==g.origType||d&&d.guid!==g.guid||f&&!f.test(g.namespace)||h&&!(h===g.selector||"**"===h&&g.selector)||(p.splice(q,1),g.selector&&p.delegateCount--,k.remove&&k.remove.call(a,
g));e&&!p.length&&(k.teardown&&!1!==k.teardown.call(a,B,r.handle)||t.removeEvent(a,n,r.handle),delete w[n])}else for(n in w)t.event.remove(a,n+b[m],d,h,!0);t.isEmptyObject(w)&&fa.remove(a,"handle events")}},dispatch:function(a){var b=t.event.fix(a),d,h,c,q,e,f=Array(arguments.length);h=(fa.get(this,"events")||{})[b.type]||[];var w=t.event.special[b.type]||{};f[0]=b;for(d=1;d<arguments.length;d++)f[d]=arguments[d];b.delegateTarget=this;if(!w.preDispatch||!1!==w.preDispatch.call(this,b)){e=t.event.handlers.call(this,
b,h);for(d=0;(q=e[d++])&&!b.isPropagationStopped();)for(b.currentTarget=q.elem,h=0;(c=q.handlers[h++])&&!b.isImmediatePropagationStopped();)if(!b.rnamespace||b.rnamespace.test(c.namespace))b.handleObj=c,b.data=c.data,c=((t.event.special[c.origType]||{}).handle||c.handler).apply(q.elem,f),void 0!==c&&!1===(b.result=c)&&(b.preventDefault(),b.stopPropagation());w.postDispatch&&w.postDispatch.call(this,b);return b.result}},handlers:function(a,b){var d,h,c,q,e=[],f=b.delegateCount,w=a.target;if(f&&w.nodeType&&
("click"!==a.type||isNaN(a.button)||1>a.button))for(;w!==this;w=w.parentNode||this)if(1===w.nodeType&&(!0!==w.disabled||"click"!==a.type)){h=[];for(d=0;d<f;d++)q=b[d],c=q.selector+" ",void 0===h[c]&&(h[c]=q.needsContext?-1<t(c,this).index(w):t.find(c,this,null,[w]).length),h[c]&&h.push(q);h.length&&e.push({elem:w,handlers:h})}f<b.length&&e.push({elem:this,handlers:b.slice(f)});return e},addProp:function(a,b){Object.defineProperty(t.Event.prototype,a,{enumerable:!0,configurable:!0,get:t.isFunction(b)?
function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[t.expando]?a:new t.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==B()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===B()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&t.nodeName(this,"input"))return this.click(),!1},_default:function(a){return t.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};t.removeEvent=function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d)};t.Event=function(a,b){if(!(this instanceof t.Event))return new t.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=
a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?q:w,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;b&&t.extend(this,b);this.timeStamp=a&&a.timeStamp||t.now();this[t.expando]=!0};t.Event.prototype={constructor:t.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=
q;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=q;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=q;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&oc.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Ua.test(a.type)?b&1?1:b&2?3:b&4?2:0:a.which}},t.event.addProp);t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){t.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var d,h=a.relatedTarget,c=a.handleObj;if(!h||h!==this&&!t.contains(this,h))a.type=c.origType,d=c.handler.apply(this,arguments),a.type=b;return d}}});t.fn.extend({on:function(a,b,d,h){return y(this,a,b,d,h)},one:function(a,b,d,h){return y(this,a,b,d,h,1)},off:function(a,b,d){var h;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,t(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"===typeof a){for(h in a)this.off(h,
b,a[h]);return this}if(!1===b||"function"===typeof b)d=b,b=void 0;!1===d&&(d=w);return this.each(function(){t.event.remove(this,a,d,b)})}});var ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nb=/<script|<style|<link/i,Dc=/checked\s*(?:[^=]|=\s*.checked.)/i,zb=/^true\/(.*)/,Ec=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;t.extend({htmlPrefilter:function(a){return a.replace(ya,"<$1></$2>")},clone:function(b,h,c){var q,e,f,w,m=b.cloneNode(!0),g=t.contains(b.ownerDocument,
b);if(!(la.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||t.isXMLDoc(b)))for(w=a(m),f=a(b),q=0,e=f.length;q<e;q++){var k=f[q],p=w[q],n=p.nodeName.toLowerCase();if("input"===n&&Nb.test(k.type))p.checked=k.checked;else if("input"===n||"textarea"===n)p.defaultValue=k.defaultValue}if(h)if(c)for(f=f||a(b),w=w||a(m),q=0,e=f.length;q<e;q++)ca(f[q],w[q]);else ca(b,m);w=a(m,"script");0<w.length&&d(w,!g&&a(b,"script"));return m},cleanData:function(a){for(var b,d,h,c=t.event.special,q=0;void 0!==(d=a[q]);q++)if(Cb(d)){if(b=
d[fa.expando]){if(b.events)for(h in b.events)c[h]?t.event.remove(d,h):t.removeEvent(d,h,b.handle);d[fa.expando]=void 0}d[Ka.expando]&&(d[Ka.expando]=void 0)}}});t.fn.extend({detach:function(a){return V(this,a,!0)},remove:function(a){return V(this,a)},text:function(a){return Ta(this,function(a){return void 0===a?t.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return R(this,arguments,
function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||P(this,a).appendChild(a)})},prepend:function(){return R(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=P(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return R(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return R(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var b,
d=0;null!=(b=this[d]);d++)1===b.nodeType&&(t.cleanData(a(b,!1)),b.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return t.clone(this,a,b)})},html:function(b){return Ta(this,function(b){var d=this[0]||{},h=0,c=this.length;if(void 0===b&&1===d.nodeType)return d.innerHTML;if("string"===typeof b&&!nb.test(b)&&!La[(ic.exec(b)||["",""])[1].toLowerCase()]){b=t.htmlPrefilter(b);try{for(;h<c;h++)d=this[h]||{},1===d.nodeType&&(t.cleanData(a(d,!1)),d.innerHTML=
b);d=0}catch(q){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=[];return R(this,arguments,function(d){var h=this.parentNode;0>t.inArray(this,b)&&(t.cleanData(a(this)),h&&h.replaceChild(d,this))},b)}});t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){t.fn[a]=function(a){for(var d=[],h=t(a),c=h.length-1,q=0;q<=c;q++)a=q===c?this:this.clone(!0),t(h[q])[b](a),M.apply(d,a.get());return this.pushStack(d)}});
var $c=/^margin/,Fc=RegExp("^("+eb+")(?!px)[a-z%]+$","i"),Lb=function(a){var d=a.ownerDocument.defaultView;d&&d.opener||(d=b);return d.getComputedStyle(a)};(function(){function a(){if(f){f.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";f.innerHTML="";Db.appendChild(e);var w=b.getComputedStyle(f);d="1%"!==w.top;q="2px"===w.marginLeft;h="4px"===w.width;f.style.marginRight="50%";c="4px"===w.marginRight;Db.removeChild(e);f=null}}
var d,h,c,q,e=G.createElement("div"),f=G.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",la.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(f),t.extend(la,{pixelPosition:function(){a();return d},boxSizingReliable:function(){a();return h},pixelMarginRight:function(){a();return c},reliableMarginLeft:function(){a();
return q}}))})();var hd=/^(none|table(?!-c[ea]).+)/,pc={position:"absolute",visibility:"hidden",display:"block"},qc={letterSpacing:"0",fontWeight:"400"},Gc=["Webkit","Moz","ms"],ad=G.createElement("div").style;t.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=Y(a,"opacity");return""===d?"1":d}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},
style:function(a,b,d,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var c,q,e,f=t.camelCase(b),w=a.style;b=t.cssProps[f]||(t.cssProps[f]=U(f)||f);e=t.cssHooks[b]||t.cssHooks[f];if(void 0!==d)q=typeof d,"string"===q&&(c=bb.exec(d))&&c[1]&&(d=u(a,b,c),q="number"),null!=d&&d===d&&("number"===q&&(d+=c&&c[3]||(t.cssNumber[f]?"":"px")),la.clearCloneStyle||""!==d||0!==b.indexOf("background")||(w[b]="inherit"),e&&"set"in e&&void 0===(d=e.set(a,d,h))||(w[b]=d));else return e&&"get"in e&&void 0!==(c=e.get(a,
!1,h))?c:w[b]}},css:function(a,b,d,h){var c,q;q=t.camelCase(b);b=t.cssProps[q]||(t.cssProps[q]=U(q)||q);(q=t.cssHooks[b]||t.cssHooks[q])&&"get"in q&&(c=q.get(a,!0,d));void 0===c&&(c=Y(a,b,h));"normal"===c&&b in qc&&(c=qc[b]);return""===d||d?(a=parseFloat(c),!0===d||isFinite(a)?a||0:c):c}});t.each(["height","width"],function(a,b){t.cssHooks[b]={get:function(a,d,h){if(d)return!hd.test(t.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?D(a,b,h):mb(a,pc,function(){return D(a,
b,h)})},set:function(a,d,h){var c,q=h&&Lb(a);(h=h&&x(a,b,h,"border-box"===t.css(a,"boxSizing",!1,q),q))&&(c=bb.exec(d))&&"px"!==(c[3]||"px")&&(a.style[b]=d,d=t.css(a,b));return H(a,d,h)}}});t.cssHooks.marginLeft=J(la.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Y(a,"marginLeft"))||a.getBoundingClientRect().left-mb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});t.each({margin:"",padding:"",border:"Width"},function(a,b){t.cssHooks[a+b]={expand:function(d){var h=
0,c={};for(d="string"===typeof d?d.split(" "):[d];4>h;h++)c[a+kb[h]+b]=d[h]||d[h-2]||d[0];return c}};$c.test(a)||(t.cssHooks[a+b].set=H)});t.fn.extend({css:function(a,b){return Ta(this,function(a,b,d){var h,c={},q=0;if(t.isArray(b)){d=Lb(a);for(h=b.length;q<h;q++)c[b[q]]=t.css(a,b[q],!1,d);return c}return void 0!==d?t.style(a,b,d):t.css(a,b)},a,b,1<arguments.length)}});t.Tween=K;K.prototype={constructor:K,init:function(a,b,d,h,c,q){this.elem=a;this.prop=d;this.easing=c||t.easing._default;this.options=
b;this.start=this.now=this.cur();this.end=h;this.unit=q||(t.cssNumber[d]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,d=K.propHooks[this.prop];this.pos=this.options.duration?b=t.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);d&&d.set?d.set(this):K.propHooks._default.set(this);
return this}};K.prototype.init.prototype=K.prototype;K.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=t.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(t.fx.step[a.prop])t.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[t.cssProps[a.prop]]&&!t.cssHooks[a.prop]?a.elem[a.prop]=a.now:t.style(a.elem,a.prop,a.now+a.unit)}}};K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};t.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},_default:"swing"};t.fx=K.prototype.init;t.fx.step={};var Sa,lb,Ob=/^(?:toggle|show|hide)$/,Pc=/queueHooks$/;t.Animation=t.extend(ua,{tweeners:{"*":[function(a,b){var d=this.createTween(a,b);u(d.elem,a,bb.exec(b),d);return d}]},tweener:function(a,b){t.isFunction(a)?(b=a,a=["*"]):a=a.match(za);for(var d,h=0,c=a.length;h<c;h++)d=a[h],ua.tweeners[d]=ua.tweeners[d]||[],
ua.tweeners[d].unshift(b)},prefilters:[function(a,b,d){var h,c,q,e,f,w,m;m="width"in b||"height"in b;var g=this,k={},p=a.style,n=a.nodeType&&Ca(a),B=fa.get(a,"fxshow");d.queue||(e=t._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,f=e.empty.fire,e.empty.fire=function(){e.unqueued||f()}),e.unqueued++,g.always(function(){g.always(function(){e.unqueued--;t.queue(a,"fx").length||e.empty.fire()})}));for(h in b)if(c=b[h],Ob.test(c)){delete b[h];q=q||"toggle"===c;if(c===(n?"hide":"show"))if("show"===
c&&B&&void 0!==B[h])n=!0;else continue;k[h]=B&&B[h]||t.style(a,h)}if((b=!t.isEmptyObject(b))||!t.isEmptyObject(k))for(h in m&&1===a.nodeType&&(d.overflow=[p.overflow,p.overflowX,p.overflowY],w=B&&B.display,null==w&&(w=fa.get(a,"display")),m=t.css(a,"display"),"none"===m&&(w?m=w:(A([a],!0),w=a.style.display||w,m=t.css(a,"display"),A([a]))),("inline"===m||"inline-block"===m&&null!=w)&&"none"===t.css(a,"float")&&(b||(g.done(function(){p.display=w}),null==w&&(m=p.display,w="none"===m?"":m)),p.display=
"inline-block")),d.overflow&&(p.overflow="hidden",g.always(function(){p.overflow=d.overflow[0];p.overflowX=d.overflow[1];p.overflowY=d.overflow[2]})),b=!1,k)b||(B?"hidden"in B&&(n=B.hidden):B=fa.access(a,"fxshow",{display:w}),q&&(B.hidden=!n),n&&A([a],!0),g.done(function(){n||A([a]);fa.remove(a,"fxshow");for(h in k)t.style(a,h,k[h])})),b=ha(n?B[h]:0,h,g),h in B||(B[h]=b.start,n&&(b.end=b.start,b.start=0))}],prefilter:function(a,b){b?ua.prefilters.unshift(a):ua.prefilters.push(a)}});t.speed=function(a,
b,d){var h=a&&"object"===typeof a?t.extend({},a):{complete:d||!d&&b||t.isFunction(a)&&a,duration:a,easing:d&&b||b&&!t.isFunction(b)&&b};h.duration=t.fx.off||G.hidden?0:"number"===typeof h.duration?h.duration:h.duration in t.fx.speeds?t.fx.speeds[h.duration]:t.fx.speeds._default;if(null==h.queue||!0===h.queue)h.queue="fx";h.old=h.complete;h.complete=function(){t.isFunction(h.old)&&h.old.call(this);h.queue&&t.dequeue(this,h.queue)};return h};t.fn.extend({fadeTo:function(a,b,d,h){return this.filter(Ca).css("opacity",
0).show().end().animate({opacity:b},a,d,h)},animate:function(a,b,d,h){var c=t.isEmptyObject(a),q=t.speed(b,d,h);b=function(){var b=ua(this,t.extend({},a),q);(c||fa.get(this,"finish"))&&b.stop(!0)};b.finish=b;return c||!1===q.queue?this.each(b):this.queue(q.queue,b)},stop:function(a,b,d){var h=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",q=t.timers,e=fa.get(this);
if(c)e[c]&&e[c].stop&&h(e[c]);else for(c in e)e[c]&&e[c].stop&&Pc.test(c)&&h(e[c]);for(c=q.length;c--;)q[c].elem!==this||null!=a&&q[c].queue!==a||(q[c].anim.stop(d),b=!1,q.splice(c,1));!b&&d||t.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,d=fa.get(this),h=d[a+"queue"];b=d[a+"queueHooks"];var c=t.timers,q=h?h.length:0;d.finish=!0;t.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=c.length;b--;)c[b].elem===this&&c[b].queue===a&&(c[b].anim.stop(!0),
c.splice(b,1));for(b=0;b<q;b++)h[b]&&h[b].finish&&h[b].finish.call(this);delete d.finish})}});t.each(["toggle","show","hide"],function(a,b){var d=t.fn[b];t.fn[b]=function(a,h,c){return null==a||"boolean"===typeof a?d.apply(this,arguments):this.animate(Q(b,!0),a,h,c)}});t.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){t.fn[a]=function(a,d,h){return this.animate(b,a,d,h)}});t.timers=[];
t.fx.tick=function(){var a,b=0,d=t.timers;for(Sa=t.now();b<d.length;b++)a=d[b],a()||d[b]!==a||d.splice(b--,1);d.length||t.fx.stop();Sa=void 0};t.fx.timer=function(a){t.timers.push(a);a()?t.fx.start():t.timers.pop()};t.fx.interval=13;t.fx.start=function(){lb||(lb=b.requestAnimationFrame?b.requestAnimationFrame(F):b.setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=function(){b.cancelAnimationFrame?b.cancelAnimationFrame(lb):b.clearInterval(lb);lb=null};t.fx.speeds={slow:600,fast:200,_default:400};t.fn.delay=
function(a,d){a=t.fx?t.fx.speeds[a]||a:a;return this.queue(d||"fx",function(d,h){var c=b.setTimeout(d,a);h.stop=function(){b.clearTimeout(c)}})};(function(){var a=G.createElement("input"),b=G.createElement("select").appendChild(G.createElement("option"));a.type="checkbox";la.checkOn=""!==a.value;la.optSelected=b.selected;a=G.createElement("input");a.value="t";a.type="radio";la.radioValue="t"===a.value})();var $b,ub=t.expr.attrHandle;t.fn.extend({attr:function(a,b){return Ta(this,t.attr,a,b,1<arguments.length)},
removeAttr:function(a){return this.each(function(){t.removeAttr(this,a)})}});t.extend({attr:function(a,b,d){var h,c,q=a.nodeType;if(3!==q&&8!==q&&2!==q){if("undefined"===typeof a.getAttribute)return t.prop(a,b,d);1===q&&t.isXMLDoc(a)||(c=t.attrHooks[b.toLowerCase()]||(t.expr.match.bool.test(b)?$b:void 0));if(void 0!==d){if(null===d){t.removeAttr(a,b);return}if(c&&"set"in c&&void 0!==(h=c.set(a,d,b)))return h;a.setAttribute(b,d+"");return d}if(c&&"get"in c&&null!==(h=c.get(a,b)))return h;h=t.find.attr(a,
b);return null==h?void 0:h}},attrHooks:{type:{set:function(a,b){if(!la.radioValue&&"radio"===b&&t.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}}},removeAttr:function(a,b){var d,h=0,c=b&&b.match(za);if(c&&1===a.nodeType)for(;d=c[h++];)a.removeAttribute(d)}});$b={set:function(a,b,d){!1===b?t.removeAttr(a,d):a.setAttribute(d,d);return d}};t.each(t.expr.match.bool.source.match(/\w+/g),function(a,b){var d=ub[b]||t.find.attr;ub[b]=function(a,b,h){var c,q,e=b.toLowerCase();
h||(q=ub[e],ub[e]=c,c=null!=d(a,b,h)?e:null,ub[e]=q);return c}});var rc=/^(?:input|select|textarea|button)$/i,sc=/^(?:a|area)$/i;t.fn.extend({prop:function(a,b){return Ta(this,t.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[t.propFix[a]||a]})}});t.extend({prop:function(a,b,d){var h,c,q=a.nodeType;if(3!==q&&8!==q&&2!==q)return 1===q&&t.isXMLDoc(a)||(b=t.propFix[b]||b,c=t.propHooks[b]),void 0!==d?c&&"set"in c&&void 0!==(h=c.set(a,d,b))?h:a[b]=d:c&&"get"in
c&&null!==(h=c.get(a,b))?h:a[b]},propHooks:{tabIndex:{get:function(a){var b=t.find.attr(a,"tabindex");return b?parseInt(b,10):rc.test(a.nodeName)||sc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});la.optSelected||(t.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){t.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;t.fn.extend({addClass:function(a){var b,d,h,c,q,e,f=0;if(t.isFunction(a))return this.each(function(b){t(this).addClass(a.call(this,b,qa(this)))});if("string"===typeof a&&a)for(b=a.match(za)||[];d=this[f++];)if(c=qa(d),h=1===d.nodeType&&(" "+c+" ").replace(ac," ")){for(e=0;q=b[e++];)0>h.indexOf(" "+q+" ")&&(h+=q+" ");h=t.trim(h);c!==h&&d.setAttribute("class",h)}return this},removeClass:function(a){var b,d,h,c,q,e,f=0;if(t.isFunction(a))return this.each(function(b){t(this).removeClass(a.call(this,
b,qa(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(za)||[];d=this[f++];)if(c=qa(d),h=1===d.nodeType&&(" "+c+" ").replace(ac," ")){for(e=0;q=b[e++];)for(;-1<h.indexOf(" "+q+" ");)h=h.replace(" "+q+" "," ");h=t.trim(h);c!==h&&d.setAttribute("class",h)}return this},toggleClass:function(a,b){var d=typeof a;return"boolean"===typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):t.isFunction(a)?this.each(function(d){t(this).toggleClass(a.call(this,
d,qa(this),b),b)}):this.each(function(){var b,h,c,q;if("string"===d)for(h=0,c=t(this),q=a.match(za)||[];b=q[h++];)c.hasClass(b)?c.removeClass(b):c.addClass(b);else if(void 0===a||"boolean"===d)(b=qa(this))&&fa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":fa.get(this,"__className__")||"")})},hasClass:function(a){var b,d=0;for(a=" "+a+" ";b=this[d++];)if(1===b.nodeType&&-1<(" "+qa(b)+" ").replace(ac," ").indexOf(a))return!0;return!1}});var bc=/\r/g,id=/[\x20\t\r\n\f]+/g;
t.fn.extend({val:function(a){var b,d,h,c=this[0];if(arguments.length)return h=t.isFunction(a),this.each(function(d){1===this.nodeType&&(d=h?a.call(this,d,t(this).val()):a,null==d?d="":"number"===typeof d?d+="":t.isArray(d)&&(d=t.map(d,function(a){return null==a?"":a+""})),b=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,d,"value")||(this.value=d))});if(c){if((b=t.valHooks[c.type]||t.valHooks[c.nodeName.toLowerCase()])&&"get"in b&&void 0!==(d=b.get(c,
"value")))return d;d=c.value;return"string"===typeof d?d.replace(bc,""):null==d?"":d}}});t.extend({valHooks:{option:{get:function(a){var b=t.find.attr(a,"value");return null!=b?b:t.trim(t.text(a)).replace(id," ")}},select:{get:function(a){for(var b,d=a.options,h=a.selectedIndex,c=(a="select-one"===a.type)?null:[],q=a?h+1:d.length,e=0>h?q:a?h:0;e<q;e++)if(b=d[e],!(!b.selected&&e!==h||b.disabled||b.parentNode.disabled&&t.nodeName(b.parentNode,"optgroup"))){b=t(b).val();if(a)return b;c.push(b)}return c},
set:function(a,b){for(var d,h,c=a.options,q=t.makeArray(b),e=c.length;e--;)if(h=c[e],h.selected=-1<t.inArray(t.valHooks.option.get(h),q))d=!0;d||(a.selectedIndex=-1);return q}}}});t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(a,b){if(t.isArray(b))return a.checked=-1<t.inArray(t(a).val(),b)}};la.checkOn||(t.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Qc=/^(?:focusinfocus|focusoutblur)$/;t.extend(t.event,{trigger:function(a,d,h,c){var q,
e,f,w,m,g,k=[h||G],p=Z.call(a,"type")?a.type:a;g=Z.call(a,"namespace")?a.namespace.split("."):[];e=q=h=h||G;if(3!==h.nodeType&&8!==h.nodeType&&!Qc.test(p+t.event.triggered)&&(-1<p.indexOf(".")&&(g=p.split("."),p=g.shift(),g.sort()),w=0>p.indexOf(":")&&"on"+p,a=a[t.expando]?a:new t.Event(p,"object"===typeof a&&a),a.isTrigger=c?2:3,a.namespace=g.join("."),a.rnamespace=a.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=h),d=null==d?[a]:t.makeArray(d,
[a]),g=t.event.special[p]||{},c||!g.trigger||!1!==g.trigger.apply(h,d))){if(!c&&!g.noBubble&&!t.isWindow(h)){f=g.delegateType||p;Qc.test(f+p)||(e=e.parentNode);for(;e;e=e.parentNode)k.push(e),q=e;q===(h.ownerDocument||G)&&k.push(q.defaultView||q.parentWindow||b)}for(q=0;(e=k[q++])&&!a.isPropagationStopped();)a.type=1<q?f:g.bindType||p,(m=(fa.get(e,"events")||{})[a.type]&&fa.get(e,"handle"))&&m.apply(e,d),(m=w&&e[w])&&m.apply&&Cb(e)&&(a.result=m.apply(e,d),!1===a.result&&a.preventDefault());a.type=
p;c||a.isDefaultPrevented()||g._default&&!1!==g._default.apply(k.pop(),d)||!Cb(h)||!w||!t.isFunction(h[p])||t.isWindow(h)||((q=h[w])&&(h[w]=null),t.event.triggered=p,h[p](),t.event.triggered=void 0,q&&(h[w]=q));return a.result}},simulate:function(a,b,d){a=t.extend(new t.Event,d,{type:a,isSimulated:!0});t.event.trigger(a,null,b)}});t.fn.extend({trigger:function(a,b){return this.each(function(){t.event.trigger(a,b,this)})},triggerHandler:function(a,b){var d=this[0];if(d)return t.event.trigger(a,b,d,
!0)}});t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){t.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});t.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});la.focusin="onfocusin"in b;la.focusin||t.each({focus:"focusin",blur:"focusout"},function(a,b){var d=function(a){t.event.simulate(b,
a.target,t.event.fix(a))};t.event.special[b]={setup:function(){var h=this.ownerDocument||this,c=fa.access(h,b);c||h.addEventListener(a,d,!0);fa.access(h,b,(c||0)+1)},teardown:function(){var h=this.ownerDocument||this,c=fa.access(h,b)-1;c?fa.access(h,b,c):(h.removeEventListener(a,d,!0),fa.remove(h,b))}}});var cc=b.location,Rc=t.now(),vb=/\?/;t.parseXML=function(a){var d;if(!a||"string"!==typeof a)return null;try{d=(new b.DOMParser).parseFromString(a,"text/xml")}catch(h){d=void 0}d&&!d.getElementsByTagName("parsererror").length||
t.error("Invalid XML: "+a);return d};var bd=/\[\]$/,Sc=/\r?\n/g,tc=/^(?:submit|button|image|reset|file)$/i,jd=/^(?:input|select|textarea|keygen)/i;t.param=function(a,b){var d,h=[],c=function(a,b){var d=t.isFunction(b)?b():b;h[h.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==d?"":d)};if(t.isArray(a)||a.jquery&&!t.isPlainObject(a))t.each(a,function(){c(this.name,this.value)});else for(d in a)I(d,a[d],b,c);return h.join("&")};t.fn.extend({serialize:function(){return t.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=t.prop(this,"elements");return a?t.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!t(this).is(":disabled")&&jd.test(this.nodeName)&&!tc.test(a)&&(this.checked||!Nb.test(a))}).map(function(a,b){var d=t(this).val();return null==d?null:t.isArray(d)?t.map(d,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:d.replace(Sc,"\r\n")}}).get()}});var ie=/%20/g,kd=/#.*$/,je=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/mg,
ld=/^(?:GET|HEAD)$/,md=/^\/\//,uc={},kc={},nd="*/".concat("*"),Tc=G.createElement("a");Tc.href=cc.href;t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(cc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,
html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ja(ja(a,t.ajaxSettings),b):ja(t.ajaxSettings,a)},ajaxPrefilter:C(uc),ajaxTransport:C(kc),ajax:function(a,d){function h(a,d,f,m){var p,F,s,H;H=d;if(!g){g=!0;w&&b.clearTimeout(w);c=void 0;e=m||"";u.readyState=0<a?4:0;m=200<=a&&300>a||304===a;
if(f){s=n;for(var v=u,D,P,O,U,A=s.contents,Y=s.dataTypes;"*"===Y[0];)Y.shift(),void 0===D&&(D=s.mimeType||v.getResponseHeader("Content-Type"));if(D)for(P in A)if(A[P]&&A[P].test(D)){Y.unshift(P);break}if(Y[0]in f)O=Y[0];else{for(P in f){if(!Y[0]||s.converters[P+" "+Y[0]]){O=P;break}U||(U=P)}O=O||U}O?(O!==Y[0]&&Y.unshift(O),s=f[O]):s=void 0}a:{f=n;D=s;P=u;O=m;var K,J,L,v={},A=f.dataTypes.slice();if(A[1])for(J in f.converters)v[J.toLowerCase()]=f.converters[J];for(U=A.shift();U;)if(f.responseFields[U]&&
(P[f.responseFields[U]]=D),!L&&O&&f.dataFilter&&(D=f.dataFilter(D,f.dataType)),L=U,U=A.shift())if("*"===U)U=L;else if("*"!==L&&L!==U){J=v[L+" "+U]||v["* "+U];if(!J)for(K in v)if(s=K.split(" "),s[1]===U&&(J=v[L+" "+s[0]]||v["* "+s[0]])){!0===J?J=v[K]:!0!==v[K]&&(U=s[0],A.unshift(s[1]));break}if(!0!==J)if(J&&f["throws"])D=J(D);else try{D=J(D)}catch(xa){s={state:"parsererror",error:J?xa:"No conversion from "+L+" to "+U};break a}}s={state:"success",data:D}}if(m)n.ifModified&&((H=u.getResponseHeader("Last-Modified"))&&
(t.lastModified[q]=H),(H=u.getResponseHeader("etag"))&&(t.etag[q]=H)),204===a||"HEAD"===n.type?H="nocontent":304===a?H="notmodified":(H=s.state,p=s.data,F=s.error,m=!F);else if(F=H,a||!H)H="error",0>a&&(a=0);u.status=a;u.statusText=(d||H)+"";m?r.resolveWith(B,[p,H,u]):r.rejectWith(B,[u,H,F]);u.statusCode(l);l=void 0;k&&x.trigger(m?"ajaxSuccess":"ajaxError",[u,n,m?p:F]);y.fireWith(B,[u,H]);k&&(x.trigger("ajaxComplete",[u,n]),--t.active||t.event.trigger("ajaxStop"))}}"object"===typeof a&&(d=a,a=void 0);
d=d||{};var c,q,e,f,w,m,g,k,p,n=t.ajaxSetup({},d),B=n.context||n,x=n.context&&(B.nodeType||B.jquery)?t(B):t.event,r=t.Deferred(),y=t.Callbacks("once memory"),l=n.statusCode||{},F={},s={},H="canceled",u={readyState:0,getResponseHeader:function(a){var b;if(g){if(!f)for(f={};b=ke.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return g?e:null},setRequestHeader:function(a,b){null==g&&(a=s[a.toLowerCase()]=s[a.toLowerCase()]||a,F[a]=b);return this},
overrideMimeType:function(a){null==g&&(n.mimeType=a);return this},statusCode:function(a){var b;if(a)if(g)u.always(a[u.status]);else for(b in a)l[b]=[l[b],a[b]];return this},abort:function(a){a=a||H;c&&c.abort(a);h(0,a);return this}};r.promise(u);n.url=((a||n.url||cc.href)+"").replace(md,cc.protocol+"//");n.type=d.method||d.type||n.method||n.type;n.dataTypes=(n.dataType||"*").toLowerCase().match(za)||[""];if(null==n.crossDomain){m=G.createElement("a");try{m.href=n.url,m.href=m.href,n.crossDomain=Tc.protocol+
"//"+Tc.host!==m.protocol+"//"+m.host}catch(v){n.crossDomain=!0}}n.data&&n.processData&&"string"!==typeof n.data&&(n.data=t.param(n.data,n.traditional));X(uc,n,d,u);if(g)return u;(k=t.event&&n.global)&&0===t.active++&&t.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!ld.test(n.type);q=n.url.replace(kd,"");n.hasContent?n.data&&n.processData&&0===(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&(n.data=n.data.replace(ie,"+")):(m=n.url.slice(q.length),n.data&&(q+=
(vb.test(q)?"&":"?")+n.data,delete n.data),!1===n.cache&&(q=q.replace(je,""),m=(vb.test(q)?"&":"?")+"_="+Rc++ +m),n.url=q+m);n.ifModified&&(t.lastModified[q]&&u.setRequestHeader("If-Modified-Since",t.lastModified[q]),t.etag[q]&&u.setRequestHeader("If-None-Match",t.etag[q]));(n.data&&n.hasContent&&!1!==n.contentType||d.contentType)&&u.setRequestHeader("Content-Type",n.contentType);u.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?
", "+nd+"; q=0.01":""):n.accepts["*"]);for(p in n.headers)u.setRequestHeader(p,n.headers[p]);if(n.beforeSend&&(!1===n.beforeSend.call(B,u,n)||g))return u.abort();H="abort";y.add(n.complete);u.done(n.success);u.fail(n.error);if(c=X(kc,n,d,u)){u.readyState=1;k&&x.trigger("ajaxSend",[u,n]);if(g)return u;n.async&&0<n.timeout&&(w=b.setTimeout(function(){u.abort("timeout")},n.timeout));try{g=!1,c.send(F,h)}catch(D){if(g)throw D;h(-1,D)}}else h(-1,"No Transport");return u},getJSON:function(a,b,d){return t.get(a,
b,d,"json")},getScript:function(a,b){return t.get(a,void 0,b,"script")}});t.each(["get","post"],function(a,b){t[b]=function(a,d,h,c){t.isFunction(d)&&(c=c||h,h=d,d=void 0);return t.ajax(t.extend({url:a,type:b,dataType:c,data:d,success:h},t.isPlainObject(a)&&a))}});t._evalUrl=function(a){return t.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};t.fn.extend({wrapAll:function(a){this[0]&&(t.isFunction(a)&&(a=a.call(this[0])),a=t(a,this[0].ownerDocument).eq(0).clone(!0),
this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return t.isFunction(a)?this.each(function(b){t(this).wrapInner(a.call(this,b))}):this.each(function(){var b=t(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=t.isFunction(a);return this.each(function(d){t(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){t(this).replaceWith(this.childNodes)});
return this}});t.expr.pseudos.hidden=function(a){return!t.expr.pseudos.visible(a)};t.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};t.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(a){}};var od={0:200,1223:204},Ya=t.ajaxSettings.xhr();la.cors=!!Ya&&"withCredentials"in Ya;la.ajax=Ya=!!Ya;t.ajaxTransport(function(a){var d,h;if(la.cors||Ya&&!a.crossDomain)return{send:function(c,q){var e,f=a.xhr();f.open(a.type,a.url,a.async,a.username,
a.password);if(a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);d=function(a){return function(){d&&(d=h=f.onload=f.onerror=f.onabort=f.onreadystatechange=null,"abort"===a?f.abort():"error"===a?"number"!==typeof f.status?q(0,"error"):q(f.status,f.statusText):q(od[f.status]||f.status,f.statusText,"text"!==(f.responseType||
"text")||"string"!==typeof f.responseText?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}};f.onload=d();h=f.onerror=d("error");void 0!==f.onabort?f.onabort=h:f.onreadystatechange=function(){4===f.readyState&&b.setTimeout(function(){d&&h()})};d=d("abort");try{f.send(a.hasContent&&a.data||null)}catch(w){if(d)throw w;}},abort:function(){d&&d()}}});t.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){t.globalEval(a);return a}}});t.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});t.ajaxTransport("script",function(a){if(a.crossDomain){var b,d;return{send:function(h,c){b=t("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",d=function(a){b.remove();d=null;a&&c("error"===a.type?404:200,a.type)});G.head.appendChild(b[0])},abort:function(){d&&d()}}}});
var Uc=[],vc=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uc.pop()||t.expando+"_"+Rc++;this[a]=!0;return a}});t.ajaxPrefilter("json jsonp",function(a,d,h){var c,q,e,f=!1!==a.jsonp&&(vc.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&vc.test(a.data)&&"data");if(f||"jsonp"===a.dataTypes[0])return c=a.jsonpCallback=t.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f?a[f]=a[f].replace(vc,
"$1"+c):!1!==a.jsonp&&(a.url+=(vb.test(a.url)?"&":"?")+a.jsonp+"="+c),a.converters["script json"]=function(){e||t.error(c+" was not called");return e[0]},a.dataTypes[0]="json",q=b[c],b[c]=function(){e=arguments},h.always(function(){void 0===q?t(b).removeProp(c):b[c]=q;a[c]&&(a.jsonpCallback=d.jsonpCallback,Uc.push(c));e&&t.isFunction(q)&&q(e[0]);e=q=void 0}),"script"});la.createHTMLDocument=function(){var a=G.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return 2===
a.childNodes.length}();t.parseHTML=function(a,b,d){if("string"!==typeof a)return[];"boolean"===typeof b&&(d=b,b=!1);var c;b||(la.createHTMLDocument?(b=G.implementation.createHTMLDocument(""),c=b.createElement("base"),c.href=G.location.href,b.head.appendChild(c)):b=G);c=Ja.exec(a);d=!d&&[];if(c)return[b.createElement(c[1])];c=h([a],b,d);d&&d.length&&t(d).remove();return t.merge([],c.childNodes)};t.fn.load=function(a,b,d){var h,c,q,e=this,f=a.indexOf(" ");-1<f&&(h=t.trim(a.slice(f)),a=a.slice(0,f));
t.isFunction(b)?(d=b,b=void 0):b&&"object"===typeof b&&(c="POST");0<e.length&&t.ajax({url:a,type:c||"GET",dataType:"html",data:b}).done(function(a){q=arguments;e.html(h?t("<div>").append(t.parseHTML(a)).find(h):a)}).always(d&&function(a,b){e.each(function(){d.apply(this,q||[a.responseText,b,a])})});return this};t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){t.fn[b]=function(a){return this.on(b,a)}});t.expr.pseudos.animated=function(a){return t.grep(t.timers,
function(b){return a===b.elem}).length};t.offset={setOffset:function(a,b,d){var h,c,q,e=t.css(a,"position"),f=t(a),w={};"static"===e&&(a.style.position="relative");q=f.offset();c=t.css(a,"top");h=t.css(a,"left");("absolute"===e||"fixed"===e)&&-1<(c+h).indexOf("auto")?(h=f.position(),c=h.top,h=h.left):(c=parseFloat(c)||0,h=parseFloat(h)||0);t.isFunction(b)&&(b=b.call(a,d,t.extend({},q)));null!=b.top&&(w.top=b.top-q.top+c);null!=b.left&&(w.left=b.left-q.left+h);"using"in b?b.using.call(a,w):f.css(w)}};
t.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){t.offset.setOffset(this,a,b)});var b,d,h;if(d=this[0]){if(!d.getClientRects().length)return{top:0,left:0};h=d.getBoundingClientRect();return h.width||h.height?(b=d.ownerDocument,d=t.isWindow(b)?b:9===b.nodeType&&b.defaultView,b=b.documentElement,{top:h.top+d.pageYOffset-b.clientTop,left:h.left+d.pageXOffset-b.clientLeft}):h}},position:function(){if(this[0]){var a,b,d=this[0],h={top:0,left:0};"fixed"===
t.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),t.nodeName(a[0],"html")||(h=a.offset()),h={top:h.top+t.css(a[0],"borderTopWidth",!0),left:h.left+t.css(a[0],"borderLeftWidth",!0)});return{top:b.top-h.top-t.css(d,"marginTop",!0),left:b.left-h.left-t.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===t.css(a,"position");)a=a.offsetParent;return a||Db})}});t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(a,b){var d="pageYOffset"===b;t.fn[a]=function(h){return Ta(this,function(a,h,c){var q=t.isWindow(a)?a:9===a.nodeType&&a.defaultView;if(void 0===c)return q?q[b]:a[h];q?q.scrollTo(d?q.pageXOffset:c,d?c:q.pageYOffset):a[h]=c},a,h,arguments.length)}});t.each(["top","left"],function(a,b){t.cssHooks[b]=J(la.pixelPosition,function(a,d){if(d)return d=Y(a,b),Fc.test(d)?t(a).position()[b]+"px":d})});t.each({Height:"height",Width:"width"},function(a,b){t.each({padding:"inner"+a,content:b,"":"outer"+
a},function(d,h){t.fn[h]=function(c,q){var e=arguments.length&&(d||"boolean"!==typeof c),f=d||(!0===c||!0===q?"margin":"border");return Ta(this,function(b,d,c){return t.isWindow(b)?0===h.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):void 0===c?t.css(b,d,f):t.style(b,d,c,f)},b,e?c:void 0,e)}})});t.fn.extend({bind:function(a,b,d){return this.on(a,null,
b,d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,h){return this.on(b,a,d,h)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)}});t.parseJSON=JSON.parse;"function"===typeof define&&define.amd&&define("jquery",[],function(){return t});var le=b.jQuery,me=b.$;t.noConflict=function(a){b.$===t&&(b.$=me);a&&b.jQuery===t&&(b.jQuery=le);return t};l||(b.jQuery=b.$=t);return t});
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function l(a){for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}return 0}function k(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,
this.regional[""]);this.regional.en=b.extend(!0,{},this.regional[""]);this.regional["en-US"]=b.extend(!0,{},this.regional.en);this.dpDiv=g(b("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function g(a){return a.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){b(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&b(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",c)}function c(){b.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&b(this).addClass("ui-datepicker-next-hover"))}function f(a,d){b.extend(a,d);for(var h in d)null==d[h]&&(a[h]=d[h]);return a}function n(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}b.ui=b.ui||{};b.ui.version="1.12.0";var e=0,p=Array.prototype.slice;b.cleanData=function(a){return function(d){var h,c,e;for(e=0;null!=(c=d[e]);e++)try{(h=b._data(c,"events"))&&h.remove&&
b(c).triggerHandler("remove")}catch(f){}a(d)}}(b.cleanData);b.widget=function(a,d,h){var c,e,f,m={},g=a.split(".")[0];a=a.split(".")[1];var k=g+"-"+a;h||(h=d,d=b.Widget);b.isArray(h)&&(h=b.extend.apply(null,[{}].concat(h)));b.expr[":"][k.toLowerCase()]=function(a){return!!b.data(a,k)};b[g]=b[g]||{};c=b[g][a];e=b[g][a]=function(a,b){if(!this._createWidget)return new e(a,b);arguments.length&&this._createWidget(a,b)};b.extend(e,c,{version:h.version,_proto:b.extend({},h),_childConstructors:[]});f=new d;
f.options=b.widget.extend({},f.options);b.each(h,function(a,h){b.isFunction(h)?m[a]=function(){function b(){return d.prototype[a].apply(this,arguments)}function c(b){return d.prototype[a].apply(this,b)}return function(){var a=this._super,d=this._superApply,q;this._super=b;this._superApply=c;q=h.apply(this,arguments);this._super=a;this._superApply=d;return q}}():m[a]=h});e.prototype=b.widget.extend(f,{widgetEventPrefix:c?f.widgetEventPrefix||a:a},m,{constructor:e,namespace:g,widgetName:a,widgetFullName:k});
c?(b.each(c._childConstructors,function(a,d){var h=d.prototype;b.widget(h.namespace+"."+h.widgetName,e,d._proto)}),delete c._childConstructors):d._childConstructors.push(e);b.widget.bridge(a,e);return e};b.widget.extend=function(a){for(var d=p.call(arguments,1),h=0,c=d.length,e,f;h<c;h++)for(e in d[h])f=d[h][e],d[h].hasOwnProperty(e)&&void 0!==f&&(b.isPlainObject(f)?a[e]=b.isPlainObject(a[e])?b.widget.extend({},a[e],f):b.widget.extend({},f):a[e]=f);return a};b.widget.bridge=function(a,d){var h=d.prototype.widgetFullName||
a;b.fn[a]=function(c){var e="string"===typeof c,f=p.call(arguments,1),m=this;e?this.each(function(){var d,e=b.data(this,h);if("instance"===c)return m=e,!1;if(!e)return b.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+c+"'");if(!b.isFunction(e[c])||"_"===c.charAt(0))return b.error("no such method '"+c+"' for "+a+" widget instance");d=e[c].apply(e,f);if(d!==e&&void 0!==d)return m=d&&d.jquery?m.pushStack(d.get()):d,!1}):(f.length&&(c=b.widget.extend.apply(null,
[c].concat(f))),this.each(function(){var a=b.data(this,h);a?(a.option(c||{}),a._init&&a._init()):b.data(this,h,new d(c,this))}));return m}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,d){d=b(d||this.defaultElement||this)[0];this.element=b(d);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=b();this.hoverable=
b();this.focusable=b();this.classesElementLookup={};d!==this&&(b.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=b(d.style?d.ownerDocument:d.document||d),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());
this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){var a=this;this._destroy();b.each(this.classesElementLookup,function(b,h){a._removeClass(h,b)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(a,d){var h=a,c,e,f;if(0===arguments.length)return b.widget.extend({},
this.options);if("string"===typeof a)if(h={},c=a.split("."),a=c.shift(),c.length){e=h[a]=b.widget.extend({},this.options[a]);for(f=0;f<c.length-1;f++)e[c[f]]=e[c[f]]||{},e=e[c[f]];a=c.pop();if(1===arguments.length)return void 0===e[a]?null:e[a];e[a]=d}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];h[a]=d}this._setOptions(h);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){"classes"===a&&this._setOptionClasses(b);
this.options[a]=b;"disabled"===a&&this._setOptionDisabled(b);return this},_setOptionClasses:function(a){var d,h,c;for(d in a)c=this.classesElementLookup[d],a[d]!==this.options.classes[d]&&c&&c.length&&(h=b(c.get()),this._removeClass(c,d),h.addClass(this._classes({element:h,keys:d,classes:a,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,
null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(a){function d(d,e){var f,m;for(m=0;m<d.length;m++)f=c.classesElementLookup[d[m]]||b(),f=a.add?b(b.unique(f.get().concat(a.element.get()))):b(f.not(a.element).get()),c.classesElementLookup[d[m]]=f,h.push(d[m]),e&&a.classes[d[m]]&&h.push(a.classes[d[m]])}var h=[],c=this;a=b.extend({element:this.element,classes:this.options.classes||{}},a);a.keys&&
d(a.keys.match(/\S+/g)||[],!0);a.extra&&d(a.extra.match(/\S+/g)||[]);return h.join(" ")},_removeClass:function(a,b,h){return this._toggleClass(a,b,h,!1)},_addClass:function(a,b,h){return this._toggleClass(a,b,h,!0)},_toggleClass:function(a,b,h,c){c="boolean"===typeof c?c:h;var e="string"===typeof a||null===a;a={extra:e?b:h,keys:e?a:b,element:e?this.element:a,add:c};a.element.toggleClass(this._classes(a),c);return this},_on:function(a,d,h){var c,e=this;"boolean"!==typeof a&&(h=d,d=a,a=!1);h?(d=c=b(d),
this.bindings=this.bindings.add(d)):(h=d,d=this.element,c=this.widget());b.each(h,function(h,f){function m(){if(a||!0!==e.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"===typeof f?e[f]:f).apply(e,arguments)}"string"!==typeof f&&(m.guid=f.guid=f.guid||m.guid||b.guid++);var g=h.match(/^([\w:-]*)\s*(.*)$/),k=g[1]+e.eventNamespace;if(g=g[2])c.on(k,g,m);else d.on(k,m)})},_off:function(a,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.off(d).off(d);
this.bindings=b(this.bindings.not(a).get());this.focusable=b(this.focusable.not(a).get());this.hoverable=b(this.hoverable.not(a).get())},_delay:function(a,b){var h=this;return setTimeout(function(){return("string"===typeof a?h[a]:a).apply(h,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){this._addClass(b(a.currentTarget),null,"ui-state-hover")},mouseleave:function(a){this._removeClass(b(a.currentTarget),null,"ui-state-hover")}})},_focusable:function(a){this.focusable=
this.focusable.add(a);this._on(a,{focusin:function(a){this._addClass(b(a.currentTarget),null,"ui-state-focus")},focusout:function(a){this._removeClass(b(a.currentTarget),null,"ui-state-focus")}})},_trigger:function(a,d,h){var c,e=this.options[a];h=h||{};d=b.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d.target=this.element[0];if(a=d.originalEvent)for(c in a)c in d||(d[c]=a[c]);this.element.trigger(d,h);return!(b.isFunction(e)&&!1===e.apply(this.element[0],
[d].concat(h))||d.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,d){b.Widget.prototype["_"+a]=function(h,c,e){"string"===typeof c&&(c={effect:c});var f,m=c?!0===c||"number"===typeof c?d:c.effect||d:a;c=c||{};"number"===typeof c&&(c={duration:c});f=!b.isEmptyObject(c);c.complete=e;c.delay&&h.delay(c.delay);if(f&&b.effects&&b.effects.effect[m])h[a](c);else if(m!==a&&h[m])h[m](c.duration,c.easing,e);else h.queue(function(d){b(this)[a]();e&&e.call(h[0]);d()})}});(function(){function a(a,
b,d){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?d/100:1)]}function d(a){var d=a[0];return 9===d.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:b.isWindow(d)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}var h,c,e=Math.max,f=Math.abs,m=Math.round,g=/left|center|right/,k=/top|center|bottom/,
p=/[\+\-]\d+(\.[\d]+)?%?/,n=/^\w+/,r=/%$/,l=b.fn.position;c=function(){var a=b("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),d=1.5===a.offset().top;a.remove();c=function(){return d};return d};b.position={scrollbarWidth:function(){if(void 0!==h)return h;var a,d,c=b("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");d=c.children()[0];b("body").append(c);a=d.offsetWidth;c.css("overflow",
"scroll");d=d.offsetWidth;a===d&&(d=c[0].clientWidth);c.remove();return h=a-d},getScrollInfo:function(a){var d=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),h=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),d="scroll"===d||"auto"===d&&a.width<a.element[0].scrollWidth;return{width:"scroll"===h||"auto"===h&&a.height<a.element[0].scrollHeight?b.position.scrollbarWidth():0,height:d?b.position.scrollbarWidth():0}},getWithinInfo:function(a){var d=b(a||window),h=b.isWindow(d[0]),c=!!d[0]&&
9===d[0].nodeType;return{element:d,isWindow:h,isDocument:c,offset:h||c?{left:0,top:0}:b(a).offset(),scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:d.outerWidth(),height:d.outerHeight()}}};b.fn.position=function(h){if(!h||!h.of)return l.apply(this,arguments);h=b.extend({},h);var r,s,u,x,v,A,F=b(h.of),L=b.position.getWithinInfo(h.within),Q=b.position.getScrollInfo(L),R=(h.collision||"flip").split(" "),na={};A=d(F);F[0].preventDefault&&(h.at="left top");s=A.width;u=A.height;x=A.offset;v=b.extend({},
x);b.each(["my","at"],function(){var a=(h[this]||"").split(" "),b,d;1===a.length&&(a=g.test(a[0])?a.concat(["center"]):k.test(a[0])?["center"].concat(a):["center","center"]);a[0]=g.test(a[0])?a[0]:"center";a[1]=k.test(a[1])?a[1]:"center";b=p.exec(a[0]);d=p.exec(a[1]);na[this]=[b?b[0]:0,d?d[0]:0];h[this]=[n.exec(a[0])[0],n.exec(a[1])[0]]});1===R.length&&(R[1]=R[0]);"right"===h.at[0]?v.left+=s:"center"===h.at[0]&&(v.left+=s/2);"bottom"===h.at[1]?v.top+=u:"center"===h.at[1]&&(v.top+=u/2);r=a(na.at,s,
u);v.left+=r[0];v.top+=r[1];return this.each(function(){var d,g,k=b(this),p=k.outerWidth(),n=k.outerHeight(),l=parseInt(b.css(this,"marginLeft"),10)||0,O=parseInt(b.css(this,"marginTop"),10)||0,P=p+l+(parseInt(b.css(this,"marginRight"),10)||0)+Q.width,A=n+O+(parseInt(b.css(this,"marginBottom"),10)||0)+Q.height,K=b.extend({},v),W=a(na.my,k.outerWidth(),k.outerHeight());"right"===h.my[0]?K.left-=p:"center"===h.my[0]&&(K.left-=p/2);"bottom"===h.my[1]?K.top-=n:"center"===h.my[1]&&(K.top-=n/2);K.left+=
W[0];K.top+=W[1];c()||(K.left=m(K.left),K.top=m(K.top));d={marginLeft:l,marginTop:O};b.each(["left","top"],function(a,c){if(b.ui.position[R[a]])b.ui.position[R[a]][c](K,{targetWidth:s,targetHeight:u,elemWidth:p,elemHeight:n,collisionPosition:d,collisionWidth:P,collisionHeight:A,offset:[r[0]+W[0],r[1]+W[1]],my:h.my,at:h.at,within:L,elem:k})});h.using&&(g=function(a){var b=x.left-K.left,d=b+s-p,c=x.top-K.top,q=c+u-n,m={target:{element:F,left:x.left,top:x.top,width:s,height:u},element:{element:k,left:K.left,
top:K.top,width:p,height:n},horizontal:0>d?"left":0<b?"right":"center",vertical:0>q?"top":0<c?"bottom":"middle"};s<p&&f(b+d)<s&&(m.horizontal="center");u<n&&f(c+q)<u&&(m.vertical="middle");e(f(b),f(d))>e(f(c),f(q))?m.important="horizontal":m.important="vertical";h.using.call(this,a,m)});k.offset(b.extend(K,{using:g}))})};b.ui.position={fit:{left:function(a,b){var d=b.within,h=d.isWindow?d.scrollLeft:d.offset.left,c=d.width,q=a.left-b.collisionPosition.marginLeft,d=h-q,f=q+b.collisionWidth-c-h;b.collisionWidth>
c?0<d&&0>=f?(h=a.left+d+b.collisionWidth-c-h,a.left+=d-h):a.left=0<f&&0>=d?h:d>f?h+c-b.collisionWidth:h:a.left=0<d?a.left+d:0<f?a.left-f:e(a.left-q,a.left)},top:function(a,b){var d=b.within,h=d.isWindow?d.scrollTop:d.offset.top,c=b.within.height,q=a.top-b.collisionPosition.marginTop,d=h-q,f=q+b.collisionHeight-c-h;b.collisionHeight>c?0<d&&0>=f?(h=a.top+d+b.collisionHeight-c-h,a.top+=d-h):a.top=0<f&&0>=d?h:d>f?h+c-b.collisionHeight:h:a.top=0<d?a.top+d:0<f?a.top-f:e(a.top-q,a.top)}},flip:{left:function(a,
b){var d=b.within,h=d.offset.left+d.scrollLeft,c=d.width,q=d.isWindow?d.scrollLeft:d.offset.left,e=a.left-b.collisionPosition.marginLeft,d=e-q,m=e+b.collisionWidth-c-q,e="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,w="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,g=-2*b.offset[0];if(0>d){if(h=a.left+e+w+g+b.collisionWidth-c-h,0>h||h<f(d))a.left+=e+w+g}else 0<m&&(h=a.left-b.collisionPosition.marginLeft+e+w+g-q,0<h||f(h)<m)&&(a.left+=e+w+g)},top:function(a,b){var d=
b.within,h=d.offset.top+d.scrollTop,c=d.height,q=d.isWindow?d.scrollTop:d.offset.top,e=a.top-b.collisionPosition.marginTop,d=e-q,m=e+b.collisionHeight-c-q,e="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,w="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,g=-2*b.offset[1];if(0>d){if(h=a.top+e+w+g+b.collisionHeight-c-h,0>h||h<f(d))a.top+=e+w+g}else 0<m&&(h=a.top-b.collisionPosition.marginTop+e+w+g-q,0<h||f(h)<m)&&(a.top+=e+w+g)}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,
arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}}})();b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(a){return function(d){return!!b.data(d,a)}}):function(a,d,h){return!!b.data(a,h[3])}});b.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",
function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var m="ui-effects-animated",r=b;b.effects={effect:{}};(function(a,b){function h(a,b,d){var h=p[b.type]||{};if(null==a)return d||!b.def?null:b.def;a=h.floor?~~a:parseFloat(a);return isNaN(a)?b.def:h.mod?(a+h.mod)%h.mod:0>a?0:h.max<a?h.max:a}function c(b){var d=g(),h=d._rgba=[];b=b.toLowerCase();s(m,function(a,c){var q,e=c.re.exec(b);q=e&&c.parse(e);e=c.space||"rgba";if(q)return q=d[e](q),d[k[e].cache]=
q[k[e].cache],h=d._rgba=q._rgba,!1});return h.length?("0,0,0,0"===h.join()&&a.extend(h,l.transparent),d):l[b]}function e(a,b,d){d=(d+1)%1;return 1>6*d?a+6*(b-a)*d:1>2*d?b:2>3*d?a+6*(b-a)*(2/3-d):a}var f=/^([\-+])=\s*(\d+\.?\d*)/,m=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*
a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],g=a.Color=function(b,d,
h,c){return new a.Color.fn.parse(b,d,h,c)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=g.support={},r=a("<p>")[0],l,s=a.each;r.style.cssText="background-color:rgba(1,1,1,.5)";n.rgba=-1<r.style.backgroundColor.indexOf("rgba");s(k,function(a,b){b.cache="_"+a;b.props.alpha=
{idx:3,type:"percent",def:1}});g.fn=a.extend(g.prototype,{parse:function(e,f,m,w){if(e===b)return this._rgba=[null,null,null,null],this;if(e.jquery||e.nodeType)e=a(e).css(f),f=b;var p=this,n=a.type(e),B=this._rgba=[];f!==b&&(e=[e,f,m,w],n="array");if("string"===n)return this.parse(c(e)||l._default);if("array"===n)return s(k.rgba.props,function(a,b){B[b.idx]=h(e[b.idx],b)}),this;if("object"===n)return e instanceof g?s(k,function(a,b){e[b.cache]&&(p[b.cache]=e[b.cache].slice())}):s(k,function(b,d){var c=
d.cache;s(d.props,function(a,b){if(!p[c]&&d.to){if("alpha"===a||null==e[a])return;p[c]=d.to(p._rgba)}p[c][b.idx]=h(e[a],b,!0)});p[c]&&0>a.inArray(null,p[c].slice(0,3))&&(p[c][3]=1,d.from&&(p._rgba=d.from(p[c])))}),this},is:function(a){var b=g(a),d=!0,h=this;s(k,function(a,c){var q,e=b[c.cache];e&&(q=h[c.cache]||c.to&&c.to(h._rgba)||[],s(c.props,function(a,b){if(null!=e[b.idx])return d=e[b.idx]===q[b.idx]}));return d});return d},_space:function(){var a=[],b=this;s(k,function(d,h){b[h.cache]&&a.push(d)});
return a.pop()},transition:function(a,b){var d=g(a),c=d._space(),q=k[c],e=0===this.alpha()?g("transparent"):this,f=e[q.cache]||q.to(e._rgba),m=f.slice(),d=d[q.cache];s(q.props,function(a,c){var q=c.idx,e=f[q],w=d[q],g=p[c.type]||{};null!==w&&(null===e?m[q]=w:(g.mod&&(w-e>g.mod/2?e+=g.mod:e-w>g.mod/2&&(e-=g.mod)),m[q]=h((w-e)*b+e,c)))});return this[c](m)},blend:function(b){if(1===this._rgba[3])return this;var d=this._rgba.slice(),h=d.pop(),c=g(b)._rgba;return g(a.map(d,function(a,b){return(1-h)*c[b]+
h*a}))},toRgbaString:function(){var b="rgba(",d=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===d[3]&&(d.pop(),b="rgb(");return b+d.join()+")"},toHslaString:function(){var b="hsla(",d=a.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===d[3]&&(d.pop(),b="hsl(");return b+d.join()+")"},toHexString:function(b){var d=this._rgba.slice(),h=d.pop();b&&d.push(~~(255*h));return"#"+a.map(d,function(a){a=(a||0).toString(16);return 1===a.length?"0"+
a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});g.fn.parse.prototype=g.fn;k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,d=a[1]/255,h=a[2]/255;a=a[3];var c=Math.max(b,d,h),q=Math.min(b,d,h),e=c-q,f=c+q,m=0.5*f,f=0===e?0:0.5>=m?e/f:e/(2-f);return[Math.round(q===c?0:b===c?60*(d-h)/e+360:d===c?60*(h-b)/e+120:60*(b-d)/e+240)%360,f,m,null==a?1:a]};k.hsla.from=function(a){if(null==a[0]||null==a[1]||
null==a[2])return[null,null,null,a[3]];var b=a[0]/360,d=a[1],h=a[2];a=a[3];d=0.5>=h?h*(1+d):h+d-h*d;h=2*h-d;return[Math.round(255*e(h,d,b+1/3)),Math.round(255*e(h,d,b)),Math.round(255*e(h,d,b-1/3)),a]};s(k,function(c,q){var e=q.props,m=q.cache,w=q.to,k=q.from;g.fn[c]=function(c){w&&!this[m]&&(this[m]=w(this._rgba));if(c===b)return this[m].slice();var q,f=a.type(c),p="array"===f||"object"===f?c:arguments,n=this[m].slice();s(e,function(a,b){var d=p["object"===f?a:b.idx];null==d&&(d=n[b.idx]);n[b.idx]=
h(d,b)});return k?(q=g(k(n)),q[m]=n,q):g(n)};s(e,function(b,d){g.fn[b]||(g.fn[b]=function(h){var q=a.type(h),e="alpha"===b?this._hsla?"hsla":"rgba":c,m=this[e](),w=m[d.idx];if("undefined"===q)return w;"function"===q&&(h=h.call(this,w),q=a.type(h));if(null==h&&d.empty)return this;"string"===q&&(q=f.exec(h))&&(h=w+parseFloat(q[2])*("+"===q[1]?1:-1));m[d.idx]=h;return this[e](m)})})});g.hook=function(b){b=b.split(" ");s(b,function(b,d){a.cssHooks[d]={set:function(b,h){var e,f="";if("transparent"!==h&&
("string"!==a.type(h)||(e=c(h)))){h=g(e||h);if(!n.rgba&&1!==h._rgba[3]){for(e="backgroundColor"===d?b.parentNode:b;(""===f||"transparent"===f)&&e&&e.style;)try{f=a.css(e,"backgroundColor"),e=e.parentNode}catch(m){}h=h.blend(f&&"transparent"!==f?f:"_default")}h=h.toRgbaString()}try{b.style[d]=h}catch(w){}}};a.fx.step[d]=function(b){b.colorInit||(b.start=g(b.elem,d),b.end=g(b.end),b.colorInit=!0);a.cssHooks[d].set(b.elem,b.start.transition(b.end,b.pos))}})};g.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
a.cssHooks.borderColor={expand:function(a){var b={};s(["Top","Right","Bottom","Left"],function(d,h){b["border"+h+"Color"]=a});return b}};l=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(r);(function(){function a(a){var d,h=a.ownerDocument.defaultView?
a.ownerDocument.defaultView.getComputedStyle(a,null):a.currentStyle,c={};if(h&&h.length&&h[0]&&h[h[0]])for(a=h.length;a--;)d=h[a],"string"===typeof h[d]&&(c[b.camelCase(d)]=h[d]);else for(d in h)"string"===typeof h[d]&&(c[d]=h[d]);return c}var d=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(a,d){b.fx.step[d]=function(a){if("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)r.style(a.elem,d,a.end),a.setAttr=!0}});b.fn.addBack||(b.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});b.effects.animateClass=function(c,e,f,m){var g=b.speed(e,f,m);return this.queue(function(){var e=b(this),f=e.attr("class")||"",m,w=g.children?e.find("*").addBack():e,w=w.map(function(){return{el:b(this),start:a(this)}});m=function(){b.each(d,function(a,b){if(c[b])e[b+"Class"](c[b])})};m();w=w.map(function(){this.end=
a(this.el[0]);var d=this.start,c=this.end,q={},e,f;for(e in c)f=c[e],d[e]===f||h[e]||!b.fx.step[e]&&isNaN(parseFloat(f))||(q[e]=f);this.diff=q;return this});e.attr("class",f);w=w.map(function(){var a=this,d=b.Deferred(),h=b.extend({},g,{queue:!1,complete:function(){d.resolve(a)}});this.el.animate(this.diff,h);return d.promise()});b.when.apply(b,w.get()).done(function(){m();b.each(arguments,function(){var a=this.el;b.each(this.diff,function(b){a.css(b,"")})});g.complete.call(e[0])})})};b.fn.extend({addClass:function(a){return function(d,
h,c,e){return h?b.effects.animateClass.call(this,{add:d},h,c,e):a.apply(this,arguments)}}(b.fn.addClass),removeClass:function(a){return function(d,h,c,e){return 1<arguments.length?b.effects.animateClass.call(this,{remove:d},h,c,e):a.apply(this,arguments)}}(b.fn.removeClass),toggleClass:function(a){return function(d,h,c,e,f){return"boolean"===typeof h||void 0===h?c?b.effects.animateClass.call(this,h?{add:d}:{remove:d},c,e,f):a.apply(this,arguments):b.effects.animateClass.call(this,{toggle:d},h,c,e)}}(b.fn.toggleClass),
switchClass:function(a,d,h,c,e){return b.effects.animateClass.call(this,{add:d,remove:a},h,c,e)}})})();(function(){function a(a,d,h,c){b.isPlainObject(a)&&(d=a,a=a.effect);a={effect:a};null==d&&(d={});b.isFunction(d)&&(c=d,h=null,d={});if("number"===typeof d||b.fx.speeds[d])c=h,h=d,d={};b.isFunction(h)&&(c=h,h=null);d&&b.extend(a,d);h=h||d.duration;a.duration=b.fx.off?0:"number"===typeof h?h:h in b.fx.speeds?b.fx.speeds[h]:b.fx.speeds._default;a.complete=c||d.complete;return a}function d(a){return!a||
"number"===typeof a||b.fx.speeds[a]||"string"===typeof a&&!b.effects.effect[a]||b.isFunction(a)||"object"===typeof a&&!a.effect?!0:!1}function h(a,b){var d=b.outerWidth(),h=b.outerHeight(),c=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(a)||["",0,d,h,0];return{top:parseFloat(c[1])||0,right:"auto"===c[2]?d:parseFloat(c[2]),bottom:"auto"===c[3]?h:parseFloat(c[3]),left:parseFloat(c[4])||0}}b.expr&&b.expr.filters&&
b.expr.filters.animated&&(b.expr.filters.animated=function(a){return function(d){return!!b(d).data(m)||a(d)}}(b.expr.filters.animated));!1!==b.uiBackCompat&&b.extend(b.effects,{save:function(a,b){for(var d=0,h=b.length;d<h;d++)null!==b[d]&&a.data("ui-effects-"+b[d],a[0].style[b[d]])},restore:function(a,b){for(var d,h=0,c=b.length;h<c;h++)null!==b[h]&&(d=a.data("ui-effects-"+b[h]),a.css(b[h],d))},setMode:function(a,b){"toggle"===b&&(b=a.is(":hidden")?"show":"hide");return b},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();
var d={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},h=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),c={width:a.width(),height:a.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}a.wrap(h);(a[0]===e||b.contains(a[0],e))&&b(e).trigger("focus");h=a.parent();"static"===a.css("position")?(h.css({position:"relative"}),a.css({position:"relative"})):(b.extend(d,{position:a.css("position"),
zIndex:a.css("z-index")}),b.each(["top","left","bottom","right"],function(b,h){d[h]=a.css(h);isNaN(parseInt(d[h],10))&&(d[h]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));a.css(c);return h.css(d).show()},removeWrapper:function(a){var d=document.activeElement;a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===d||b.contains(a[0],d))&&b(d).trigger("focus"));return a}});b.extend(b.effects,{version:"1.12.0",define:function(a,d,h){h||(h=d,d="effect");
b.effects.effect[a]=h;b.effects.effect[a].mode=d;return h},scaledDimensions:function(a,b,d){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var h="horizontal"!==d?(b||100)/100:1;b="vertical"!==d?(b||100)/100:1;return{height:a.height()*b,width:a.width()*h,outerHeight:a.outerHeight()*b,outerWidth:a.outerWidth()*h}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,d){var h=a.queue();1<b&&h.splice.apply(h,
[1,0].concat(h.splice(b,d)));a.dequeue()},saveStyle:function(a){a.data("ui-effects-style",a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data("ui-effects-style")||"";a.removeData("ui-effects-style")},mode:function(a,b){var d=a.is(":hidden");"toggle"===b&&(b=d?"show":"hide");if(d?"hide"===b:"show"===b)b="none";return b},getBaseline:function(a,b){var d,h;switch(a[0]){case "top":d=0;break;case "middle":d=0.5;break;case "bottom":d=1;break;default:d=a[0]/b.height}switch(a[1]){case "left":h=
0;break;case "center":h=0.5;break;case "right":h=1;break;default:h=a[1]/b.width}return{x:h,y:d}},createPlaceholder:function(a){var d,h=a.css("position"),c=a.position();a.css({marginTop:a.css("marginTop"),marginBottom:a.css("marginBottom"),marginLeft:a.css("marginLeft"),marginRight:a.css("marginRight")}).outerWidth(a.outerWidth()).outerHeight(a.outerHeight());/^(static|relative)/.test(h)&&(h="absolute",d=b("<"+a[0].nodeName+">").insertAfter(a).css({display:/^(inline|ruby)/.test(a.css("display"))?"inline-block":
"block",visibility:"hidden",marginTop:a.css("marginTop"),marginBottom:a.css("marginBottom"),marginLeft:a.css("marginLeft"),marginRight:a.css("marginRight"),"float":a.css("float")}).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).addClass("ui-effects-placeholder"),a.data("ui-effects-placeholder",d));a.css({position:h,left:c.left,top:c.top});return d},removePlaceholder:function(a){var b=a.data("ui-effects-placeholder");b&&(b.remove(),a.removeData("ui-effects-placeholder"))},cleanUp:function(a){b.effects.restoreStyle(a);
b.effects.removePlaceholder(a)},setTransition:function(a,d,h,c){c=c||{};b.each(d,function(b,d){var e=a.cssUnit(d);0<e[0]&&(c[d]=e[0]*h+e[1])});return c}});b.fn.extend({effect:function(){function d(a){function f(){g.removeData(m);b.effects.cleanUp(g);"hide"===h.mode&&g.hide();q()}function q(){b.isFunction(k)&&k.call(g[0]);b.isFunction(a)&&a()}var g=b(this);h.mode=n.shift();!1===b.uiBackCompat||e?"none"===h.mode?(g[p](),q()):c.call(g[0],h,f):(g.is(":hidden")?"hide"===p:"show"===p)?(g[p](),q()):c.call(g[0],
h,q)}var h=a.apply(this,arguments),c=b.effects.effect[h.effect],e=c.mode,f=h.queue,g=f||"fx",k=h.complete,p=h.mode,n=[],r=function(a){var d=b(this),h=b.effects.mode(d,p)||e;d.data(m,!0);n.push(h);e&&("show"===h||h===e&&"hide"===h)&&d.show();e&&"none"===h||b.effects.saveStyle(d);b.isFunction(a)&&a()};return b.fx.off||!c?p?this[p](h.duration,k):this.each(function(){k&&k.call(this)}):!1===f?this.each(r).each(d):this.queue(g,r).queue(g,d)},show:function(b){return function(h){if(d(h))return b.apply(this,
arguments);var c=a.apply(this,arguments);c.mode="show";return this.effect.call(this,c)}}(b.fn.show),hide:function(b){return function(h){if(d(h))return b.apply(this,arguments);var c=a.apply(this,arguments);c.mode="hide";return this.effect.call(this,c)}}(b.fn.hide),toggle:function(b){return function(h){if(d(h)||"boolean"===typeof h)return b.apply(this,arguments);var c=a.apply(this,arguments);c.mode="toggle";return this.effect.call(this,c)}}(b.fn.toggle),cssUnit:function(a){var d=this.css(a),h=[];b.each(["em",
"px","%","pt"],function(a,b){0<d.indexOf(b)&&(h=[parseFloat(d),b])});return h},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):h(this.css("clip"),this)},transfer:function(a,d){var h=b(this),c=b(a.to),e="fixed"===c.css("position"),f=b("body"),m=e?f.scrollTop():0,f=e?f.scrollLeft():0,g=c.offset(),c={top:g.top-m,left:g.left-f,height:c.innerHeight(),width:c.innerWidth()},g=h.offset(),k=b("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(a.className).css({top:g.top-
m,left:g.left-f,height:h.innerHeight(),width:h.innerWidth(),position:e?"fixed":"absolute"}).animate(c,a.duration,a.easing,function(){k.remove();b.isFunction(d)&&d()})}});b.fx.step.clip=function(a){a.clipInit||(a.start=b(a.elem).cssClip(),"string"===typeof a.end&&(a.end=h(a.end,a.elem)),a.clipInit=!0);b(a.elem).cssClip({top:a.pos*(a.end.top-a.start.top)+a.start.top,right:a.pos*(a.end.right-a.start.right)+a.start.right,bottom:a.pos*(a.end.bottom-a.start.bottom)+a.start.bottom,left:a.pos*(a.end.left-
a.start.left)+a.start.left})}})();(function(){var a={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,h){a[h]=function(a){return Math.pow(a,b+2)}});b.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*
b-2)/22-a,2)}});b.each(a,function(a,h){b.easing["easeIn"+a]=h;b.easing["easeOut"+a]=function(a){return 1-h(1-a)};b.easing["easeInOut"+a]=function(a){return 0.5>a?h(2*a)/2:1-h(-2*a+2)/2}})})();b.effects.define("blind","hide",function(a,d){var h={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},c=b(this),e=a.direction||"up",f=c.cssClip(),m={clip:b.extend({},f)},g=b.effects.createPlaceholder(c);m.clip[h[e][0]]=
m.clip[h[e][1]];"show"===a.mode&&(c.cssClip(m.clip),g&&g.css(b.effects.clipToBox(m)),m.clip=f);g&&g.animate(b.effects.clipToBox(m),a.duration,a.easing);c.animate(m,{queue:!1,duration:a.duration,easing:a.easing,complete:d})});b.effects.define("bounce",function(a,d){var h,c,e=b(this),f=a.mode,m="hide"===f;c="show"===f;var g=a.direction||"up",f=a.distance,k=a.times||5,p=2*k+(c||m?1:0),n=a.duration/p,r=a.easing,l="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g,s=0,u=e.queue().length;b.effects.createPlaceholder(e);
h=e.css(l);f||(f=e["top"===l?"outerHeight":"outerWidth"]()/3);c&&(c={opacity:1},c[l]=h,e.css("opacity",0).css(l,g?2*-f:2*f).animate(c,n,r));m&&(f/=Math.pow(2,k-1));c={};for(c[l]=h;s<k;s++)h={},h[l]=(g?"-=":"+=")+f,e.animate(h,n,r).animate(c,n,r),f=m?2*f:f/2;m&&(h={opacity:0},h[l]=(g?"-=":"+=")+f,e.animate(h,n,r));e.queue(d);b.effects.unshift(e,u,p+1)});b.effects.define("clip","hide",function(a,d){var h,c={},e=b(this);h=a.direction||"vertical";var f="both"===h,m=f||"horizontal"===h,f=f||"vertical"===
h;h=e.cssClip();c.clip={top:f?(h.bottom-h.top)/2:h.top,right:m?(h.right-h.left)/2:h.right,bottom:f?(h.bottom-h.top)/2:h.bottom,left:m?(h.right-h.left)/2:h.left};b.effects.createPlaceholder(e);"show"===a.mode&&(e.cssClip(c.clip),c.clip=h);e.animate(c,{queue:!1,duration:a.duration,easing:a.easing,complete:d})});b.effects.define("drop","hide",function(a,d){var h,c=b(this),e="show"===a.mode;h=a.direction||"left";var f="up"===h||"down"===h?"top":"left",m="up"===h||"left"===h?"-=":"+=",g="+="===m?"-=":
"+=",k={opacity:0};b.effects.createPlaceholder(c);h=a.distance||c["top"===f?"outerHeight":"outerWidth"](!0)/2;k[f]=m+h;e&&(c.css(k),k[f]=g+h,k.opacity=1);c.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:d})});b.effects.define("explode","hide",function(a,d){function h(){H.push(this);H.length===p*n&&(r.css({visibility:"visible"}),b(H).remove(),d())}var c,e,f,m,g,k,p=a.pieces?Math.round(Math.sqrt(a.pieces)):3,n=p,r=b(this),l="show"===a.mode,s=r.show().css("visibility","hidden").offset(),
u=Math.ceil(r.outerWidth()/n),v=Math.ceil(r.outerHeight()/p),H=[];for(c=0;c<p;c++)for(m=s.top+c*v,k=c-(p-1)/2,e=0;e<n;e++)f=s.left+e*u,g=e-(n-1)/2,r.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-e*u,top:-c*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:u,height:v,left:f+(l?g*u:0),top:m+(l?k*v:0),opacity:l?0:1}).animate({left:f+(l?0:g*u),top:m+(l?0:k*v),opacity:l?1:0},a.duration||500,a.easing,h)});b.effects.define("fade",
"toggle",function(a,d){var h="show"===a.mode;b(this).css("opacity",h?0:1).animate({opacity:h?1:0},{queue:!1,duration:a.duration,easing:a.easing,complete:d})});b.effects.define("fold","hide",function(a,d){var h=b(this),c=a.mode,e="show"===c,c="hide"===c,f=a.size||15,m=/([0-9]+)%/.exec(f),g=a.horizFirst?["right","bottom"]:["bottom","right"],k=a.duration/2,p=b.effects.createPlaceholder(h),n=h.cssClip(),r={clip:b.extend({},n)},l={clip:b.extend({},n)},s=[n[g[0]],n[g[1]]],u=h.queue().length;m&&(f=parseInt(m[1],
10)/100*s[c?0:1]);r.clip[g[0]]=f;l.clip[g[0]]=f;l.clip[g[1]]=0;e&&(h.cssClip(l.clip),p&&p.css(b.effects.clipToBox(l)),l.clip=n);h.queue(function(d){p&&p.animate(b.effects.clipToBox(r),k,a.easing).animate(b.effects.clipToBox(l),k,a.easing);d()}).animate(r,k,a.easing).animate(l,k,a.easing).queue(d);b.effects.unshift(h,u,4)});b.effects.define("highlight","show",function(a,d){var h=b(this),c={backgroundColor:h.css("backgroundColor")};"hide"===a.mode&&(c.opacity=0);b.effects.saveStyle(h);h.css({backgroundImage:"none",
backgroundColor:a.color||"#ffff99"}).animate(c,{queue:!1,duration:a.duration,easing:a.easing,complete:d})});b.effects.define("size",function(a,d){var h,c,e,f,m,g,k=b(this),p=["fontSize"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],r=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"];g=a.mode;var l="effect"!==g,s=a.scale||"both";m=a.origin||["middle","center"];var u=k.css("position"),v=k.position(),H=b.effects.scaledDimensions(k),x=a.from||H,D=a.to||b.effects.scaledDimensions(k,
0);b.effects.createPlaceholder(k);"show"===g&&(g=x,x=D,D=g);e=x.height/H.height;f=x.width/H.width;h=D.height/H.height;c=D.width/H.width;if("box"===s||"both"===s)e!==h&&(x=b.effects.setTransition(k,n,e,x),D=b.effects.setTransition(k,n,h,D)),f!==c&&(x=b.effects.setTransition(k,r,f,x),D=b.effects.setTransition(k,r,c,D));"content"!==s&&"both"!==s||e===h||(x=b.effects.setTransition(k,p,e,x),D=b.effects.setTransition(k,p,h,D));m&&(m=b.effects.getBaseline(m,H),x.top=(H.outerHeight-x.outerHeight)*m.y+v.top,
x.left=(H.outerWidth-x.outerWidth)*m.x+v.left,D.top=(H.outerHeight-D.outerHeight)*m.y+v.top,D.left=(H.outerWidth-D.outerWidth)*m.x+v.left);k.css(x);if("content"===s||"both"===s)n=n.concat(["marginTop","marginBottom"]).concat(p),r=r.concat(["marginLeft","marginRight"]),k.find("*[width]").each(function(){var d=b(this),m=b.effects.scaledDimensions(d),g={height:m.height*e,width:m.width*f,outerHeight:m.outerHeight*e,outerWidth:m.outerWidth*f},m={height:m.height*h,width:m.width*c,outerHeight:m.height*h,
outerWidth:m.width*c};e!==h&&(g=b.effects.setTransition(d,n,e,g),m=b.effects.setTransition(d,n,h,m));f!==c&&(g=b.effects.setTransition(d,r,f,g),m=b.effects.setTransition(d,r,c,m));l&&b.effects.saveStyle(d);d.css(g);d.animate(m,a.duration,a.easing,function(){l&&b.effects.restoreStyle(d)})});k.animate(D,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){var a=k.offset();0===D.opacity&&k.css("opacity",x.opacity);l||(k.css("position","static"===u?"relative":u).offset(a),b.effects.saveStyle(k));
d()}})});b.effects.define("scale",function(a,d){var h=b(this),c=a.mode,c=parseInt(a.percent,10)||(0===parseInt(a.percent,10)?0:"effect"!==c?0:100),h=b.extend(!0,{from:b.effects.scaledDimensions(h),to:b.effects.scaledDimensions(h,c,a.direction||"both"),origin:a.origin||["middle","center"]},a);a.fade&&(h.from.opacity=1,h.to.opacity=0);b.effects.effect.size.call(this,h,d)});b.effects.define("puff","hide",function(a,d){var h=b.extend(!0,{},a,{fade:!0,percent:parseInt(a.percent,10)||150});b.effects.effect.scale.call(this,
h,d)});b.effects.define("pulsate","show",function(a,d){var h=b(this),c=a.mode,e="show"===c,c=2*(a.times||5)+(e||"hide"===c?1:0),f=a.duration/c,m=0,g=1,k=h.queue().length;if(e||!h.is(":visible"))h.css("opacity",0).show(),m=1;for(;g<c;g++)h.animate({opacity:m},f,a.easing),m=1-m;h.animate({opacity:m},f,a.easing);h.queue(d);b.effects.unshift(h,k,c+1)});b.effects.define("shake",function(a,d){var h=1,c=b(this),e=a.direction||"left",f=a.distance||20,m=a.times||3,g=2*m+1,k=Math.round(a.duration/g),p="up"===
e||"down"===e?"top":"left",e="up"===e||"left"===e,n={},r={},l={},s=c.queue().length;b.effects.createPlaceholder(c);n[p]=(e?"-=":"+=")+f;r[p]=(e?"+=":"-=")+2*f;l[p]=(e?"-=":"+=")+2*f;for(c.animate(n,k,a.easing);h<m;h++)c.animate(r,k,a.easing).animate(l,k,a.easing);c.animate(r,k,a.easing).animate(n,k/2,a.easing).queue(d);b.effects.unshift(c,s,g+1)});b.effects.define("slide","show",function(a,d){var h,c,e=b(this),f={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},
m=a.mode,g=a.direction||"left",k="up"===g||"down"===g?"top":"left",p="up"===g||"left"===g,n=a.distance||e["top"===k?"outerHeight":"outerWidth"](!0),r={};b.effects.createPlaceholder(e);h=e.cssClip();c=e.position()[k];r[k]=(p?-1:1)*n+c;r.clip=e.cssClip();r.clip[f[g][1]]=r.clip[f[g][0]];"show"===m&&(e.cssClip(r.clip),e.css(k,r[k]),r.clip=h,r[k]=c);e.animate(r,{queue:!1,duration:a.duration,easing:a.easing,complete:d})});!1!==b.uiBackCompat&&b.effects.define("transfer",function(a,d){b(this).transfer(a,
d)});b.ui.focusable=function(a,d){var h,c;h=a.nodeName.toLowerCase();if("area"===h){h=a.parentNode;c=h.name;if(!a.href||!c||"map"!==h.nodeName.toLowerCase())return!1;h=b("img[usemap='#"+c+"']");return 0<h.length&&h.is(":visible")}/^(input|select|textarea|button|object)$/.test(h)?(h=!a.disabled)&&(c=b(a).closest("fieldset")[0])&&(h=!c.disabled):h="a"===h?a.href||d:d;if(h&&(h=b(a).is(":visible"))){h=b(a);for(c=h.css("visibility");"inherit"===c;)h=h.parent(),c=h.css("visibility");h="hidden"!==c}return h};
b.extend(b.expr[":"],{focusable:function(a){return b.ui.focusable(a,null!=b.attr(a,"tabindex"))}});b.fn.form=function(){return"string"===typeof this[0].form?this.closest("form"):b(this[0].form)};b.ui.formResetMixin={_formResetHandler:function(){var a=b(this);setTimeout(function(){var d=a.data("ui-form-reset-instances");b.each(d,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(this.form.length){var a=this.form.data("ui-form-reset-instances")||[];if(!a.length)this.form.on("reset.ui-form-reset",
this._formResetHandler);a.push(this);this.form.data("ui-form-reset-instances",a)}},_unbindFormResetHandler:function(){if(this.form.length){var a=this.form.data("ui-form-reset-instances");a.splice(b.inArray(this,a),1);a.length?this.form.data("ui-form-reset-instances",a):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===b.fn.jquery.substring(0,3)&&(b.each(["Width","Height"],function(a,d){function h(a,d,h,e){b.each(c,function(){d-=parseFloat(b.css(a,"padding"+this))||
0;h&&(d-=parseFloat(b.css(a,"border"+this+"Width"))||0);e&&(d-=parseFloat(b.css(a,"margin"+this))||0)});return d}var c="Width"===d?["Left","Right"]:["Top","Bottom"],e=d.toLowerCase(),f={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+d]=function(a){return void 0===a?f["inner"+d].call(this):this.each(function(){b(this).css(e,h(this,a)+"px")})};b.fn["outer"+d]=function(a,c){return"number"!==typeof a?f["outer"+d].call(this,
a):this.each(function(){b(this).css(e,h(this,a,!0,c)+"px")})}}),b.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});b.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};b.ui.escapeSelector=function(){var a=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}();b.fn.labels=function(){var a,d,h;if(this[0].labels&&this[0].labels.length)return this.pushStack(this[0].labels);
h=this.eq(0).parents("label");if(d=this.attr("id"))a=this.eq(0).parents().last(),a=a.add(a.length?a.siblings():this.siblings()),d="label[for='"+b.ui.escapeSelector(d)+"']",h=h.add(a.find(d).addBack(d));return this.pushStack(h)};b.fn.scrollParent=function(a){var d=this.css("position"),h="absolute"===d,c=a?/(auto|scroll|hidden)/:/(auto|scroll)/;a=this.parents().filter(function(){var a=b(this);return h&&"static"===a.css("position")?!1:c.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);
return"fixed"!==d&&a.length?a:b(this[0].ownerDocument||document)};b.extend(b.expr[":"],{tabbable:function(a){var d=b.attr(a,"tabindex"),h=null!=d;return(!h||0<=d)&&b.ui.focusable(a,h)}});b.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&b(this).removeAttr("id")})}});b.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top",
"ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",
height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=b();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");a.collapsible||!1!==a.active&&null!=a.active||(a.active=0);this._processPanels();0>a.active&&(a.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():b()}},_createIcons:function(){var a,d=this.options.icons;d&&(a=b("<span>"),this._addClass(a,
"ui-accordion-header-icon","ui-icon "+d.header),a.prependTo(this.headers),a=this.active.children(".ui-accordion-header-icon"),this._removeClass(a,d.header)._addClass(a,null,d.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();
this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()))},_setOptionDisabled:function(a){this._super(a);
this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var d=b.ui.keyCode,h=this.headers.length,c=this.headers.index(a.target),e=!1;switch(a.keyCode){case d.RIGHT:case d.DOWN:e=this.headers[(c+1)%h];break;case d.LEFT:case d.UP:e=this.headers[(c-1+h)%h];break;case d.SPACE:case d.ENTER:this._eventHandler(a);break;case d.HOME:e=this.headers[0];
break;case d.END:e=this.headers[h-1]}e&&(b(a.target).attr("tabIndex",-1),b(e).attr("tabIndex",0),b(e).trigger("focus"),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===b.ui.keyCode.UP&&a.ctrlKey&&b(a.currentTarget).prev().trigger("focus")},refresh:function(){var a=this.options;this._processPanels();!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=!1,this.active=b()):!1===a.active?this._activate(0):this.active.length&&!b.contains(this.element[0],this.active[0])?this.headers.length===
this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=b()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,
"ui-accordion-content","ui-helper-reset ui-widget-content");b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var a,d=this.options,h=d.heightStyle,c=this.element.parent();this.active=this._findActive(d.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var a=
b(this),d=a.uniqueId().attr("id"),h=a.next(),c=h.uniqueId().attr("id");a.attr("aria-controls",c);h.attr("aria-labelledby",d)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(d.event);
"fill"===h?(a=c.height(),this.element.siblings(":visible").each(function(){var d=b(this),h=d.css("position");"absolute"!==h&&"fixed"!==h&&(a-=d.outerHeight(!0))}),this.headers.each(function(){a-=b(this).outerHeight(!0)}),this.headers.next().each(function(){b(this).height(Math.max(0,a-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===h&&(a=0,this.headers.next().each(function(){var d=b(this).is(":visible");d||b(this).show();a=Math.max(a,b(this).css("height","").height());d||
b(this).hide()}).height(a))},_activate:function(a){a=this._findActive(a)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:b.noop}))},_findActive:function(a){return"number"===typeof a?this.headers.eq(a):b()},_setupEvents:function(a){var d={keydown:"_keydown"};a&&b.each(a.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,d);this._on(this.headers.next(),{keydown:"_panelKeyDown"});
this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var d,h=this.options,c=this.active,e=b(a.currentTarget),f=(d=e[0]===c[0])&&h.collapsible,m=f?b():e.next(),g=c.next(),m={oldHeader:c,oldPanel:g,newHeader:f?b():e,newPanel:m};a.preventDefault();d&&!h.collapsible||!1===this._trigger("beforeActivate",a,m)||(h.active=f?!1:this.headers.index(e),this.active=d?b():e,this._toggle(m),this._removeClass(c,"ui-accordion-header-active","ui-state-active"),h.icons&&(a=c.children(".ui-accordion-header-icon"),
this._removeClass(a,null,h.icons.activeHeader)._addClass(a,null,h.icons.header)),d||(this._removeClass(e,"ui-accordion-header-collapsed")._addClass(e,"ui-accordion-header-active","ui-state-active"),h.icons&&(d=e.children(".ui-accordion-header-icon"),this._removeClass(d,null,h.icons.header)._addClass(d,null,h.icons.activeHeader)),this._addClass(e.next(),"ui-accordion-content-active")))},_toggle:function(a){var d=a.newPanel,h=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,
!0);this.prevShow=d;this.prevHide=h;this.options.animate?this._animate(d,h,a):(h.hide(),d.show(),this._toggleComplete(a));h.attr({"aria-hidden":"true"});h.prev().attr({"aria-selected":"false","aria-expanded":"false"});d.length&&h.length?h.prev().attr({tabIndex:-1,"aria-expanded":"false"}):d.length&&this.headers.filter(function(){return 0===parseInt(b(this).attr("tabIndex"),10)}).attr("tabIndex",-1);d.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},
_animate:function(a,b,h){var c,e,f,m=this,g=0,k=a.css("box-sizing"),p=a.length&&(!b.length||a.index()<b.index()),n=this.options.animate||{},p=p&&n.down||n,r=function(){m._toggleComplete(h)};"number"===typeof p&&(f=p);"string"===typeof p&&(e=p);e=e||p.easing||n.easing;f=f||p.duration||n.duration;if(!b.length)return a.animate(this.showProps,f,e,r);if(!a.length)return b.animate(this.hideProps,f,e,r);c=a.show().outerHeight();b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}});
a.hide().animate(this.showProps,{duration:f,easing:e,complete:r,step:function(a,h){h.now=Math.round(a);"height"!==h.prop?"content-box"===k&&(g+=h.now):"content"!==m.options.heightStyle&&(h.now=Math.round(c-b.outerHeight()-g),g=0)}})},_toggleComplete:function(a){var b=a.oldPanel,h=b.prev();this._removeClass(b,"ui-accordion-content-active");this._removeClass(h,"ui-accordion-header-active")._addClass(h,"ui-accordion-header-collapsed");b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",
null,a)}});b.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(h){b=a.body}b||(b=a.body);b.nodeName||(b=a.body);return b};b.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu",
"ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var d=b(a.target),h=b(b.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&h.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&
clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var d=b(a.target).closest(".ui-menu-item"),h=b(a.currentTarget);d[0]===h[0]&&(this._removeClass(h.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(a,h))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var h=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,h)},blur:function(a){this._delay(function(){b.contains(this.element[0],
b.ui.safeActiveElement(this.document[0]))||this.collapseAll(a)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){var a=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();
a.children().each(function(){var a=b(this);a.data("ui-menu-submenu-caret")&&a.remove()})},_keydown:function(a){var d,h,c,e=!0;switch(a.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(a);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case b.ui.keyCode.HOME:this._move("first","first",a);break;case b.ui.keyCode.END:this._move("last","last",a);break;case b.ui.keyCode.UP:this.previous(a);break;case b.ui.keyCode.DOWN:this.next(a);break;case b.ui.keyCode.LEFT:this.collapse(a);break;case b.ui.keyCode.RIGHT:this.active&&
!this.active.is(".ui-state-disabled")&&this.expand(a);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(a);break;case b.ui.keyCode.ESCAPE:this.collapse(a);break;default:e=!1,d=this.previousFilter||"",h=String.fromCharCode(a.keyCode),c=!1,clearTimeout(this.filterTimer),h===d?c=!0:h=d+h,d=this._filterMenuItems(h),d=c&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(h=String.fromCharCode(a.keyCode),d=this._filterMenuItems(h)),d.length?(this.focus(a,
d),this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}e&&a.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a,d,h,c=this,e=this.options.icons.submenu;d=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);a=d.filter(":not(.ui-menu)").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=b(this),d=a.prev(),h=b("<span>").data("ui-menu-submenu-caret",!0);c._addClass(h,"ui-menu-icon","ui-icon "+e);d.attr("aria-haspopup","true").prepend(h);a.attr("aria-labelledby",d.attr("id"))});this._addClass(a,"ui-menu","ui-widget ui-widget-content ui-front");a=d.add(this.element).find(this.options.items);a.not(".ui-menu-item").each(function(){var a=b(this);c._isDivider(a)&&c._addClass(a,"ui-menu-divider","ui-widget-content")});d=
a.not(".ui-menu-item, .ui-menu-divider");h=d.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(d,"ui-menu-item")._addClass(h,"ui-menu-item-wrapper");a.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if("icons"===a){var h=this.element.find(".ui-menu-icon");this._removeClass(h,
null,this.options.icons.submenu)._addClass(h,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",String(a));this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){var h;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();h=this.active.children(".ui-menu-item-wrapper");this._addClass(h,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",h.attr("id"));h=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");
this._addClass(h,null,"ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);h=b.children(".ui-menu");h.length&&a&&/^mouse/.test(a.type)&&this._startOpening(h);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var d,h,c;this._hasScroll()&&(d=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,h=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-
d-h,h=this.activeMenu.scrollTop(),c=this.activeMenu.height(),a=a.outerHeight(),0>d?this.activeMenu.scrollTop(h+d):d+a>c&&this.activeMenu.scrollTop(h+d-c+a))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();
this._open(a)},this.delay))},_open:function(a){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(a,d){clearTimeout(this.timer);this.timer=this._delay(function(){var h=d?this.element:b(a&&a.target).closest(this.element.find(".ui-menu"));h.length||(h=this.element);this._close(h);this.blur(a);
this._removeClass(h.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=h},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(a){return!b(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);
b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,b,h){var c;this.active&&(c="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));c&&c.length&&this.active||(c=this.activeMenu.find(this.options.items)[b]());this.focus(h,c)},nextPage:function(a){var d,h,c;this.active?this.isLastItem()||(this._hasScroll()?(h=this.active.offset().top,c=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){d=b(this);return 0>d.offset().top-h-c}),
this.focus(a,d)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(a)},previousPage:function(a){var d,h,c;this.active?this.isFirstItem()||(this._hasScroll()?(h=this.active.offset().top,c=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){d=b(this);return 0<d.offset().top-h+c}),this.focus(a,d)):this.focus(a,this.activeMenu.find(this.options.items).first())):this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},
select:function(a){this.active=this.active||b(a.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",a,d)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(b.trim(b(this).children(".ui-menu-item-wrapper").text()))})}});b.widget("ui.autocomplete",{version:"1.12.0",
defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,d,h,c=this.element[0].nodeName.toLowerCase(),e="textarea"===c,c="input"===c;this.isMultiLine=e||!c&&this._isContentEditable(this.element);this.valueMethod=this.element[e||c?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");
this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(c){if(this.element.prop("readOnly"))d=h=a=!0;else{d=h=a=!1;var e=b.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:a=!0;this._move("previousPage",c);break;case e.PAGE_DOWN:a=!0;this._move("nextPage",c);break;case e.UP:a=!0;this._keyEvent("previous",c);break;case e.DOWN:a=!0;this._keyEvent("next",c);break;case e.ENTER:this.menu.active&&(a=!0,c.preventDefault(),this.menu.select(c));break;case e.TAB:this.menu.active&&this.menu.select(c);
break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(c),c.preventDefault());break;default:d=!0,this._searchTimeout(c)}}},keypress:function(h){if(a)a=!1,this.isMultiLine&&!this.menu.element.is(":visible")||h.preventDefault();else if(!d){var c=b.ui.keyCode;switch(h.keyCode){case c.PAGE_UP:this._move("previousPage",h);break;case c.PAGE_DOWN:this._move("nextPage",h);break;case c.UP:this._keyEvent("previous",h);break;case c.DOWN:this._keyEvent("next",
h)}}},input:function(a){h?(h=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=b("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();
this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(a,d){var h;if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){b(a.target).trigger(a.originalEvent)});return}h=d.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:h})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&
this._value(h.value);(h=d.item.attr("aria-label")||h.value)&&b.trim(h).length&&(this.liveRegion.children().hide(),b("<div>").text(h).appendTo(this.liveRegion))},menuselect:function(a,d){var h=d.item.data("ui-autocomplete-item"),c=this.previous;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=c,this._delay(function(){this.previous=c;this.selectedItem=h}));!1!==this._trigger("select",a,{item:h})&&this._value(h.value);this.term=this._value();this.close(a);
this.selectedItem=h}});this.liveRegion=b("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===
a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(a){var d=this.menu.element[0];return a.target===this.element[0]||a.target===d||b.contains(d,a.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var a=this.options.appendTo;a&&(a=a.jquery||a.nodeType?b(a):this.document.find(a).eq(0));a&&a[0]||(a=this.element.closest(".ui-front, dialog"));
a.length||(a=this.document[0].body);return a},_initSource:function(){var a,d,h=this;b.isArray(this.options.source)?(a=this.options.source,this.source=function(d,h){h(b.ui.autocomplete.filter(a,d.term))}):"string"===typeof this.options.source?(d=this.options.source,this.source=function(a,c){h.xhr&&h.xhr.abort();h.xhr=b.ajax({url:d,data:a,dataType:"json",success:function(a){c(a)},error:function(){c([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=
this._delay(function(){var b=this.term===this._value(),h=this.menu.element.is(":visible"),c=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!b||b&&!h&&!c)this.selectedItem=null,this.search(null,a)},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},
this._response())},_response:function(){var a=++this.requestIndex;return b.proxy(function(b){a===this.requestIndex&&this.__response(b);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,
"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:b.map(a,function(a){return"string"===typeof a?{label:a,value:a}:b.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(a){var d=this.menu.element.empty();this._renderMenu(d,
a);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,d){var h=this;b.each(d,function(b,d){h._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",
b)},_renderItem:function(a,d){return b("<li>").append(b("<div>").text(d.label)).appendTo(a)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||
this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}});b.extend(b.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,d){var h=RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(a,function(a){return h.test(a.label||a.value||a)})}});b.widget("ui.autocomplete",b.ui.autocomplete,
{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var d;this._superApply(arguments);this.options.disabled||this.cancelSearch||(d=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),b("<div>").text(d).appendTo(this.liveRegion))}});var s=/ui-corner-([a-z]){2,6}/g;b.widget("ui.controlgroup",{version:"1.12.0",
defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");
this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,d=[];b.each(this.options.items,function(h,c){var e,f={};c&&("controlgroupLabel"===h?(e=a.element.find(c),e.each(function(){var a=b(this);a.children(".ui-controlgroup-label-contents").length||a.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(e,
null,"ui-widget ui-widget-content ui-state-default"),d=d.concat(e.get())):b.fn[h]&&(a["_"+h+"Options"]&&(f=a["_"+h+"Options"]("middle")),a.element.find(c).each(function(){var c=b(this),e=c[h]("instance"),m=b.widget.extend({},f);"button"===h&&c.parent(".ui-spinner").length||(e||(e=c[h]()[h]("instance")),e&&(m.classes=a._resolveClassesValues(m.classes,e)),c[h](m),m=c[h]("widget"),b.data(m[0],"ui-controlgroup-data",e?e:c[h]("instance")),d.push(m[0]))})))});this.childWidgets=b(b.unique(d));this._addClass(this.childWidgets,
"ui-controlgroup-item")},_callChildMethod:function(a){this.childWidgets.each(function(){var d=b(this).data("ui-controlgroup-data");if(d&&d[a])d[a]()})},_updateCornerClass:function(a,b){var h=this._buildSimpleOptions(b,"label").classes.label;this._removeClass(a,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(a,null,h)},_buildSimpleOptions:function(a,b){var h="vertical"===this.options.direction,c={classes:{}};c.classes[b]={middle:"",first:"ui-corner-"+
(h?"top":"left"),last:"ui-corner-"+(h?"bottom":"right"),only:"ui-corner-all"}[a];return c},_spinnerOptions:function(a){a=this._buildSimpleOptions(a,"ui-spinner");a.classes["ui-spinner-up"]="";a.classes["ui-spinner-down"]="";return a},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},_selectmenuOptions:function(a){var b="vertical"===this.options.direction;return{width:b?"auto":!1,
classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},_resolveClassesValues:function(a,d){var h={};b.each(a,function(b){var c=d.options.classes[b]||
"",c=c.replace(s,"").trim();h[b]=(c+" "+a[b]).replace(/\s+/g," ")});return h},_setOption:function(a,b){"direction"===a&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(a,b);"disabled"===a?this._callChildMethod(b?"disable":"enable"):this.refresh()},refresh:function(){var a,d=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();a=this.childWidgets;this.options.onlyVisible&&
(a=a.filter(":visible"));a.length&&(b.each(["first","last"],function(b,c){var e=a[c]().data("ui-controlgroup-data");if(e&&d["_"+e.widgetName+"Options"]){var f=d["_"+e.widgetName+"Options"](1===a.length?"only":c);f.classes=d._resolveClassesValues(f.classes,e);e.element[e.widgetName](f)}else d._updateCornerClass(a[c](),c)}),this._callChildMethod("refresh"))}});b.widget("ui.checkboxradio",[b.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all",
"ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var a,d=this,h=this._super()||{};this._readType();a=this.element.labels();this.label=b(a[a.length-1]);this.label.length||b.error("No label found for checkboxradio widget");this.originalLabel="";this.label.contents().not(this.element).each(function(){d.originalLabel+=3===this.nodeType?b(this).text():this.outerHTML});this.originalLabel&&(h.label=this.originalLabel);a=this.element[0].disabled;null!=a&&(h.disabled=a);return h},_create:function(){var a=
this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=
this.originalLabel);this._enhance();a&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover"));this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var a=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===a&&/radio|checkbox/.test(this.type)||
b.error("Can't create checkboxradio on element.nodeName="+a+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var a=this.element[0].name,d="input[name='"+b.ui.escapeSelector(a)+"']";return a?(this.form.length?b(this.form[0].elements).filter(d):b(d).filter(function(){return 0===b(this).form().length})).not(this.element):b([])},_toggleClasses:function(){var a=this.element[0].checked;this._toggleClass(this.label,
"ui-checkboxradio-checked","ui-state-active",a);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",a)._toggleClass(this.icon,null,"ui-icon-blank",!a);"radio"===this.type&&this._getRadioGroup().each(function(){var a=b(this).checkboxradio("instance");a&&a._removeClass(a.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(a,
b){if("label"!==a||b)this._super(a,b),"disabled"===a?(this._toggleClass(this.label,null,"ui-state-disabled",b),this.element[0].disabled=b):this.refresh()},_updateIcon:function(a){var d="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=b("<span>"),this.iconSpace=b("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(d+=a?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,a?"ui-icon-blank":"ui-icon-check")):
d+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",d),a||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove();this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,b=this.element[0].disabled;
this._updateIcon(a);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a);null!==this.options.label&&this._updateLabel();b!==this.options.disabled&&this._setOptions({disabled:b})}}]);b.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a,b=this._super()||{};this.isInput=this.element.is("input");a=this.element[0].disabled;
null!=a&&(b.disabled=a);if(this.originalLabel=this.isInput?this.element.val():this.element.html())b.label=this.originalLabel;return b},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));
this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(a){a.keyCode===b.ui.keyCode.SPACE&&(a.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");
this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(a,d){var h="iconPosition"!==a,c=h?this.options.iconPosition:d,e="top"===c||"bottom"===c;this.icon?h&&this._removeClass(this.icon,null,this.options.icon):(this.icon=b("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));h&&this._addClass(this.icon,null,d);this._attachIcon(c);e?(this._addClass(this.icon,null,"ui-widget-icon-block"),
this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=b("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(c))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},
_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.icon?this.options.icon:a.icon;(void 0===a.showLabel?this.options.showLabel:a.showLabel)||b||(a.showLabel=!0);this._super(a)},_setOption:function(a,b){"icon"===a&&(b?this._updateIcon(a,b):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===a&&this._updateIcon(a,b);"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,
!b),this._updateTooltip());"label"===a&&(this.isInput?this.element.val(b):(this.element.html(b),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(a,b);"disabled"===a&&(this._toggleClass(null,"ui-state-disabled",b),(this.element[0].disabled=b)&&this.element.blur())},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a});
this._updateTooltip()}});!1!==b.uiBackCompat&&(b.widget("ui.button",b.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=
this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(a,b){"text"===a?this._super("showLabel",b):("showLabel"===a&&(this.options.text=b),"icon"===a&&(this.options.icons.primary=b),"icons"===a&&(b.primary?(this._super("icon",b.primary),this._super("iconPosition","beginning")):b.secondary&&(this._super("icon",b.secondary),this._super("iconPosition","end"))),this._superApply(arguments))}}),b.fn.button=function(a){return function(){if(!this.length||
this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type"))return a.apply(this,arguments);b.ui.checkboxradio||b.error("Checkboxradio widget missing");return 0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments)}}(b.fn.button),b.fn.buttonset=function(){b.ui.controlgroup||b.error("Controlgroup widget missing");if("option"===arguments[0]&&"items"===arguments[1]&&arguments[2])return this.controlgroup.apply(this,
[arguments[0],"items.button",arguments[2]]);if("option"===arguments[0]&&"items"===arguments[1])return this.controlgroup.apply(this,[arguments[0],"items.button"]);"object"===typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items});return this.controlgroup.apply(this,arguments)});b.extend(b.ui,{datepicker:{version:"1.12.0"}});var v;b.extend(k.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){f(this._defaults,
a||{});return this},_attachDatepicker:function(a,d){var h,c,e;h=a.nodeName.toLowerCase();c="div"===h||"span"===h;a.id||(this.uuid+=1,a.id="dp"+this.uuid);e=this._newInst(b(a),c);e.settings=b.extend({},d||{});"input"===h?this._connectDatepicker(a,e):c&&this._inlineDatepicker(a,e)},_newInst:function(a,d){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?g(b("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(a,d){var h=b(a);d.append=b([]);d.trigger=b([]);h.hasClass(this.markerClassName)||(this._attachments(h,d),h.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(d),b.data(a,"datepicker",d),d.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,d){var h,c;h=this._get(d,"appendText");var e=this._get(d,"isRTL");d.append&&d.append.remove();h&&(d.append=b("<span class='"+
this._appendClass+"'>"+h+"</span>"),a[e?"before":"after"](d.append));a.off("focus",this._showDatepicker);d.trigger&&d.trigger.remove();h=this._get(d,"showOn");if("focus"===h||"both"===h)a.on("focus",this._showDatepicker);if("button"===h||"both"===h)h=this._get(d,"buttonText"),c=this._get(d,"buttonImage"),d.trigger=b(this._get(d,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:c,alt:h,title:h}):b("<button type='button'></button>").addClass(this._triggerClass).html(c?b("<img/>").attr({src:c,
alt:h,title:h}):h)),a[e?"before":"after"](d.trigger),d.trigger.on("click",function(){b.datepicker._datepickerShowing&&b.datepicker._lastInput===a[0]?b.datepicker._hideDatepicker():(b.datepicker._datepickerShowing&&b.datepicker._lastInput!==a[0]&&b.datepicker._hideDatepicker(),b.datepicker._showDatepicker(a[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,h,c,e,f=new Date(2009,11,20),m=this._get(a,"dateFormat");m.match(/[DM]/)&&(b=function(a){for(e=c=h=0;e<a.length;e++)a[e].length>
h&&(h=a[e].length,c=e);return c},f.setMonth(b(this._get(a,m.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,m.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,d){var h=b(a);h.hasClass(this.markerClassName)||(h.addClass(this.markerClassName).append(d.dpDiv),b.data(a,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),d.settings.disabled&&
this._disableDatepicker(a),d.dpDiv.css("display","block"))},_dialogDatepicker:function(a,d,h,c,e){var m;a=this._dialogInst;a||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=b("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],"datepicker",a));f(a.settings,c||{});d=d&&d.constructor===
Date?this._formatDate(a,d):d;this._dialogInput.val(d);this._pos=e?e.length?e:[e.pageX,e.pageY]:null;this._pos||(d=document.documentElement.clientWidth,c=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+e,c/2-150+m]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=h;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);b.blockUI&&b.blockUI(this.dpDiv);b.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var d,h=b(a),c=b.data(a,"datepicker");h.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),b.removeData(a,"datepicker"),"input"===d?(c.append.remove(),c.trigger.remove(),h.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):
"div"!==d&&"span"!==d||h.removeClass(this.markerClassName).empty(),v===c&&(v=null))},_enableDatepicker:function(a){var d,h=b(a),c=b.data(a,"datepicker");if(h.hasClass(this.markerClassName)){d=a.nodeName.toLowerCase();if("input"===d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===d||"span"===d)d=h.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b})}},_disableDatepicker:function(a){var d,h=b(a),c=b.data(a,"datepicker");if(h.hasClass(this.markerClassName)){d=a.nodeName.toLowerCase();if("input"===d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===d||"span"===d)d=h.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,d,h){var c,e,m,g,k=this._getInst(a);if(2===arguments.length&&"string"===
typeof d)return"defaults"===d?b.extend({},b.datepicker._defaults):k?"all"===d?b.extend({},k.settings):this._get(k,d):null;c=d||{};"string"===typeof d&&(c={},c[d]=h);k&&(this._curInst===k&&this._hideDatepicker(),e=this._getDateDatepicker(a,!0),m=this._getMinMaxDate(k,"min"),g=this._getMinMaxDate(k,"max"),f(k.settings,c),null!==m&&void 0!==c.dateFormat&&void 0===c.minDate&&(k.settings.minDate=this._formatDate(k,m)),null!==g&&void 0!==c.dateFormat&&void 0===c.maxDate&&(k.settings.maxDate=this._formatDate(k,
g)),"disabled"in c&&(c.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(b(a),k),this._autoSize(k),this._setDate(k,e),this._updateAlternate(k),this._updateDatepicker(k))},_changeDatepicker:function(a,b,h){this._optionDatepicker(a,b,h)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var h=this._getInst(a);h&&(this._setDate(h,b),this._updateDatepicker(h),this._updateAlternate(h))},_getDateDatepicker:function(a,
b){var h=this._getInst(a);h&&!h.inline&&this._setDateFromField(h,b);return h?this._getDate(h):null},_doKeyDown:function(a){var d,h=b.datepicker._getInst(a.target);d=!0;var c=h.dpDiv.is(".ui-datepicker-rtl");h._keyEvent=!0;if(b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();d=!1;break;case 13:return d=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",h.dpDiv),d[0]&&b.datepicker._selectDay(a.target,h.selectedMonth,h.selectedYear,d[0]),
(a=b.datepicker._get(h,"onSelect"))?(d=b.datepicker._formatDate(h),a.apply(h.input?h.input[0]:null,[d,h])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(h,"stepBigMonths"):-b.datepicker._get(h,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(h,"stepBigMonths"):+b.datepicker._get(h,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target);
d=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);d=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,c?1:-1,"D");d=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(h,"stepBigMonths"):-b.datepicker._get(h,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");d=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&
b.datepicker._adjustDate(a.target,c?-1:1,"D");d=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(h,"stepBigMonths"):+b.datepicker._get(h,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,7,"D");d=a.ctrlKey||a.metaKey;break;default:d=!1}else 36===a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):d=!1;d&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var d,h;d=b.datepicker._getInst(a.target);
if(b.datepicker._get(d,"constrainInput"))return d=b.datepicker._possibleChars(b.datepicker._get(d,"dateFormat")),h=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">h||!d||-1<d.indexOf(h)},_doKeyUp:function(a){var d;a=b.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(d=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,b.datepicker._getFormatConfig(a)))b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),
b.datepicker._updateDatepicker(a)}catch(h){}return!0},_showDatepicker:function(a){a=a.target||a;"input"!==a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]);if(!b.datepicker._isDisabledDatepicker(a)&&b.datepicker._lastInput!==a){var d,h,c,e;d=b.datepicker._getInst(a);b.datepicker._curInst&&b.datepicker._curInst!==d&&(b.datepicker._curInst.dpDiv.stop(!0,!0),d&&b.datepicker._datepickerShowing&&b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));h=(h=b.datepicker._get(d,"beforeShow"))?
h.apply(a,[a,d]):{};if(!1!==h&&(f(d.settings,h),d.lastVal=null,b.datepicker._lastInput=a,b.datepicker._setDateFromField(d),b.datepicker._inDialog&&(a.value=""),b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),b.datepicker._pos[1]+=a.offsetHeight),c=!1,b(a).parents().each(function(){c|="fixed"===b(this).css("position");return!c}),h={left:b.datepicker._pos[0],top:b.datepicker._pos[1]},b.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
b.datepicker._updateDatepicker(d),h=b.datepicker._checkOffset(d,h,c),d.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":c?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),!d.inline)){h=b.datepicker._get(d,"showAnim");e=b.datepicker._get(d,"duration");d.dpDiv.css("z-index",l(b(a))+1);b.datepicker._datepickerShowing=!0;if(b.effects&&b.effects.effect[h])d.dpDiv.show(h,b.datepicker._get(d,"showOptions"),e);else d.dpDiv[h||"show"](h?e:null);b.datepicker._shouldFocusInput(d)&&
d.input.trigger("focus");b.datepicker._curInst=d}}},_updateDatepicker:function(a){this.maxRows=4;v=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var d,h=this._getNumberOfMonths(a),e=h[1],f=a.dpDiv.find("."+this._dayOverClass+" a");0<f.length&&c.apply(f.get(0));a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<e&&a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em");a.dpDiv[(1!==h[0]||1!==h[1]?"add":"remove")+
"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===b.datepicker._curInst&&b.datepicker._datepickerShowing&&b.datepicker._shouldFocusInput(a)&&a.input.trigger("focus");a.yearshtml&&(d=a.yearshtml,setTimeout(function(){d===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);d=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&
!a.input.is(":focus")},_checkOffset:function(a,d,h){var c=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,m=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+(h?0:b(document).scrollLeft()),k=document.documentElement.clientHeight+(h?0:b(document).scrollTop());d.left-=this._get(a,"isRTL")?c-f:0;d.left-=h&&d.left===a.input.offset().left?b(document).scrollLeft():0;d.top-=h&&d.top===a.input.offset().top+m?b(document).scrollTop():0;d.left-=Math.min(d.left,
d.left+c>g&&g>c?Math.abs(d.left+c-g):0);d.top-=Math.min(d.top,d.top+e>k&&k>e?Math.abs(e+m):0);return d},_findPos:function(a){for(var d=this._getInst(a),d=this._get(d,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||b.expr.filters.hidden(a));)a=a[d?"previousSibling":"nextSibling"];a=b(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var d,h,c=this._curInst;if(c&&(!a||c===b.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(c,"showAnim");d=this._get(c,"duration");h=function(){b.datepicker._tidyDialog(c)};
if(b.effects&&(b.effects.effect[a]||b.effects[a]))c.dpDiv.hide(a,b.datepicker._get(c,"showOptions"),d,h);else c.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?d:null,h);a||h();this._datepickerShowing=!1;(a=this._get(c,"onClose"))&&a.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),b("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var d=b.datepicker._getInst(a[0]);(a[0].id!==b.datepicker._mainDivId&&0===a.parents("#"+b.datepicker._mainDivId).length&&!(a.hasClass(b.datepicker.markerClassName)||a.closest("."+b.datepicker._triggerClass).length||!b.datepicker._datepickerShowing||b.datepicker._inDialog&&b.blockUI)||a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!==d)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,d,h){a=b(a);var c=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(c,d+("M"===h?this._get(c,"showCurrentAtPos"):0),h),this._updateDatepicker(c))},_gotoToday:function(a){var d=b(a),h=this._getInst(d[0]);this._get(h,"gotoCurrent")&&h.currentDay?(h.selectedDay=h.currentDay,h.drawMonth=h.selectedMonth=h.currentMonth,h.drawYear=h.selectedYear=h.currentYear):(a=new Date,h.selectedDay=a.getDate(),h.drawMonth=h.selectedMonth=a.getMonth(),h.drawYear=h.selectedYear=a.getFullYear());this._notifyChange(h);
this._adjustDate(d)},_selectMonthYear:function(a,d,h){a=b(a);var c=this._getInst(a[0]);c["selected"+("M"===h?"Month":"Year")]=c["draw"+("M"===h?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(c);this._adjustDate(a)},_selectDay:function(a,d,h,c){var e;e=b(a);b(c).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(e=this._getInst(e[0]),e.selectedDay=e.currentDay=b("a",c).html(),e.selectedMonth=e.currentMonth=d,e.selectedYear=e.currentYear=h,this._selectDate(a,
this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(a){a=b(a);this._selectDate(a,"")},_selectDate:function(a,d){var h;h=b(a);var c=this._getInst(h[0]);d=null!=d?d:this._formatDate(c);c.input&&c.input.val(d);this._updateAlternate(c);(h=this._get(c,"onSelect"))?h.apply(c.input?c.input[0]:null,[d,c]):c.input&&c.input.trigger("change");c.inline?this._updateDatepicker(c):(this._hideDatepicker(),this._lastInput=c.input[0],"object"!==typeof c.input[0]&&c.input.trigger("focus"),
this._lastInput=null)},_updateAlternate:function(a){var d,h,c=this._get(a,"altField");c&&(d=this._get(a,"altFormat")||this._get(a,"dateFormat"),h=this._getDate(a),a=this.formatDate(d,h,this._getFormatConfig(a)),b(c).val(a))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,d,h){if(null==a||
null==d)throw"Invalid arguments";d="object"===typeof d?d.toString():d+"";if(""===d)return null;var c,e,f,m=0;e=(h?h.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!==typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);f=(h?h.dayNamesShort:null)||this._defaults.dayNamesShort;var g=(h?h.dayNames:null)||this._defaults.dayNames,k=(h?h.monthNamesShort:null)||this._defaults.monthNamesShort,p=(h?h.monthNames:null)||this._defaults.monthNames,n=h=-1,r=-1,l=-1,s=!1,u,v=function(b){(b=c+
1<a.length&&a.charAt(c+1)===b)&&c++;return b},H=function(a){var b=v(a),b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=RegExp("^\\d{"+("y"===a?b:1)+","+b+"}");a=d.substring(m).match(a);if(!a)throw"Missing number at position "+m;m+=a[0].length;return parseInt(a[0],10)},x=function(a,h,c){var e=-1;a=b.map(v(a)?c:h,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});b.each(a,function(a,b){var h=b[1];if(d.substr(m,h.length).toLowerCase()===h.toLowerCase())return e=b[0],
m+=h.length,!1});if(-1!==e)return e+1;throw"Unknown name at position "+m;},D=function(){if(d.charAt(m)!==a.charAt(c))throw"Unexpected literal at position "+m;m++};for(c=0;c<a.length;c++)if(s)"'"!==a.charAt(c)||v("'")?D():s=!1;else switch(a.charAt(c)){case "d":r=H("d");break;case "D":x("D",f,g);break;case "o":l=H("o");break;case "m":n=H("m");break;case "M":n=x("M",k,p);break;case "y":h=H("y");break;case "@":u=new Date(H("@"));h=u.getFullYear();n=u.getMonth()+1;r=u.getDate();break;case "!":u=new Date((H("!")-
this._ticksTo1970)/1E4);h=u.getFullYear();n=u.getMonth()+1;r=u.getDate();break;case "'":v("'")?D():s=!0;break;default:D()}if(m<d.length&&(f=d.substr(m),!/^\s+/.test(f)))throw"Extra/unparsed characters found in date: "+f;-1===h?h=(new Date).getFullYear():100>h&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=e?0:-100));if(-1<l){n=1;r=l;do{e=this._getDaysInMonth(h,n-1);if(r<=e)break;n++;r-=e}while(1)}u=this._daylightSavingAdjust(new Date(h,n-1,r));if(u.getFullYear()!==h||u.getMonth()+
1!==n||u.getDate()!==r)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,h){if(!b)return"";var c,e=(h?h.dayNamesShort:null)||this._defaults.dayNamesShort,f=(h?h.dayNames:null)||this._defaults.dayNames,m=(h?
h.monthNamesShort:null)||this._defaults.monthNamesShort;h=(h?h.monthNames:null)||this._defaults.monthNames;var g=function(b){(b=c+1<a.length&&a.charAt(c+1)===b)&&c++;return b},k=function(a,b,d){b=""+b;if(g(a))for(;b.length<d;)b="0"+b;return b},p=function(a,b,d,h){return g(a)?h[b]:d[b]},n="",r=!1;if(b)for(c=0;c<a.length;c++)if(r)"'"!==a.charAt(c)||g("'")?n+=a.charAt(c):r=!1;else switch(a.charAt(c)){case "d":n+=k("d",b.getDate(),2);break;case "D":n+=p("D",b.getDay(),e,f);break;case "o":n+=k("o",Math.round(((new Date(b.getFullYear(),
b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":n+=k("m",b.getMonth()+1,2);break;case "M":n+=p("M",b.getMonth(),m,h);break;case "y":n+=g("y")?b.getFullYear():(10>b.getFullYear()%100?"0":"")+b.getFullYear()%100;break;case "@":n+=b.getTime();break;case "!":n+=1E4*b.getTime()+this._ticksTo1970;break;case "'":g("'")?n+="'":r=!0;break;default:n+=a.charAt(c)}return n},_possibleChars:function(a){var b,h="",c=!1,e=function(h){(h=b+1<a.length&&a.charAt(b+
1)===h)&&b++;return h};for(b=0;b<a.length;b++)if(c)"'"!==a.charAt(b)||e("'")?h+=a.charAt(b):c=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":h+="0123456789";break;case "D":case "M":return null;case "'":e("'")?h+="'":c=!0;break;default:h+=a.charAt(b)}return h},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var h=this._get(a,"dateFormat"),c=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),
f=e,m=this._getFormatConfig(a);try{f=this.parseDate(h,c,m)||e}catch(g){c=b?"":c}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=c?f.getDate():0;a.currentMonth=c?f.getMonth():0;a.currentYear=c?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,d,h){var c=function(a){var b=new Date;b.setDate(b.getDate()+
a);return b},e=function(d){try{return b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),d,b.datepicker._getFormatConfig(a))}catch(h){}for(var c=(d.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date,e=c.getFullYear(),f=c.getMonth(),c=c.getDate(),m=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,g=m.exec(d);g;){switch(g[2]||"d"){case "d":case "D":c+=parseInt(g[1],10);break;case "w":case "W":c+=7*parseInt(g[1],10);break;case "m":case "M":f+=parseInt(g[1],10);c=Math.min(c,b.datepicker._getDaysInMonth(e,
f));break;case "y":case "Y":e+=parseInt(g[1],10),c=Math.min(c,b.datepicker._getDaysInMonth(e,f))}g=m.exec(d)}return new Date(e,f,c)};if(d=(d=null==d||""===d?h:"string"===typeof d?e(d):"number"===typeof d?isNaN(d)?h:c(d):new Date(d.getTime()))&&"Invalid Date"===d.toString()?h:d)d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
b,h){var c=!b,e=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();e===a.selectedMonth&&f===a.selectedYear||h||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(c?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(a){var d=this._get(a,"stepMonths"),h="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).on(this.getAttribute("data-event"),{prev:function(){b.datepicker._adjustDate(h,-d,"M")},next:function(){b.datepicker._adjustDate(h,+d,"M")},hide:function(){b.datepicker._hideDatepicker()},today:function(){b.datepicker._gotoToday(h)},selectDay:function(){b.datepicker._selectDay(h,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){b.datepicker._selectMonthYear(h,this,"M");return!1},selectYear:function(){b.datepicker._selectMonthYear(h,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,h,c,e,f,m,g,k,p,n,r,l,s,u,v,H,x,D,A,F,L,Q,ha,na,ua,qa,I,C=new Date,C=this._daylightSavingAdjust(new Date(C.getFullYear(),C.getMonth(),C.getDate())),X=this._get(a,"isRTL");m=this._get(a,"showButtonPanel");c=this._get(a,"hideIfNoPrevNext");f=this._get(a,"navigationAsDateFormat");
var ja=this._getNumberOfMonths(a),aa=this._get(a,"showCurrentAtPos");e=this._get(a,"stepMonths");var G=1!==ja[0]||1!==ja[1],ka=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),E=this._getMinMaxDate(a,"min"),ma=this._getMinMaxDate(a,"max"),aa=a.drawMonth-aa,M=a.drawYear;0>aa&&(aa+=12,M--);if(ma)for(b=this._daylightSavingAdjust(new Date(ma.getFullYear(),ma.getMonth()-ja[0]*ja[1]+1,ma.getDate())),b=E&&b<E?E:b;this._daylightSavingAdjust(new Date(M,
aa,1))>b;)aa--,0>aa&&(aa=11,M--);a.drawMonth=aa;a.drawYear=M;b=this._get(a,"prevText");b=f?this.formatDate(b,this._daylightSavingAdjust(new Date(M,aa-e,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,M,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"e":"w")+"'>"+b+"</span></a>":c?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
(X?"e":"w")+"'>"+b+"</span></a>";h=this._get(a,"nextText");h=f?this.formatDate(h,this._daylightSavingAdjust(new Date(M,aa+e,1)),this._getFormatConfig(a)):h;c=this._canAdjustMonth(a,1,M,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"w":"e")+"'>"+h+"</span></a>":c?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"w":
"e")+"'>"+h+"</span></a>";e=this._get(a,"currentText");h=this._get(a,"gotoCurrent")&&a.currentDay?ka:C;e=f?this.formatDate(e,h,this._getFormatConfig(a)):e;f=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";m=m?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(X?f:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
e+"</button>":"")+(X?"":f)+"</div>":"";f=parseInt(this._get(a,"firstDay"),10);f=isNaN(f)?0:f;e=this._get(a,"showWeek");h=this._get(a,"dayNames");g=this._get(a,"dayNamesMin");k=this._get(a,"monthNames");p=this._get(a,"monthNamesShort");n=this._get(a,"beforeShowDay");r=this._get(a,"showOtherMonths");l=this._get(a,"selectOtherMonths");s=this._getDefaultDate(a);u="";for(H=0;H<ja[0];H++){x="";this.maxRows=4;for(D=0;D<ja[1];D++){A=this._daylightSavingAdjust(new Date(M,aa,a.selectedDay));v=" ui-corner-all";
F="";if(G){F+="<div class='ui-datepicker-group";if(1<ja[1])switch(D){case 0:F+=" ui-datepicker-group-first";v=" ui-corner-"+(X?"right":"left");break;case ja[1]-1:F+=" ui-datepicker-group-last";v=" ui-corner-"+(X?"left":"right");break;default:F+=" ui-datepicker-group-middle",v=""}F+="'>"}F+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+v+"'>"+(/all|left/.test(v)&&0===H?X?c:b:"")+(/all|right/.test(v)&&0===H?X?b:c:"")+this._generateMonthYearHeader(a,aa,M,E,ma,0<H||0<D,k,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
L=e?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(v=0;7>v;v++)Q=(v+f)%7,L+="<th scope='col'"+(5<=(v+f+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[Q]+"'>"+g[Q]+"</span></th>";F+=L+"</tr></thead><tbody>";L=this._getDaysInMonth(M,aa);M===a.selectedYear&&aa===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,L));v=(this._getFirstDayOfMonth(M,aa)-f+7)%7;L=Math.ceil((v+L)/7);this.maxRows=L=G?this.maxRows>L?this.maxRows:L:L;Q=this._daylightSavingAdjust(new Date(M,
aa,1-v));for(ha=0;ha<L;ha++){F+="<tr>";na=e?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(Q)+"</td>":"";for(v=0;7>v;v++)ua=n?n.apply(a.input?a.input[0]:null,[Q]):[!0,""],I=(qa=Q.getMonth()!==aa)&&!l||!ua[0]||E&&Q<E||ma&&Q>ma,na+="<td class='"+(5<=(v+f+6)%7?" ui-datepicker-week-end":"")+(qa?" ui-datepicker-other-month":"")+(Q.getTime()===A.getTime()&&aa===a.selectedMonth&&a._keyEvent||s.getTime()===Q.getTime()&&s.getTime()===A.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+
" ui-state-disabled":"")+(qa&&!r?"":" "+ua[1]+(Q.getTime()===ka.getTime()?" "+this._currentClass:"")+(Q.getTime()===C.getTime()?" ui-datepicker-today":""))+"'"+(qa&&!r||!ua[2]?"":" title='"+ua[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+Q.getMonth()+"' data-year='"+Q.getFullYear()+"'")+">"+(qa&&!r?"&#xa0;":I?"<span class='ui-state-default'>"+Q.getDate()+"</span>":"<a class='ui-state-default"+(Q.getTime()===C.getTime()?" ui-state-highlight":"")+(Q.getTime()===
ka.getTime()?" ui-state-active":"")+(qa?" ui-priority-secondary":"")+"' href='#'>"+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q);F+=na+"</tr>"}aa++;11<aa&&(aa=0,M++);F+="</tbody></table>"+(G?"</div>"+(0<ja[0]&&D===ja[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");x+=F}u+=x}a._keyEvent=!1;return u+m},_generateMonthYearHeader:function(a,b,h,c,e,f,m,g){var k,p,n,r=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),
u="<div class='ui-datepicker-title'>",v="";if(f||!r)v+="<span class='ui-datepicker-month'>"+m[b]+"</span>";else{m=c&&c.getFullYear()===h;k=e&&e.getFullYear()===h;v+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(p=0;12>p;p++)(!m||p>=c.getMonth())&&(!k||p<=e.getMonth())&&(v+="<option value='"+p+"'"+(p===b?" selected='selected'":"")+">"+g[p]+"</option>");v+="</select>"}s||(u+=v+(!f&&r&&l?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",f||!l)u+="<span class='ui-datepicker-year'>"+
h+"</span>";else{g=this._get(a,"yearRange").split(":");n=(new Date).getFullYear();m=function(a){a=a.match(/c[+\-].*/)?h+parseInt(a.substring(1),10):a.match(/[+\-].*/)?n+parseInt(a,10):parseInt(a,10);return isNaN(a)?n:a};b=m(g[0]);g=Math.max(b,m(g[1]||""));b=c?Math.max(b,c.getFullYear()):b;g=e?Math.min(g,e.getFullYear()):g;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=g;b++)a.yearshtml+="<option value='"+b+"'"+(b===h?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";u+=a.yearshtml;a.yearshtml=null}u+=this._get(a,"yearSuffix");s&&(u+=(!f&&r&&l?"":"&#xa0;")+v);return u+"</div>"},_adjustInstDate:function(a,b,h){var c=a.selectedYear+("Y"===h?b:0),e=a.selectedMonth+("M"===h?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(c,e))+("D"===h?b:0);c=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(c,e,b)));a.selectedDay=c.getDate();a.drawMonth=a.selectedMonth=c.getMonth();a.drawYear=a.selectedYear=c.getFullYear();
"M"!==h&&"Y"!==h||this._notifyChange(a)},_restrictMinMax:function(a,b){var h=this._getMinMaxDate(a,"min"),c=this._getMinMaxDate(a,"max"),h=h&&b<h?h:b;return c&&h>c?c:h},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),
null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,h,c){var e=this._getNumberOfMonths(a);h=this._daylightSavingAdjust(new Date(h,c+(0>b?b:e[0]*e[1]),1));0>b&&h.setDate(this._getDaysInMonth(h.getFullYear(),h.getMonth()));return this._isInRange(a,h)},_isInRange:function(a,b){var h,c,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),m=null,g=
null;if(h=this._get(a,"yearRange"))h=h.split(":"),c=(new Date).getFullYear(),m=parseInt(h[0],10),g=parseInt(h[1],10),h[0].match(/[+\-].*/)&&(m+=c),h[1].match(/[+\-].*/)&&(g+=c);return(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!m||b.getFullYear()>=m)&&(!g||b.getFullYear()<=g)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),
dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,h,c){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(c,h,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});b.fn.datepicker=function(a){if(!this.length)return this;
b.datepicker.initialized||(b(document).on("mousedown",b.datepicker._checkExternalClick),b.datepicker.initialized=!0);0===b("#"+b.datepicker._mainDivId).length&&b("body").append(b.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"===typeof a&&("isDisabled"===a||"getDate"===a||"widget"===a)||"option"===a&&2===arguments.length&&"string"===typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(d)):this.each(function(){"string"===typeof a?b.datepicker["_"+
a+"Datepicker"].apply(b.datepicker,[this].concat(d)):b.datepicker._attachDatepicker(this,a)})};b.datepicker=new k;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.12.0";b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var u=!1;b(document).on("mouseup",function(){u=!1});b.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.on("mousedown."+
this.widgetName,function(b){return a._mouseDown(b)}).on("click."+this.widgetName,function(d){if(!0===b.data(d.target,a.widgetName+".preventClickEvent"))return b.removeData(d.target,a.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!u){this._mouseMoved=
!1;this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var d=this,h=1===a.which,c="string"===typeof this.options.cancel&&a.target.nodeName?b(a.target).closest(this.options.cancel).length:!1;if(!h||c||!this._mouseCapture(a))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),
!0;!0===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};this._mouseUpDelegate=function(a){return d._mouseUp(a)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return u=!0}},_mouseMove:function(a){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&
!a.button)return this._mouseUp(a);if(!a.which)if(a.originalEvent.altKey||a.originalEvent.ctrlKey||a.originalEvent.metaKey||a.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(a)}if(a.which||a.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},
_mouseUp:function(a){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);u=this.ignoreMissingWhich=!1;a.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-
a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});b.ui.plugin={add:function(a,d,h){var c;a=b.ui[a].prototype;for(c in h)a.plugins[c]=a.plugins[c]||[],a.plugins[c].push([d,h[c]])},call:function(a,b,h,c){if((b=a.plugins[b])&&(c||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(c=0;c<b.length;c++)a.options[b[c][0]]&&
b[c][1].apply(a.element,h)}};b.ui.safeBlur=function(a){a&&"body"!==a.nodeName.toLowerCase()&&b(a).trigger("blur")};b.widget("ui.draggable",b.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,
stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},
_mouseCapture:function(a){var d=this.options;this._blurActiveElement(a);if(this.helper||d.disabled||0<b(a.target).closest(".ui-resizable-handle").length)return!1;this.handle=this._getHandle(a);if(!this.handle)return!1;this._blockFrames(!0===d.iframeFix?"iframe":d.iframeFix);return!0},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var a=b(this);return b("<div>").css("position","absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]})},
_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(a){var d=b.ui.safeActiveElement(this.document[0]),h=b(a.target);this._getHandle(a)&&h.closest(d).length||b.ui.safeBlur(d)},_mouseStart:function(a){var d=this.options;this.helper=this._createHelper(a);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();b.ui.ddmanager&&(b.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");
this.scrollParent=this.helper.scrollParent(!0);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===b(this).css("position")}).length;this.positionAbs=this.element.offset();this._refreshOffsets(a);this.originalPosition=this.position=this._generatePosition(a,!1);this.originalPageX=a.pageX;this.originalPageY=a.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this._setContainment();if(!1===this._trigger("start",a))return this._clear(),
!1;this._cacheHelperProportions();b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a);this._mouseDrag(a,!0);b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,a);return!0},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(a,d){this.hasFixedAncestor&&
(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(a,!0);this.positionAbs=this._convertPositionTo("absolute");if(!d){var h=this._uiHash();if(!1===this._trigger("drag",a,h))return this._mouseUp(new b.Event("mouseup",a)),!1;this.position=h.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,a);return!1},_mouseStop:function(a){var d=this,h=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&
(h=b.ui.ddmanager.drop(this,a));this.dropped&&(h=this.dropped,this.dropped=!1);"invalid"===this.options.revert&&!h||"valid"===this.options.revert&&h||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,h)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",a)&&d._clear()}):!1!==this._trigger("stop",a)&&this._clear();return!1},_mouseUp:function(a){this._unblockFrames();b.ui.ddmanager&&
b.ui.ddmanager.dragStop(this,a);this.handleElement.is(a.target)&&this.element.trigger("focus");return b.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp(new b.Event("mouseup",{target:this.element[0]})):this._clear();return this},_getHandle:function(a){return this.options.handle?!!b(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):
this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(a){var d=this.options,h=b.isFunction(d.helper);a=h?b(d.helper.apply(this.element[0],[a])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo);h&&a[0]===this.element[0]&&this._setPositionRelative();
a[0]===this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute");return a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"===typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);
"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),d=this.document[0];"absolute"===this.cssPosition&&this.scrollParent[0]!==d&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());
this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0});return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,d,h;a=this.options;d=this.document[0];this.relativeContainer=
null;if(a.containment)if("window"===a.containment)this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||d.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if("document"===a.containment)this.containment=[0,0,b(d).width()-this.helperProportions.width-
this.margins.left,(b(d).height()||d.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(a.containment.constructor===Array)this.containment=a.containment;else{if("parent"===a.containment&&(a.containment=this.helper[0].parentNode),d=b(a.containment),h=d[0])a=/(scroll|auto)/.test(d.css("overflow")),this.containment=[(parseInt(d.css("borderLeftWidth"),10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),
10)||0),(a?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=d}else this.containment=null},_convertPositionTo:function(a,
b){b||(b=this.position);var h="absolute"===a?1:-1,c=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*h+this.offset.parent.top*h-("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top)*h,left:b.left+this.offset.relative.left*h+this.offset.parent.left*h-("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)*h}},_generatePosition:function(a,b){var h,c,e,f=this.options,m=this._isRootNode(this.scrollParent[0]);e=a.pageX;
c=a.pageY;m&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});b&&(this.containment&&(this.relativeContainer?(h=this.relativeContainer.offset(),h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]):h=this.containment,a.pageX-this.offset.click.left<h[0]&&(e=h[0]+this.offset.click.left),a.pageY-this.offset.click.top<h[1]&&(c=h[1]+this.offset.click.top),a.pageX-this.offset.click.left>
h[2]&&(e=h[2]+this.offset.click.left),a.pageY-this.offset.click.top>h[3]&&(c=h[3]+this.offset.click.top)),f.grid&&(c=f.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY,c=h?c-this.offset.click.top>=h[1]||c-this.offset.click.top>h[3]?c:c-this.offset.click.top>=h[1]?c-f.grid[1]:c+f.grid[1]:c,e=f.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX,e=h?e-this.offset.click.left>=h[0]||e-this.offset.click.left>
h[2]?e:e-this.offset.click.left>=h[0]?e-f.grid[0]:e+f.grid[0]:e),"y"===f.axis&&(e=this.originalPageX),"x"===f.axis&&(c=this.originalPageY));return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:m?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:m?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,
"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(a,d,c){c=c||this._uiHash();b.ui.plugin.call(this,a,[d,c,this],!0);/^(drag|start|stop)/.test(a)&&(this.positionAbs=this._convertPositionTo("absolute"),c.offset=this.positionAbs);return b.Widget.prototype._trigger.call(this,a,d,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,
originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(a,d,c){var e=b.extend({},d,{item:c.element});c.sortables=[];b(c.options.connectToSortable).each(function(){var d=b(this).sortable("instance");d&&!d.options.disabled&&(c.sortables.push(d),d.refreshPositions(),d._trigger("activate",a,e))})},stop:function(a,d,c){var e=b.extend({},d,{item:c.element});c.cancelHelperRemoval=!1;b.each(c.sortables,function(){this.isOver?(this.isOver=
0,c.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(a),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",a,e))})},drag:function(a,d,c){b.each(c.sortables,function(){var e=!1,f=this;f.positionAbs=c.positionAbs;f.helperProportions=c.helperProportions;f.offset.click=c.offset.click;f._intersectsWith(f.containerCache)&&
(e=!0,b.each(c.sortables,function(){this.positionAbs=c.positionAbs;this.helperProportions=c.helperProportions;this.offset.click=c.offset.click;this!==f&&this._intersectsWith(this.containerCache)&&b.contains(f.element[0],this.element[0])&&(e=!1);return e}));e?(f.isOver||(f.isOver=1,c._parent=d.helper.parent(),f.currentItem=d.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return d.helper[0]},a.target=f.currentItem[0],f._mouseCapture(a,
!0),f._mouseStart(a,!0,!0),f.offset.click.top=c.offset.click.top,f.offset.click.left=c.offset.click.left,f.offset.parent.left-=c.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=c.offset.parent.top-f.offset.parent.top,c._trigger("toSortable",a),c.dropped=f.element,b.each(c.sortables,function(){this.refreshPositions()}),c.currentItem=c.element,f.fromOutside=c),f.currentItem&&(f._mouseDrag(a),d.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,
f.options.revert=!1,f._trigger("out",a,f._uiHash(f)),f._mouseStop(a,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),d.helper.appendTo(c._parent),c._refreshOffsets(a),d.position=c._generatePosition(a,!0),c._trigger("fromSortable",a),c.dropped=!1,b.each(c.sortables,function(){this.refreshPositions()}))})}});b.ui.plugin.add("draggable","cursor",{start:function(a,d,c){a=b("body");c=c.options;a.css("cursor")&&(c._cursor=a.css("cursor"));a.css("cursor",
c.cursor)},stop:function(a,d,c){a=c.options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(a,d,c){a=b(d.helper);c=c.options;a.css("opacity")&&(c._opacity=a.css("opacity"));a.css("opacity",c.opacity)},stop:function(a,d,c){a=c.options;a._opacity&&b(d.helper).css("opacity",a._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1));c.scrollParentNotHidden[0]!==
c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(a,d,c){d=c.options;var e=!1,f=c.scrollParentNotHidden[0],m=c.document[0];f!==m&&"HTML"!==f.tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+f.offsetHeight-a.pageY<d.scrollSensitivity?f.scrollTop=e=f.scrollTop+d.scrollSpeed:a.pageY-c.overflowOffset.top<d.scrollSensitivity&&(f.scrollTop=e=f.scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+f.offsetWidth-
a.pageX<d.scrollSensitivity?f.scrollLeft=e=f.scrollLeft+d.scrollSpeed:a.pageX-c.overflowOffset.left<d.scrollSensitivity&&(f.scrollLeft=e=f.scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(a.pageY-b(m).scrollTop()<d.scrollSensitivity?e=b(m).scrollTop(b(m).scrollTop()-d.scrollSpeed):b(window).height()-(a.pageY-b(m).scrollTop())<d.scrollSensitivity&&(e=b(m).scrollTop(b(m).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(a.pageX-b(m).scrollLeft()<d.scrollSensitivity?e=b(m).scrollLeft(b(m).scrollLeft()-
d.scrollSpeed):b(window).width()-(a.pageX-b(m).scrollLeft())<d.scrollSensitivity&&(e=b(m).scrollLeft(b(m).scrollLeft()+d.scrollSpeed))));!1!==e&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(c,a)}});b.ui.plugin.add("draggable","snap",{start:function(a,d,c){a=c.options;c.snapElements=[];b(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var a=b(this),d=a.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:d.top,left:d.left})})},drag:function(a,d,c){var e,f,m,g,k,p,n,r,l,s,u=c.options,v=u.snapTolerance,A=d.offset.left,H=A+c.helperProportions.width,x=d.offset.top,D=x+c.helperProportions.height;for(l=c.snapElements.length-1;0<=l;l--)k=c.snapElements[l].left-c.margins.left,p=k+c.snapElements[l].width,n=c.snapElements[l].top-c.margins.top,r=n+c.snapElements[l].height,H<k-v||A>p+v||D<n-v||x>r+v||!b.contains(c.snapElements[l].item.ownerDocument,c.snapElements[l].item)?(c.snapElements[l].snapping&&c.options.snap.release&&
c.options.snap.release.call(c.element,a,b.extend(c._uiHash(),{snapItem:c.snapElements[l].item})),c.snapElements[l].snapping=!1):("inner"!==u.snapMode&&(e=Math.abs(n-D)<=v,f=Math.abs(r-x)<=v,m=Math.abs(k-H)<=v,g=Math.abs(p-A)<=v,e&&(d.position.top=c._convertPositionTo("relative",{top:n-c.helperProportions.height,left:0}).top),f&&(d.position.top=c._convertPositionTo("relative",{top:r,left:0}).top),m&&(d.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left),g&&
(d.position.left=c._convertPositionTo("relative",{top:0,left:p}).left)),s=e||f||m||g,"outer"!==u.snapMode&&(e=Math.abs(n-x)<=v,f=Math.abs(r-D)<=v,m=Math.abs(k-A)<=v,g=Math.abs(p-H)<=v,e&&(d.position.top=c._convertPositionTo("relative",{top:n,left:0}).top),f&&(d.position.top=c._convertPositionTo("relative",{top:r-c.helperProportions.height,left:0}).top),m&&(d.position.left=c._convertPositionTo("relative",{top:0,left:k}).left),g&&(d.position.left=c._convertPositionTo("relative",{top:0,left:p-c.helperProportions.width}).left)),
!c.snapElements[l].snapping&&(e||f||m||g||s)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,b.extend(c._uiHash(),{snapItem:c.snapElements[l].item})),c.snapElements[l].snapping=e||f||m||g||s)}});b.ui.plugin.add("draggable","stack",{start:function(a,d,c){var e;a=b.makeArray(b(c.options.stack)).sort(function(a,d){return(parseInt(b(a).css("zIndex"),10)||0)-(parseInt(b(d).css("zIndex"),10)||0)});a.length&&(e=parseInt(b(a[0]).css("zIndex"),10)||0,b(a).each(function(a){b(this).css("zIndex",e+
a)}),this.css("zIndex",e+a.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(a,d,c){a=b(d.helper);c=c.options;a.css("zIndex")&&(c._zIndex=a.css("zIndex"));a.css("zIndex",c.zIndex)},stop:function(a,d,c){a=c.options;a._zIndex&&b(d.helper).css("zIndex",a._zIndex)}});b.widget("ui.resizable",b.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},
containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(a,d){if("hidden"===b(a).css("overflow"))return!1;var c=d&&"left"===d?"scrollLeft":"scrollTop",e=!1;if(0<a[c])return!0;a[c]=1;e=0<a[c];a[c]=0;return e},_create:function(){var a,d=this.options,c=this;this._addClass("ui-resizable");b.extend(this,
{_aspectRatio:!!d.aspectRatio,aspectRatio:d.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:d.helper||d.ghost||d.animate?d.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),
this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,a={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(a),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css(a),this._proportionallyResize());this._setupHandles();if(d.autoHide)b(this.element).on("mouseenter",function(){d.disabled||(c._removeClass("ui-resizable-autohide"),c._handles.show())}).on("mouseleave",function(){d.disabled||c.resizing||(c._addClass("ui-resizable-autohide"),c._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,d=function(a){b(a).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};
this.elementIsWrapper&&(d(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove());this.originalElement.css("resize",this.originalResizeStyle);d(this.originalElement);return this},_setOption:function(a,b){this._super(a,b);switch(a){case "handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var a=this.options,d,c,e,f,m,g=this;this.handles=a.handles||
(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=b();if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},c=0;c<e.length;c++)d=b.trim(e[c]),f="ui-resizable-"+d,m=b("<div>"),this._addClass(m,"ui-resizable-handle "+f),m.css({zIndex:a.zIndex}),
this.handles[d]=".ui-resizable-"+d,this.element.append(m);this._renderAxis=function(a){var d,c,h;a=a||this.element;for(d in this.handles){if(this.handles[d].constructor===String)this.handles[d]=this.element.children(this.handles[d]).first().show();else if(this.handles[d].jquery||this.handles[d].nodeType)this.handles[d]=b(this.handles[d]),this._on(this.handles[d],{mousedown:g._mouseDown});this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(c=b(this.handles[d],
this.element),h=/sw|ne|nw|se|n|s/.test(d)?c.outerHeight():c.outerWidth(),c=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join(""),a.css(c,h),this._proportionallyResize());this._handles=this._handles.add(this.handles[d])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){g.resizing||(this.className&&(m=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
g.axis=m&&m[1]?m[1]:"se")});a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(a){var d,c,e=!1;for(d in this.handles)if(c=b(this.handles[d])[0],c===a.target||b.contains(c,a.target))e=!0;return!this.options.disabled&&e},_mouseStart:function(a){var d,c,e=this.options,f=this.element;this.resizing=!0;this._renderProxy();d=this._num(this.helper.css("left"));c=this._num(this.helper.css("top"));e.containment&&
(d+=b(e.containment).scrollLeft()||0,c+=b(e.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:d,top:c};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()};this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()};this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()};this.originalPosition={left:d,top:c};this.originalMousePosition=
{left:a.pageX,top:a.pageY};this.aspectRatio="number"===typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;d=b(".ui-resizable-"+this.axis).css("cursor");b("body").css("cursor","auto"===d?this.axis+"-resize":d);this._addClass("ui-resizable-resizing");this._propagate("start",a);return!0},_mouseDrag:function(a){var d,c=this.originalMousePosition;d=a.pageX-c.left||0;var c=a.pageY-c.top||0,e=this._change[this.axis];this._updatePrevProperties();if(!e)return!1;d=e.apply(this,
[a,d,c]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)d=this._updateRatio(d,a);d=this._respectSize(d,a);this._updateCache(d);this._propagate("resize",a);d=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();b.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges());return!1},_mouseStop:function(a){this.resizing=!1;var d,c,e,f=this.options;this._helper&&(d=this._proportionallyResizeElements,
d=(c=d.length&&/textarea/i.test(d[0].nodeName))&&this._hasScroll(d[0],"left")?0:this.sizeDiff.height,c=c?0:this.sizeDiff.width,c={width:this.helper.width()-c,height:this.helper.height()-d},d=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,e=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,f.animate||this.element.css(b.extend(c,{top:e,left:d})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&
!f.animate&&this._proportionallyResize());b("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",a);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&
(a.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px");this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var b,c,e,f;f=this.options;f={minWidth:this._isNumber(f.minWidth)?f.minWidth:0,maxWidth:this._isNumber(f.maxWidth)?f.maxWidth:Infinity,minHeight:this._isNumber(f.minHeight)?f.minHeight:0,maxHeight:this._isNumber(f.maxHeight)?f.maxHeight:Infinity};if(this._aspectRatio||
a)a=f.minHeight*this.aspectRatio,c=f.minWidth/this.aspectRatio,b=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,a>f.minWidth&&(f.minWidth=a),c>f.minHeight&&(f.minHeight=c),b<f.maxWidth&&(f.maxWidth=b),e<f.maxHeight&&(f.maxHeight=e);this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset();this._isNumber(a.left)&&(this.position.left=a.left);this._isNumber(a.top)&&(this.position.top=a.top);this._isNumber(a.height)&&(this.size.height=a.height);this._isNumber(a.width)&&
(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,e=this.axis;this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===e&&(a.left=b.left+(c.width-a.width),a.top=null);"nw"===e&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width));return a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,e=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=this._isNumber(a.height)&&
b.maxHeight&&b.maxHeight<a.height,m=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,p=this.originalPosition.top+this.originalSize.height,n=/sw|nw|w/.test(c),c=/nw|ne|n/.test(c);m&&(a.width=b.minWidth);g&&(a.height=b.minHeight);e&&(a.width=b.maxWidth);f&&(a.height=b.maxHeight);m&&n&&(a.left=k-b.minWidth);e&&n&&(a.left=k-b.maxWidth);g&&c&&(a.top=p-b.minHeight);f&&c&&(a.top=p-b.maxHeight);
a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_getPaddingPlusBorderDimensions:function(a){var b=0,c=[],e=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];for(a=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseFloat(e[b])||0,c[b]+=parseFloat(a[b])||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,
b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,
this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-
c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,d,c){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,d,c]))},sw:function(a,d,c){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,d,c]))},ne:function(a,d,c){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,d,c]))},nw:function(a,d,c){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,d,c]))}},
_propagate:function(a,d){b.ui.plugin.call(this,a,[d,this.ui()]);"resize"!==a&&this._trigger(a,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","animate",{stop:function(a){var d=b(this).resizable("instance"),c=d.options,e=d._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),
m=f&&d._hasScroll(e[0],"left")?0:d.sizeDiff.height,f={width:d.size.width-(f?0:d.sizeDiff.width),height:d.size.height-m},m=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,g=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null;d.element.animate(b.extend(f,g&&m?{top:g,left:m}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseFloat(d.element.css("width")),height:parseFloat(d.element.css("height")),top:parseFloat(d.element.css("top")),
left:parseFloat(d.element.css("left"))};e&&e.length&&b(e[0]).css({width:c.width,height:c.height});d._updateCache(c);d._propagate("resize",a)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var a,d,c,e,f,m=b(this).resizable("instance"),g=m.element;c=m.options.containment;if(g=c instanceof b?c.get(0):/parent/.test(c)?g.parent().get(0):c)m.containerElement=b(g),/document/.test(c)||c===document?(m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:b(document),
left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(a=b(g),d=[],b(["Top","Right","Left","Bottom"]).each(function(b,c){d[b]=m._num(a.css("padding"+c))}),m.containerOffset=a.offset(),m.containerPosition=a.position(),m.containerSize={height:a.innerHeight()-d[3],width:a.innerWidth()-d[1]},c=m.containerOffset,e=m.containerSize.height,f=m.containerSize.width,f=m._hasScroll(g,"left")?g.scrollWidth:f,e=m._hasScroll(g)?g.scrollHeight:e,m.parentData=
{element:g,left:c.left,top:c.top,width:f,height:e})},resize:function(a){var d,c,e,f=b(this).resizable("instance");d=f.options;c=f.containerOffset;e=f.position;a=f._aspectRatio||a.shiftKey;var m={top:0,left:0},g=f.containerElement,k=!0;g[0]!==document&&/static/.test(g.css("position"))&&(m=c);e.left<(f._helper?c.left:0)&&(f.size.width+=f._helper?f.position.left-c.left:f.position.left-m.left,a&&(f.size.height=f.size.width/f.aspectRatio,k=!1),f.position.left=d.helper?c.left:0);e.top<(f._helper?c.top:
0)&&(f.size.height+=f._helper?f.position.top-c.top:f.position.top,a&&(f.size.width=f.size.height*f.aspectRatio,k=!1),f.position.top=f._helper?c.top:0);d=f.containerElement.get(0)===f.element.parent().get(0);e=/relative|absolute/.test(f.containerElement.css("position"));d&&e?(f.offset.left=f.parentData.left+f.position.left,f.offset.top=f.parentData.top+f.position.top):(f.offset.left=f.element.offset().left,f.offset.top=f.element.offset().top);d=Math.abs(f.sizeDiff.width+(f._helper?f.offset.left-m.left:
f.offset.left-c.left));c=Math.abs(f.sizeDiff.height+(f._helper?f.offset.top-m.top:f.offset.top-c.top));d+f.size.width>=f.parentData.width&&(f.size.width=f.parentData.width-d,a&&(f.size.height=f.size.width/f.aspectRatio,k=!1));c+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-c,a&&(f.size.width=f.size.height*f.aspectRatio,k=!1));k||(f.position.left=f.prevPosition.left,f.position.top=f.prevPosition.top,f.size.width=f.prevSize.width,f.size.height=f.prevSize.height)},stop:function(){var a=
b(this).resizable("instance"),d=a.options,c=a.containerOffset,e=a.containerPosition,f=a.containerElement,m=b(a.helper),g=m.offset(),k=m.outerWidth()-a.sizeDiff.width,m=m.outerHeight()-a.sizeDiff.height;a._helper&&!d.animate&&/relative/.test(f.css("position"))&&b(this).css({left:g.left-e.left-c.left,width:k,height:m});a._helper&&!d.animate&&/static/.test(f.css("position"))&&b(this).css({left:g.left-e.left-c.left,width:k,height:m})}});b.ui.plugin.add("resizable","alsoResize",{start:function(){var a=
b(this).resizable("instance").options;b(a.alsoResize).each(function(){var a=b(this);a.data("ui-resizable-alsoresize",{width:parseFloat(a.width()),height:parseFloat(a.height()),left:parseFloat(a.css("left")),top:parseFloat(a.css("top"))})})},resize:function(a,d){var c=b(this).resizable("instance"),e=c.originalSize,f=c.originalPosition,m={height:c.size.height-e.height||0,width:c.size.width-e.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0};b(c.options.alsoResize).each(function(){var a=
b(this),c=b(this).data("ui-resizable-alsoresize"),h={},e=a.parents(d.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(e,function(a,b){var d=(c[b]||0)+(m[b]||0);d&&0<=d&&(h[b]=d||null)});a.css(h)})},stop:function(){b(this).removeData("ui-resizable-alsoresize")}});b.ui.plugin.add("resizable","ghost",{start:function(){var a=b(this).resizable("instance"),d=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",height:d.height,
width:d.width,margin:0,left:0,top:0});a._addClass(a.ghost,"ui-resizable-ghost");!1!==b.uiBackCompat&&"string"===typeof a.options.ghost&&a.ghost.addClass(this.options.ghost);a.ghost.appendTo(a.helper)},resize:function(){var a=b(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=b(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(){var a,
d=b(this).resizable("instance"),c=d.options,e=d.size,f=d.originalSize,m=d.originalPosition,g=d.axis,k="number"===typeof c.grid?[c.grid,c.grid]:c.grid,p=k[0]||1,n=k[1]||1,r=Math.round((e.width-f.width)/p)*p,e=Math.round((e.height-f.height)/n)*n,l=f.width+r,s=f.height+e,u=c.maxWidth&&c.maxWidth<l,v=c.maxHeight&&c.maxHeight<s,A=c.minWidth&&c.minWidth>l,H=c.minHeight&&c.minHeight>s;c.grid=k;A&&(l+=p);H&&(s+=n);u&&(l-=p);v&&(s-=n);if(/^(se|s|e)$/.test(g))d.size.width=l,d.size.height=s;else if(/^(ne)$/.test(g))d.size.width=
l,d.size.height=s,d.position.top=m.top-e;else if(/^(sw)$/.test(g))d.size.width=l,d.size.height=s,d.position.left=m.left-r;else{if(0>=s-n||0>=l-p)a=d._getPaddingPlusBorderDimensions(this);0<s-n?(d.size.height=s,d.position.top=m.top-e):(s=n-a.height,d.size.height=s,d.position.top=m.top+f.height-s);0<l-p?(d.size.width=l,d.position.left=m.left-r):(l=p-a.width,d.size.width=l,d.position.left=m.left+f.width-l)}}});b.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all",
"ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var d=b(this).css(a).offset().top;0>d&&b(this).css("top",a.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,
height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=
this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&b.fn.draggable&&this._makeDraggable();this.options.resizable&&b.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},
_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?b(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):
b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:b.noop,enable:b.noop,close:function(a){var d=this;this._isOpen&&!1!==this._trigger("beforeClose",a)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||b.ui.safeBlur(b.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",a)}))},isOpen:function(){return this._isOpen},
moveToTop:function(){this._moveToTop()},_moveToTop:function(a,d){var c=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+b(this).css("z-index")}).get(),e=Math.max.apply(null,e);e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),c=!0);c&&!d&&this._trigger("focus",a);return c},open:function(){var a=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=b(b.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),
this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable();a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||
(a=this.uiDialog);a.eq(0).trigger("focus")},_keepFocus:function(a){function d(){var a=b.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===a||b.contains(this.uiDialog[0],a)||this._focusTabbable()}a.preventDefault();d.call(this);this._delay(d)},_createWrapper:function(){this.uiDialog=b("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&
!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===b.ui.keyCode.ESCAPE)a.preventDefault(),this.close(a);else if(a.keyCode===b.ui.keyCode.TAB&&!a.isDefaultPrevented()){var d=this.uiDialog.find(":tabbable"),c=d.filter(":first"),e=d.filter(":last");a.target!==e[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==c[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){e.trigger("focus")}),a.preventDefault()):(this._delay(function(){c.trigger("focus")}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&
this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=b("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(a){b(a.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=b("<button type='button'></button>").button({label:b("<a>").text(this.options.closeText).html(),
icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});a=b("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(a,"ui-dialog-title");this._title(a);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):
a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=b("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=b("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var a=this,d=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();b.isEmptyObject(d)||b.isArray(d)&&!d.length?this._removeClass(this.uiDialog,
"ui-dialog-buttons"):(b.each(d,function(d,c){var e,f;c=b.isFunction(c)?{click:c,text:d}:c;c=b.extend({type:"button"},c);e=c.click;f={icon:c.icon,iconPosition:c.iconPosition,showLabel:c.showLabel};delete c.click;delete c.icon;delete c.iconPosition;delete c.showLabel;b("<button></button>",c).button(f).appendTo(a.uiButtonSet).on("click",function(){e.apply(a.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function a(a){return{position:a.position,
offset:a.offset}}var d=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,h){d._addClass(b(this),"ui-dialog-dragging");d._blockFrames();d._trigger("dragStart",c,a(h))},drag:function(b,c){d._trigger("drag",b,a(c))},stop:function(e,f){var m=f.offset.left-d.document.scrollLeft(),g=f.offset.top-d.document.scrollTop();c.position={my:"left top",at:"left"+(0<=m?"+":"")+m+" top"+(0<=g?"+":
"")+g,of:d.window};d._removeClass(b(this),"ui-dialog-dragging");d._unblockFrames();d._trigger("dragStop",e,a(f))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var d=this,c=this.options,e=c.resizable,f=this.uiDialog.css("position"),e="string"===typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,
minWidth:c.minWidth,minHeight:this._minHeight(),handles:e,start:function(c,h){d._addClass(b(this),"ui-dialog-resizing");d._blockFrames();d._trigger("resizeStart",c,a(h))},resize:function(b,c){d._trigger("resize",b,a(c))},stop:function(e,f){var m=d.uiDialog.offset(),g=m.left-d.document.scrollLeft(),m=m.top-d.document.scrollTop();c.height=d.uiDialog.height();c.width=d.uiDialog.width();c.position={my:"left top",at:"left"+(0<=g?"+":"")+g+" top"+(0<=m?"+":"")+m,of:d.window};d._removeClass(b(this),"ui-dialog-resizing");
d._unblockFrames();d._trigger("resizeStop",e,a(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget();this._focusedElement=b(a.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),d=b.inArray(this,a);-1!==d&&a.splice(d,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");a||(a=[],this.document.data("ui-dialog-instances",
a));return a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(a){var d=this,c=!1,e={};b.each(a,function(a,b){d._setOption(a,b);a in d.sizeRelatedOptions&&(c=!0);a in d.resizableRelatedOptions&&(e[a]=b)});c&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&
this.uiDialog.resizable("option",e)},_setOption:function(a,d){var c,e=this.uiDialog;"disabled"!==a&&(this._super(a,d),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:b("<a>").text(""+this.options.closeText).html()}),"draggable"===a&&((c=e.is(":data(ui-draggable)"))&&!d&&e.draggable("destroy"),!c&&d&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((c=e.is(":data(ui-resizable)"))&&
!d&&e.resizable("destroy"),c&&"string"===typeof d&&e.resizable("option","handles",d),c||!1===d||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});e.minWidth>e.width&&(e.width=e.minWidth);a=this.uiDialog.css({height:"auto",width:e.width}).outerHeight();b=Math.max(0,e.minHeight-a);c="number"===typeof e.maxHeight?Math.max(0,e.maxHeight-
a):"none";"auto"===e.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,e.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=b(this);return b("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return b(a.target).closest(".ui-dialog").length?!0:!!b(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=b("<div>").appendTo(this._appendTo());
this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});!1!==b.uiBackCompat&&
b.widget("ui.dialog",b.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,b){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(b);this._superApply(arguments)}});b.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,
d=this.options,c=d.accept;this.isover=!1;this.isout=!0;this.accept=b.isFunction(c)?c:function(a){return a.is(c)};this.proportions=function(){if(arguments.length)a=arguments[0];else return a?a:a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(d.scope);d.addClasses&&this._addClass("ui-droppable")},_addToManager:function(a){b.ui.ddmanager.droppables[a]=b.ui.ddmanager.droppables[a]||[];b.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;b<
a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){this._splice(b.ui.ddmanager.droppables[this.options.scope])},_setOption:function(a,d){"accept"===a?this.accept=b.isFunction(d)?d:function(a){return a.is(d)}:"scope"===a&&(this._splice(b.ui.ddmanager.droppables[this.options.scope]),this._addToManager(d));this._super(a,d)},_activate:function(a){var d=b.ui.ddmanager.current;this._addActiveClass();d&&this._trigger("activate",a,this.ui(d))},_deactivate:function(a){var d=b.ui.ddmanager.current;
this._removeActiveClass();d&&this._trigger("deactivate",a,this.ui(d))},_over:function(a){var d=b.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this._addHoverClass(),this._trigger("over",a,this.ui(d)))},_out:function(a){var d=b.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this._removeHoverClass(),this._trigger("out",a,this.ui(d)))},
_drop:function(a,d){var c=d||b.ui.ddmanager.current,e=!1;if(!c||(c.currentItem||c.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var d=b(this).droppable("instance");if(d.options.greedy&&!d.options.disabled&&d.options.scope===c.options.scope&&d.accept.call(d.element[0],c.currentItem||c.element)&&A(c,b.extend(d,{offset:d.element.offset()}),d.options.tolerance,a))return e=!0,!1});return e?!1:this.accept.call(this.element[0],
c.currentItem||c.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",a,this.ui(c)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});
var A=b.ui.intersect=function(){return function(a,b,c,e){if(!b.offset)return!1;var f=(a.positionAbs||a.position.absolute).left+a.margins.left,m=(a.positionAbs||a.position.absolute).top+a.margins.top,g=f+a.helperProportions.width,k=m+a.helperProportions.height,p=b.offset.left,n=b.offset.top,r=p+b.proportions().width,l=n+b.proportions().height;switch(c){case "fit":return p<=f&&g<=r&&n<=m&&k<=l;case "intersect":return p<f+a.helperProportions.width/2&&g-a.helperProportions.width/2<r&&n<m+a.helperProportions.height/
2&&k-a.helperProportions.height/2<l;case "pointer":a=e.pageY;c=b.proportions().height;if(n=a>=n&&a<n+c)e=e.pageX,b=b.proportions().width,n=e>=p&&e<p+b;return n;case "touch":return(m>=n&&m<=l||k>=n&&k<=l||m<n&&k>l)&&(f>=p&&f<=r||g>=p&&g<=r||f<p&&g>r);default:return!1}}}();b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,d){var c,e,f=b.ui.ddmanager.droppables[a.options.scope]||[],m=d?d.type:null,g=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();c=0;a:for(;c<
f.length;c++)if(!(f[c].options.disabled||a&&!f[c].accept.call(f[c].element[0],a.currentItem||a.element))){for(e=0;e<g.length;e++)if(g[e]===f[c].element[0]){f[c].proportions().height=0;continue a}f[c].visible="none"!==f[c].element.css("display");f[c].visible&&("mousedown"===m&&f[c]._activate.call(f[c],d),f[c].offset=f[c].element.offset(),f[c].proportions({width:f[c].element[0].offsetWidth,height:f[c].element[0].offsetHeight}))}},drop:function(a,c){var h=!1;b.each((b.ui.ddmanager.droppables[a.options.scope]||
[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&A(a,this,this.options.tolerance,c)&&(h=this._drop.call(this,c)||h),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))});return h},dragStart:function(a,c){a.element.parentsUntil("body").on("scroll.droppable",function(){a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)})},drag:function(a,c){a.options.refreshPositions&&
b.ui.ddmanager.prepareOffsets(a,c);b.each(b.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var h,e,f;f=A(a,this,this.options.tolerance,c);var m=!f&&this.isover?"isout":f&&!this.isover?"isover":null;m&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return b(this).droppable("instance").options.scope===e}),f.length&&(h=b(f[0]).droppable("instance"),h.greedyChild="isover"===
m)),h&&"isover"===m&&(h.isover=!1,h.isout=!0,h._out.call(h,c)),this[m]=!0,this["isout"===m?"isover":"isout"]=!1,this["isover"===m?"_over":"_out"].call(this,c),h&&"isout"===m&&(h.isout=!1,h.isover=!0,h._over.call(h,c)))}})},dragStop:function(a,c){a.element.parentsUntil("body").off("scroll.droppable");a.options.refreshPositions||b.ui.ddmanager.prepareOffsets(a,c)}};!1!==b.uiBackCompat&&b.widget("ui.droppable",b.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();
this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});b.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all",
"ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=b("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");
this.valueDiv.remove()},value:function(a){if(void 0===a)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){void 0===a&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,
b){"max"===a&&(b=Math.max(this.min,b));this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).width(c.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",
null,a===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=b("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==a&&(this.oldValue=a,this._trigger("change"));a===this.options.max&&
this._trigger("complete")}});b.widget("ui.selectable",b.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){a.elementPos=b(a.element[0]).offset();a.selectees=b(a.options.filter,a.element[0]);a._addClass(a.selectees,"ui-selectee");a.selectees.each(function(){var c=
b(this),h=c.offset(),e=h.left-a.elementPos.left,h=h.top-a.elementPos.top;b.data(this,"selectable-item",{element:this,$element:c,left:e,top:h,right:e+c.outerWidth(),bottom:h+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=b("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},
_mouseStart:function(a){var c=this,h=this.options;this.opos=[a.pageX,a.pageY];this.elementPos=b(this.element[0]).offset();this.options.disabled||(this.selectees=b(h.filter,this.element[0]),this._trigger("start",a),b(h.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),h.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var h=b.data(this,"selectable-item");h.startselected=!0;a.metaKey||a.ctrlKey||(c._removeClass(h.$element,"ui-selected"),
h.selected=!1,c._addClass(h.$element,"ui-unselecting"),h.unselecting=!0,c._trigger("unselecting",a,{unselecting:h.element}))}),b(a.target).parents().addBack().each(function(){var h,e=b.data(this,"selectable-item");if(e)return h=!a.metaKey&&!a.ctrlKey||!e.$element.hasClass("ui-selected"),c._removeClass(e.$element,h?"ui-unselecting":"ui-selected")._addClass(e.$element,h?"ui-selecting":"ui-unselecting"),e.unselecting=!h,e.selecting=h,(e.selected=h)?c._trigger("selecting",a,{selecting:e.element}):c._trigger("unselecting",
a,{unselecting:e.element}),!1}))},_mouseDrag:function(a){this.dragged=!0;if(!this.options.disabled){var c,h=this,e=this.options,f=this.opos[0],m=this.opos[1],g=a.pageX,k=a.pageY;f>g&&(c=g,g=f,f=c);m>k&&(c=k,k=m,m=c);this.helper.css({left:f,top:m,width:g-f,height:k-m});this.selectees.each(function(){var c=b.data(this,"selectable-item"),d=!1,p,n,r,l;c&&c.element!==h.element[0]&&(p=c.left+h.elementPos.left,n=c.right+h.elementPos.left,r=c.top+h.elementPos.top,l=c.bottom+h.elementPos.top,"touch"===e.tolerance?
d=!(p>g||n<f||r>k||l<m):"fit"===e.tolerance&&(d=p>f&&n<g&&r>m&&l<k),d?(c.selected&&(h._removeClass(c.$element,"ui-selected"),c.selected=!1),c.unselecting&&(h._removeClass(c.$element,"ui-unselecting"),c.unselecting=!1),c.selecting||(h._addClass(c.$element,"ui-selecting"),c.selecting=!0,h._trigger("selecting",a,{selecting:c.element}))):(c.selecting&&((a.metaKey||a.ctrlKey)&&c.startselected?(h._removeClass(c.$element,"ui-selecting"),c.selecting=!1,h._addClass(c.$element,"ui-selected"),c.selected=!0):
(h._removeClass(c.$element,"ui-selecting"),c.selecting=!1,c.startselected&&(h._addClass(c.$element,"ui-unselecting"),c.unselecting=!0),h._trigger("unselecting",a,{unselecting:c.element}))),!c.selected||a.metaKey||a.ctrlKey||c.startselected||(h._removeClass(c.$element,"ui-selected"),c.selected=!1,h._addClass(c.$element,"ui-unselecting"),c.unselecting=!0,h._trigger("unselecting",a,{unselecting:c.element}))))});return!1}},_mouseStop:function(a){var c=this;this.dragged=!1;b(".ui-unselecting",this.element[0]).each(function(){var h=
b.data(this,"selectable-item");c._removeClass(h.$element,"ui-unselecting");h.unselecting=!1;h.startselected=!1;c._trigger("unselected",a,{unselected:h.element})});b(".ui-selecting",this.element[0]).each(function(){var h=b.data(this,"selectable-item");c._removeClass(h.$element,"ui-selecting")._addClass(h.$element,"ui-selected");h.selecting=!1;h.selected=!0;h.startselected=!0;c._trigger("selected",a,{selected:h.element})});this._trigger("stop",a);this.helper.remove();return!1}});b.widget("ui.selectmenu",
[b.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"};this._drawButton();this._drawMenu();
this._bindFormResetHandler();this._rendered=!1;this.menuItems=b()},_drawButton:function(){var a,c=this,h=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=b("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list",
"aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");a=b("<span>").appendTo(this.button);this._addClass(a,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(h).appendTo(this.button);!1!==this.options.width&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){c._rendered||
c._refreshMenu()})},_drawMenu:function(){var a=this;this.menu=b("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=b("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(b,c){b.preventDefault();a._setSelection();a._select(c.item.data("ui-selectmenu-item"),b)},focus:function(b,
c){var e=c.item.data("ui-selectmenu-item");null!=a.focusIndex&&e.index!==a.focusIndex&&(a._trigger("focus",b,{item:e}),a.isOpen||a._select(e,b));a.focusIndex=e.index;a.button.attr("aria-activedescendant",a.menuItems.eq(e.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=
this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var a;a=this.element.find("option");this.menu.empty();this._parseOptions(a);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=!0;a.length&&(a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),
this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a)))},_position:function(){this.menuWrap.position(b.extend({of:this.button},
this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(a){var c=b("<span>");this._setText(c,a.label);this._addClass(c,"ui-selectmenu-text");return c},_renderMenu:function(a,c){var h=this,e="";b.each(c,function(c,d){var f;d.optgroup!==e&&(f=b("<li>",{text:d.optgroup}),h._addClass(f,"ui-selectmenu-optgroup",
"ui-menu-divider"+(d.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),f.appendTo(a),e=d.optgroup);h._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(a,c){var h=b("<li>"),e=b("<div>",{title:c.element.attr("title")});c.disabled&&this._addClass(h,null,"ui-state-disabled");this._setText(e,c.label);return h.append(e).appendTo(a)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,
b){var c,e=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex).parent("li"):(c=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),e+=":not(.ui-state-disabled)");c="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0);c.length&&this.menuInstance.focus(b,c)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;
this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(a){this.isOpen&&(b(a.target).closest(".ui-selectmenu-menu, #"+b.ui.escapeSelector(this.ids.button)).length||this.close(a))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection();
this._toggle(a)},keydown:function(a){var c=!0;switch(a.keyCode){case b.ui.keyCode.TAB:case b.ui.keyCode.ESCAPE:this.close(a);c=!1;break;case b.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case b.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case b.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case b.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case b.ui.keyCode.LEFT:this._move("prev",a);break;case b.ui.keyCode.RIGHT:this._move("next",
a);break;case b.ui.keyCode.HOME:case b.ui.keyCode.PAGE_UP:this._move("first",a);break;case b.ui.keyCode.END:case b.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),c=!1}c&&a.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex).parent("li");b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this.buttonItem.replaceWith(this.buttonItem=
this._renderButtonItem(a));this._setAria(a);this._trigger("select",b,{item:a});a.index!==c&&this._trigger("change",b,{item:a});this.close(b)},_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",a)},_setOption:function(a,b){if("icons"===a){var c=this.button.find("span.ui-icon");this._removeClass(c,null,this.options.icons.button)._addClass(c,null,b.button)}this._super(a,b);"appendTo"===
a&&this.menuWrap.appendTo(this._appendTo());"width"===a&&this._resizeButton()},_setOptionDisabled:function(a){this._super(a);this.menuInstance.option("disabled",a);this.button.attr("aria-disabled",a);this._toggleClass(this.button,null,"ui-state-disabled",a);this.element.prop("disabled",a);a?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var a=this.options.appendTo;a&&(a=a.jquery||a.nodeType?b(a):this.document.find(a).eq(0));a&&a[0]||(a=this.element.closest(".ui-front, dialog"));
a.length||(a=this.document[0].body);return a},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;!1===a?this.button.css("width",""):(null===a&&(a=this.element.show().outerWidth(),
this.element.hide()),this.button.outerWidth(a))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var a=this._super();a.disabled=this.element.prop("disabled");return a},_parseOptions:function(a){var c=this,h=[];a.each(function(a,e){h.push(c._parseOption(b(e),a))});this.items=h},_parseOption:function(a,b){var c=a.parent("optgroup");return{element:a,index:b,value:a.val(),label:a.text(),optgroup:c.attr("label")||
"",disabled:c.prop("disabled")||a.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);b.widget("ui.slider",b.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",
range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var a,
c;a=this.options;var h=this.element.find(".ui-slider-handle"),e=[];c=a.values&&a.values.length||1;h.length>c&&(h.slice(c).remove(),h=h.slice(0,c));for(a=h.length;a<c;a++)e.push("<span tabindex='0'></span>");this.handles=h.add(b(e.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(a){b(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options;a.range?(!0===a.range&&
(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:b.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=b("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==a.range&&"max"!==a.range||this._addClass(this.range,"ui-slider-range-"+a.range)):(this.range&&
this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(a){var c,h,e,f,m,g=this,k=this.options;if(k.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:a.pageX,
y:a.pageY});h=this._valueMax()-this._valueMin()+1;this.handles.each(function(a){var m=Math.abs(c-g.values(a));if(h>m||h===m&&(a===g._lastChangedValue||g.values(a)===k.min))h=m,e=b(this),f=a});if(!1===this._start(a,f))return!1;this._mouseSliding=!0;this._handleIndex=f;this._addClass(e,null,"ui-state-active");e.trigger("focus");m=e.offset();this._clickOffset=b(a.target).parents().addBack().is(".ui-slider-handle")?{left:a.pageX-m.left-e.width()/2,top:a.pageY-m.top-e.height()/2-(parseInt(e.css("borderTopWidth"),
10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(a,f,c);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,b);return!1},_mouseStop:function(a){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);
this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;"horizontal"===this.orientation?(b=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));b=a/b;1<b&&(b=1);0>b&&(b=0);"vertical"===this.orientation&&
(b=1-b);a=this._valueMax()-this._valueMin();b=this._valueMin()+b*a;return this._trimAlignValue(b)},_uiHash:function(a,b,c){var e={handle:this.handles[a],handleIndex:a,value:void 0!==b?b:this.value()};this._hasMultipleValues()&&(e.value=void 0!==b?b:this.values(a),e.values=c||this.values());return e},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var e,f=this.value(),
m=this.values();this._hasMultipleValues()&&(e=this.values(b?0:1),f=this.values(b),2===this.options.values.length&&!0===this.options.range&&(c=0===b?Math.min(e,c):Math.max(e,c)),m[b]=c);c!==f&&(a=this._trigger("slide",a,this._uiHash(b,c,m)),!1!==a&&(this._hasMultipleValues()?this.values(b,c):this.value(c)))},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",a,this._uiHash(b)))},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(a,c){var h,e,f;if(1<arguments.length)this.options.values[a]=this._trimAlignValue(c),this._refreshValue(),this._change(null,a);else if(arguments.length)if(b.isArray(arguments[0])){h=this.options.values;e=arguments[0];for(f=0;f<h.length;f+=1)h[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}else return this._hasMultipleValues()?this._values(a):this.value();else return this._values()},
_setOption:function(a,c){var h;h=0;"range"===a&&!0===this.options.range&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));b.isArray(this.options.values)&&(h=this.options.values.length);this._super(a,c);switch(a){case "orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();
this.options.range&&this._refreshRange(c);this.handles.css("horizontal"===c?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(h-=1;0<=h;h--)this._change(null,h);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=
!1}},_setOptionDisabled:function(a){this._super(a);this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this._hasMultipleValues()){b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();
var b=0<this.options.step?this.options.step:1,c=(a-this._valueMin())%b;a-=c;2*Math.abs(c)>=b&&(a+=0<c?b:-b);return parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,a=Math.round((a-b)/c)*c+b;a>this.options.max&&(a-=c);this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=
a.toString();var b=a.indexOf(".");return-1===b?0:a.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===a&&this.range.css({width:"",left:""});"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var a,c,h,e,f,m=this.options.range,g=this.options,k=this,p=this._animateOff?!1:g.animate,n={};if(this._hasMultipleValues())this.handles.each(function(h){c=100*((k.values(h)-k._valueMin())/(k._valueMax()-
k._valueMin()));n["horizontal"===k.orientation?"left":"bottom"]=c+"%";b(this).stop(1,1)[p?"animate":"css"](n,g.animate);if(!0===k.options.range)if("horizontal"===k.orientation){if(0===h)k.range.stop(1,1)[p?"animate":"css"]({left:c+"%"},g.animate);if(1===h)k.range[p?"animate":"css"]({width:c-a+"%"},{queue:!1,duration:g.animate})}else{if(0===h)k.range.stop(1,1)[p?"animate":"css"]({bottom:c+"%"},g.animate);if(1===h)k.range[p?"animate":"css"]({height:c-a+"%"},{queue:!1,duration:g.animate})}a=c});else{h=
this.value();e=this._valueMin();f=this._valueMax();c=f!==e?100*((h-e)/(f-e)):0;n["horizontal"===this.orientation?"left":"bottom"]=c+"%";this.handle.stop(1,1)[p?"animate":"css"](n,g.animate);if("min"===m&&"horizontal"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({width:c+"%"},g.animate);if("max"===m&&"horizontal"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({width:100-c+"%"},g.animate);if("min"===m&&"vertical"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({height:c+
"%"},g.animate);if("max"===m&&"vertical"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({height:100-c+"%"},g.animate)}},_handleEvents:{keydown:function(a){var c,h,e,f=b(a.target).data("ui-slider-handle-index");switch(a.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(b(a.target),
null,"ui-state-active"),c=this._start(a,f),!1===c))return}e=this.options.step;c=this._hasMultipleValues()?h=this.values(f):h=this.value();switch(a.keyCode){case b.ui.keyCode.HOME:h=this._valueMin();break;case b.ui.keyCode.END:h=this._valueMax();break;case b.ui.keyCode.PAGE_UP:h=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/this.numPages);break;case b.ui.keyCode.PAGE_DOWN:h=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/this.numPages);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(c===
this._valueMax())return;h=this._trimAlignValue(c+e);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(c===this._valueMin())return;h=this._trimAlignValue(c-e)}this._slide(a,f,h)},keyup:function(a){var c=b(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,c),this._change(a,c),this._removeClass(b(a.target),null,"ui-state-active"))}}});b.widget("ui.sortable",b.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,
connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||
/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,b){this._super(a,b);"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var a=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");b.each(this.items,function(){a._addClass(this.instance.options.handle?
this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,c){var h=null,e=!1,f=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(a);b(a.target).parents().each(function(){if(b.data(this,f.widgetName+"-item")===f)return h=b(this),!1});b.data(a.target,f.widgetName+
"-item")===f&&(h=b(a.target));if(!h||this.options.handle&&!c&&(b(this.options.handle,h).find("*").addBack().each(function(){this===a.target&&(e=!0)}),!e))return!1;this.currentItem=h;this._removeCurrentsFromItems();return!0},_mouseStart:function(a,c,h){var e;c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset=
{top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],
parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();c.cursor&&"auto"!==c.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",c.cursor),this.storedStylesheet=b("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(e));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));
c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h)for(h=this.containers.length-1;0<=h;h--)this.containers[h]._trigger("activate",a,this._uiHash(this));b.ui.ddmanager&&(b.ui.ddmanager.current=
this);b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a);this.dragging=!0;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(a);return!0},_mouseDrag:function(a){var c,h,e,f;c=this.options;h=!1;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+c.scrollSpeed:a.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+c.scrollSpeed:a.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
h=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(a.pageY-this.document.scrollTop()<c.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-c.scrollSpeed):this.window.height()-(a.pageY-this.document.scrollTop())<c.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+c.scrollSpeed)),a.pageX-this.document.scrollLeft()<c.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-c.scrollSpeed):this.window.width()-(a.pageX-this.document.scrollLeft())<c.scrollSensitivity&&
(h=this.document.scrollLeft(this.document.scrollLeft()+c.scrollSpeed))),!1!==h&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(h=this.items[c],e=h.item[0],(f=this._intersectsWithPointer(h))&&h.instance===
this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!b.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],e):1)){this.direction=1===f?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(h))this._rearrange(a,h);else break;this._trigger("change",a,this._uiHash());break}this._contactContainers(a);b.ui.ddmanager&&b.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=
this.positionAbs;return!1},_mouseStop:function(a,c){if(a){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,a);if(this.options.revert){var h=this,e=this.placeholder.offset(),f=this.options.axis,m={};f&&"x"!==f||(m.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));f&&"y"!==f||(m.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));
this.reverting=!0;b(this.helper).animate(m,parseInt(this.options.revert,10)||500,function(){h._clear(a)})}else this._clear(a,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&
(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem));
return this},serialize:function(a){var c=this._getItemsAsjQuery(a&&a.connected),h=[];a=a||{};b(c).each(function(){var c=(b(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);c&&h.push((a.key||c[1]+"[]")+"="+(a.key&&a.expression?c[1]:c[2]))});!h.length&&a.key&&h.push(a.key+"=");return h.join("&")},toArray:function(a){var c=this._getItemsAsjQuery(a&&a.connected),h=[];a=a||{};c.each(function(){h.push(b(a.item||this).attr(a.attribute||"id")||"")});return h},_intersectsWith:function(a){var b=
this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,m=a.left,g=m+a.width,k=a.top,p=k+a.height,n=this.offset.click.top,r=this.offset.click.left,r="y"===this.options.axis||b+r>m&&b+r<g,n=("x"===this.options.axis||e+n>k&&e+n<p)&&r;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:m<b+
this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&k<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<p},_intersectsWithPointer:function(a){var b;b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);if(!b||!a)return!1;b=this._getDragVerticalDirection();a=this._getDragHorizontalDirection();return this.floating?
"right"===a||"down"===b?2:1:b&&("down"===b?2:1)},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&a||"left"===e&&!a:c&&("down"===c&&b||"up"===c&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;
return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function c(){m.push(this)}var h,e,f,m=[],g=[],k=this._connectWith();if(k&&a)for(a=k.length-
1;0<=a;a--)for(e=b(k[a],this.document[0]),h=e.length-1;0<=h;h--)(f=b.data(e[h],this.widgetFullName))&&f!==this&&!f.options.disabled&&g.push([b.isFunction(f.options.items)?f.options.items.call(f.element):b(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);g.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=g.length-1;0<=a;a--)g[a][0].each(c);return b(m)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]===b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var c,h,e,f,m,g=this.items,k=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):b(this.options.items,this.element),this]];
if((m=this._connectWith())&&this.ready)for(c=m.length-1;0<=c;c--)for(e=b(m[c],this.document[0]),h=e.length-1;0<=h;h--)(f=b.data(e[h],this.widgetFullName))&&f!==this&&!f.options.disabled&&(k.push([b.isFunction(f.options.items)?f.options.items.call(f.element[0],a,{item:this.currentItem}):b(f.options.items,f.element),f]),this.containers.push(f));for(c=k.length-1;0<=c;c--)for(a=k[c][1],e=k[c][0],h=0,m=e.length;h<m;h++)f=b(e[h]),f.data(this.widgetName+"-item",a),g.push({item:f,instance:a,width:0,height:0,
left:0,top:0})},refreshPositions:function(a){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,h,e;for(c=this.items.length-1;0<=c;c--)h=this.items[c],h.instance!==this.currentContainer&&this.currentContainer&&h.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item,a||(h.width=e.outerWidth(),h.height=e.outerHeight()),
e=e.offset(),h.left=e.left,h.top=e.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)e=this.containers[c].element.offset(),this.containers[c].containerCache.left=e.left,this.containers[c].containerCache.top=e.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(a){a=
a||this;var c,h=a.options;h.placeholder&&h.placeholder.constructor!==String||(c=h.placeholder,h.placeholder={element:function(){var h=a.currentItem[0].nodeName.toLowerCase(),e=b("<"+h+">",a.document[0]);a._addClass(e,"ui-sortable-placeholder",c||a.currentItem[0].className)._removeClass(e,"ui-sortable-helper");"tbody"===h?a._createTrPlaceholder(a.currentItem.find("tr").eq(0),b("<tr>",a.document[0]).appendTo(e)):"tr"===h?a._createTrPlaceholder(a.currentItem,e):"img"===h&&e.attr("src",a.currentItem.attr("src"));
c||e.css("visibility","hidden");return e},update:function(b,e){if(!c||h.forcePlaceholderSize)e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}});a.placeholder=b(h.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);h.placeholder.update(a,
a.placeholder)},_createTrPlaceholder:function(a,c){var h=this;a.children().each(function(){b("<td>&#160;</td>",h.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(a){var c,h,e,f,m,g,k,p,n=f=null;for(c=this.containers.length-1;0<=c;c--)b.contains(this.currentItem[0],this.containers[c].element[0])||(this._intersectsWith(this.containers[c].containerCache)?f&&b.contains(this.containers[c].element[0],f.element[0])||(f=this.containers[c],n=c):this.containers[c].containerCache.over&&
(this.containers[c]._trigger("out",a,this._uiHash(this)),this.containers[c].containerCache.over=0));if(f)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",a,this._uiHash(this)),this.containers[n].containerCache.over=1);else{c=1E4;e=null;f=(h=f.floating||this._isFloating(this.currentItem))?"left":"top";m=h?"width":"height";p=h?"pageX":"pageY";for(h=this.items.length-1;0<=h;h--)b.contains(this.containers[n].element[0],this.items[h].item[0])&&this.items[h].item[0]!==
this.currentItem[0]&&(g=this.items[h].item.offset()[f],k=!1,a[p]-g>this.items[h][m]/2&&(k=!0),Math.abs(a[p]-g)<c&&(c=Math.abs(a[p]-g),e=this.items[h],this.direction=k?"up":"down"));if(e||this.options.dropOnEmpty)this.currentContainer===this.containers[n]?this.currentContainer.containerCache.over||(this.containers[n]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=1):(e?this._rearrange(a,e,null,!0):this._rearrange(a,null,this.containers[n].element,!0),this._trigger("change",
a,this._uiHash()),this.containers[n]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[n],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",a,this._uiHash(this)),this.containers[n].containerCache.over=1)}},_createHelper:function(a){var c=this.options;a=b.isFunction(c.helper)?b(c.helper.apply(this.element[0],[a,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;a.parents("body").length||
b("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});a[0].style.width&&!c.forceHelperSize||a.width(this.currentItem.width());a[0].style.height&&!c.forceHelperSize||a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){"string"===
typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"===this.cssPosition&&
this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===
this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var a,c,h;c=this.options;"parent"===c.containment&&(c.containment=this.helper[0].parentNode);if("document"===c.containment||"window"===c.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===c.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===c.containment?this.document.height()||document.body.parentNode.scrollHeight:
this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(c.containment)||(a=b(c.containment)[0],c=b(c.containment).offset(),h="hidden"!==b(a).css("overflow"),this.containment=[c.left+(parseInt(b(a).css("borderLeftWidth"),10)||0)+(parseInt(b(a).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(b(a).css("borderTopWidth"),10)||0)+(parseInt(b(a).css("paddingTop"),10)||0)-this.margins.top,c.left+(h?
Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(b(a).css("borderLeftWidth"),10)||0)-(parseInt(b(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(h?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(b(a).css("borderTopWidth"),10)||0)-(parseInt(b(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,c){c||(c=this.position);var h="absolute"===a?1:-1,e="absolute"!==this.cssPosition||
this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*h+this.offset.parent.top*h-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*h,left:c.left+this.offset.relative.left*h+this.offset.parent.left*h-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*h}},_generatePosition:function(a){var c,
h,e=this.options;h=a.pageX;c=a.pageY;var f="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(f[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&
(h=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((c-this.originalPageY)/e.grid[1])*e.grid[1],c=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=
this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,h=this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0],h=this.containment?h-this.offset.click.left>=this.containment[0]&&h-this.offset.click.left<=this.containment[2]?h:h-this.offset.click.left>=this.containment[0]?h-e.grid[0]:h+e.grid[0]:h));return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?
0:f.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:f.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var f=this.counter=this.counter?++this.counter:1;this._delay(function(){f===this.counter&&this.refreshPositions(!e)})},_clear:function(a,b){function c(a,
b,d){return function(c){d._trigger(a,c,b._uiHash(b))}}this.reverting=!1;var e,f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)if("auto"===this._storedCSS[e]||"static"===this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&f.push(function(a){this._trigger("receive",
a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||f.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||b||(f.push(function(a){this._trigger("remove",a,this._uiHash())}),f.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),f.push(function(a){return function(b){a._trigger("update",
b,this._uiHash(this))}}.call(this,this.currentContainer)));for(e=this.containers.length-1;0<=e;e--)b||f.push(c("deactivate",this,this.containers[e])),this.containers[e].containerCache.over&&(f.push(c("out",this,this.containers[e])),this.containers[e].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===
this._storedZIndex?"":this._storedZIndex);this.dragging=!1;b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null);if(!b){for(e=0;e<f.length;e++)f[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!this.cancelHelperRemoval},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},
_uiHash:function(a){var c=a||this;return{helper:c.helper,placeholder:c.placeholder||b([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:a?a.element:null}}});b.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,
max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a=this._super(),c=this.element;b.each(["min",
"max","step"],function(b,e){var f=c.attr(e);null!=f&&f.length&&(a[e]=f)});return a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((0<b?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);
this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function c(){this.element[0]!==b.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=h,this._delay(function(){this.previous=h}))}var h;h=this.element[0]===b.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();a.preventDefault();c.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;
c.call(this)});!1!==this._start(a)&&this._repeat(null,b(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){if(b(a.currentTarget).hasClass("ui-state-active")){if(!1===this._start(a))return!1;this._repeat(null,b(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},
_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,
showLabel:!1});this.buttons.last().button({icon:this.options.icons.down,showLabel:!1});this.buttons.height()>Math.ceil(0.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(a){var c=this.options,h=b.ui.keyCode;switch(a.keyCode){case h.UP:return this._repeat(null,1,a),!0;case h.DOWN:return this._repeat(null,-1,a),!0;case h.PAGE_UP:return this._repeat(null,c.page,a),!0;case h.PAGE_DOWN:return this._repeat(null,-c.page,a),!0}return!1},
_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,b,c){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,c)},a);this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1);c=this._adjustValue(c+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",b,{value:c})||(this._value(c),this.counter++)},
_increment:function(a){var c=this.options.incremental;return c?b.isFunction(c)?c(a):Math.floor(a*a*a/5E4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");return-1===b?0:a.length-b-1},_adjustValue:function(a){var b,c=this.options;b=null!==c.min?c.min:0;a=Math.round((a-b)/c.step)*c.step;a=b+a;a=parseFloat(a.toFixed(this._precision()));
return null!==c.max&&a>c.max?c.max:null!==c.min&&a<c.min?c.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){var c;"culture"===a||"numberFormat"===a?(c=this._parse(this.element.val()),this.options[a]=b,this.element.val(this._format(c))):("max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof b||(b=this._parse(b)),"icons"===a&&(c=this.buttons.first().find(".ui-icon"),this._removeClass(c,
null,this.options.icons.up),this._addClass(c,null,b.up),c=this.buttons.last().find(".ui-icon"),this._removeClass(c,null,this.options.icons.down),this._addClass(c,null,b.down)),this._super(a,b))},_setOptionDisabled:function(a){this._super(a);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!a);this.element.prop("disabled",!!a);this.buttons.button(a?"disable":"enable")},_setOptions:n(function(a){this._super(a)}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?
Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,b){var c;""!==
a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c)));this.element.val(a);this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:n(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:n(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||
1)*-this.options.step),this._stop())},pageUp:n(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:n(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());n(this._value).call(this,a)},widget:function(){return this.uiSpinner}});!1!==b.uiBackCompat&&b.widget("ui.spinner",b.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},
_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});b.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,e;c=b.href.replace(a,
"");e=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(f){}try{e=decodeURIComponent(e)}catch(m){}return 1<b.hash.length&&c===e}}(),_create:function(){var a=this,c=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,c.collapsible);this._processTabs();c.active=this._initialActive();b.isArray(c.disabled)&&(c.disabled=b.unique(c.disabled.concat(b.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort());
this.active=!1!==this.options.active&&this.anchors.length?this._findActive(c.active):b();this._refresh();this.active.length&&this.load(c.active)},_initialActive:function(){var a=this.options.active,c=this.options.collapsible,h=location.hash.substring(1);null===a&&(h&&this.tabs.each(function(c,d){if(b(d).attr("aria-controls")===h)return a=c,!1}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===a||-1===a)&&(a=this.tabs.length?0:!1);!1!==a&&(a=this.tabs.index(this.tabs.eq(a)),
-1===a&&(a=c?!1:0));!c&&!1===a&&this.anchors.length&&(a=0);return a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):b()}},_tabKeydown:function(a){var c=b(b.ui.safeActiveElement(this.document[0])).closest("li"),h=this.tabs.index(c),e=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:h++;break;case b.ui.keyCode.UP:case b.ui.keyCode.LEFT:e=!1;h--;break;case b.ui.keyCode.END:h=this.anchors.length-
1;break;case b.ui.keyCode.HOME:h=0;break;case b.ui.keyCode.SPACE:a.preventDefault();clearTimeout(this.activating);this._activate(h);return;case b.ui.keyCode.ENTER:a.preventDefault();clearTimeout(this.activating);this._activate(h===this.options.active?!1:h);return;default:return}a.preventDefault();clearTimeout(this.activating);h=this._focusNextTab(h,e);a.ctrlKey||a.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(h).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",
h)},this.delay))}},_panelKeydown:function(a){!this._handlePageNav(a)&&a.ctrlKey&&a.keyCode===b.ui.keyCode.UP&&(a.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(a){if(a.altKey&&a.keyCode===b.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(a.altKey&&a.keyCode===b.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(a,c){function h(){a>e&&(a=0);0>a&&(a=e);return a}for(var e=
this.tabs.length-1;-1!==b.inArray(h(),this.options.disabled);)a=c?a+1:a-1;return a},_focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).trigger("focus");return a},_setOption:function(a,b){"active"===a?this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var a=this.options,c=this.tablist.children(":has(a[href])");a.disabled=b.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});this._processTabs();!1!==a.active&&this.anchors.length?this.active.length&&!b.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=b()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=b());this._refresh()},
_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):
this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this,c=this.tabs,h=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(a){b(this).is(".ui-state-disabled")&&a.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){b(this).closest("li").is(".ui-state-disabled")&&this.blur()});
this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return b("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=b();this.anchors.each(function(c,d){var h,e,f=b(d).uniqueId().attr("id"),m=b(d).closest("li"),g=m.attr("aria-controls");a._isLocal(d)?(h=d.hash,e=h.substring(1),h=a.element.find(a._sanitizeSelector(h))):
(e=m.attr("aria-controls")||b({}).uniqueId()[0].id,h=a.element.find("#"+e),h.length||(h=a._createPanel(e),h.insertAfter(a.panels[c-1]||a.tablist)),h.attr("aria-live","polite"));h.length&&(a.panels=a.panels.add(h));g&&m.data("ui-tabs-aria-controls",g);m.attr({"aria-controls":e,"aria-labelledby":f});h.attr("aria-labelledby",f)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");c&&(this._off(c.not(this.tabs)),this._off(h.not(this.anchors)),this._off(e.not(this.panels)))},
_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(a){return b("<div>").attr("id",a).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(a){var c,h;b.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(h=0;c=this.tabs[h];h++)c=b(c),!0===a||-1!==b.inArray(h,a)?(c.attr("aria-disabled","true"),this._addClass(c,null,"ui-state-disabled")):(c.removeAttr("aria-disabled"),this._removeClass(c,null,"ui-state-disabled"));this.options.disabled=
a;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===a)},_setupEvents:function(a){var c={};a&&b.each(a.split(" "),function(a,b){c[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,c);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(a){var c,
h=this.element.parent();"fill"===a?(c=h.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=b(this),h=a.css("position");"absolute"!==h&&"fixed"!==h&&(c-=a.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=b(this).outerHeight(!0)}),this.panels.each(function(){b(this).height(Math.max(0,c-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===a&&(c=0,this.panels.each(function(){c=Math.max(c,
b(this).height("").height())}).height(c))},_eventHandler:function(a){var c=this.options,h=this.active,e=b(a.currentTarget).closest("li"),f=e[0]===h[0],m=f&&c.collapsible,g=m?b():this._getPanelForTab(e),k=h.length?this._getPanelForTab(h):b(),h={oldTab:h,oldPanel:k,newTab:m?b():e,newPanel:g};a.preventDefault();e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||f&&!c.collapsible||!1===this._trigger("beforeActivate",a,h)||(c.active=m?!1:this.tabs.index(e),this.active=f?b():
e,this.xhr&&this.xhr.abort(),k.length||g.length||b.error("jQuery UI Tabs: Mismatching fragment identifier."),g.length&&this.load(this.tabs.index(e),a),this._toggle(a,h))},_toggle:function(a,c){function h(){f.running=!1;f._trigger("activate",a,c)}function e(){f._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active");m.length&&f.options.show?f._show(m,f.options.show,h):(m.show(),h())}var f=this,m=c.newPanel,g=c.oldPanel;this.running=!0;g.length&&this.options.hide?this._hide(g,this.options.hide,
function(){f._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active");e()}):(this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),g.hide(),e());g.attr("aria-hidden","true");c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});m.length&&g.length?c.oldTab.attr("tabIndex",-1):m.length&&this.tabs.filter(function(){return 0===b(this).attr("tabIndex")}).attr("tabIndex",-1);m.attr("aria-hidden","false");c.newTab.attr({"aria-selected":"true","aria-expanded":"true",
tabIndex:0})},_activate:function(a){a=this._findActive(a);a[0]!==this.active[0]&&(a.length||(a=this.active),a=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:b.noop}))},_findActive:function(a){return!1===a?b():this.tabs.eq(a)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+b.ui.escapeSelector(a)+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);
this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){b.data(this,"ui-tabs-destroy")?b(this).remove():b(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var a=b(this),c=a.data("ui-tabs-aria-controls");c?a.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height",
"")},enable:function(a){var c=this.options.disabled;!1!==c&&(void 0===a?c=!1:(a=this._getIndex(a),c=b.isArray(c)?b.map(c,function(b){return b!==a?b:null}):b.map(this.tabs,function(b,c){return c!==a?c:null})),this._setOptionDisabled(c))},disable:function(a){var c=this.options.disabled;if(!0!==c){if(void 0===a)c=!0;else{a=this._getIndex(a);if(-1!==b.inArray(a,c))return;c=b.isArray(c)?b.merge([a],c).sort():[a]}this._setOptionDisabled(c)}},load:function(a,c){a=this._getIndex(a);var h=this,e=this.tabs.eq(a),
f=e.find(".ui-tabs-anchor"),m=this._getPanelForTab(e),g={tab:e,panel:m},k=function(a,b){"abort"===b&&h.panels.stop(!1,!0);h._removeClass(e,"ui-tabs-loading");m.removeAttr("aria-busy");a===h.xhr&&delete h.xhr};this._isLocal(f[0])||(this.xhr=b.ajax(this._ajaxSettings(f,c,g)))&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),m.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){m.html(a);h._trigger("load",c,g);k(e,b)},1)}).fail(function(a,b){setTimeout(function(){k(a,
b)},1)}))},_ajaxSettings:function(a,c,e){var f=this;return{url:a.attr("href"),beforeSend:function(a,m){return f._trigger("beforeLoad",c,b.extend({jqXHR:a,ajaxSettings:m},e))}}},_getPanelForTab:function(a){a=b(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}});!1!==b.uiBackCompat&&b.widget("ui.tabs",b.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});b.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},
content:function(){var a=b(this).attr("title")||"";return b("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(a,c){var e=(a.attr("aria-describedby")||"").split(/\s+/);e.push(c);a.data("ui-tooltip-id",c).attr("aria-describedby",b.trim(e.join(" ")))},_removeDescribedBy:function(a){var c=a.data("ui-tooltip-id"),e=(a.attr("aria-describedby")||"").split(/\s+/),
c=b.inArray(c,e);-1!==c&&e.splice(c,1);a.removeData("ui-tooltip-id");(e=b.trim(e.join(" ")))?a.attr("aria-describedby",e):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=b("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=b([])},_setOption:function(a,c){var e=
this;this._super(a,c);"content"===a&&b.each(this.tooltips,function(a,b){e._updateContent(b.element)})},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var a=this;b.each(this.tooltips,function(c,e){var f=b.Event("blur");f.target=f.currentTarget=e.element[0];a.close(f,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var a=b(this);if(a.is("[title]"))return a.data("ui-tooltip-title",a.attr("title")).removeAttr("title")}))},
_enable:function(){this.disabledTitles.each(function(){var a=b(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))});this.disabledTitles=b([])},open:function(a){var c=this,e=b(a?a.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&e.parents().each(function(){var a=b(this),e;a.data("ui-tooltip-open")&&(e=b.Event("blur"),e.target=
e.currentTarget=this,c.close(e,!0));a.attr("title")&&(a.uniqueId(),c.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._registerCloseHandlers(a,e),this._updateContent(e,a))},_updateContent:function(a,b){var c;c=this.options.content;var e=this,f=b?b.type:null;if("string"===typeof c||c.nodeType||c.jquery)return this._open(b,a,c);(c=c.call(a[0],function(c){e._delay(function(){a.data("ui-tooltip-open")&&(b&&(b.type=f),this._open(b,a,c))})}))&&this._open(b,a,c)},_open:function(a,
c,e){function f(a){p.of=a;g.is(":hidden")||g.position(p)}var m,g,k,p=b.extend({},this.options.position);e&&((m=this._find(c))?m.tooltip.find(".ui-tooltip-content").html(e):(c.is("[title]")&&(a&&"mouseover"===a.type?c.attr("title",""):c.removeAttr("title")),m=this._tooltip(c),g=m.tooltip,this._addDescribedBy(c,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.liveRegion.children().hide(),e=b("<div>").html(g.find(".ui-tooltip-content").html()),e.removeAttr("name").find("[name]").removeAttr("name"),
e.removeAttr("id").find("[id]").removeAttr("id"),e.appendTo(this.liveRegion),this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:f}),f(a)):g.position(b.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(k=this.delayedShow=setInterval(function(){g.is(":visible")&&(f(p.of),clearInterval(k))},b.fx.interval)),this._trigger("open",a,{tooltip:g})))},_registerCloseHandlers:function(a,
c){var e={keyup:function(a){a.keyCode===b.ui.keyCode.ESCAPE&&(a=b.Event(a),a.currentTarget=c[0],this.close(a,!0))}};c[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(c).tooltip)});a&&"mouseover"!==a.type||(e.mouseleave="close");a&&"focusin"!==a.type||(e.focusout="close");this._on(!0,c,e)},close:function(a){var c,e=this,f=b(a?a.currentTarget:this.element),m=this._find(f);m?(c=m.tooltip,m.closing||(clearInterval(this.delayedShow),f.data("ui-tooltip-title")&&!f.attr("title")&&
f.attr("title",f.data("ui-tooltip-title")),this._removeDescribedBy(f),m.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){e._removeTooltip(b(this))}),f.removeData("ui-tooltip-open"),this._off(f,"mouseleave focusout keyup"),f[0]!==this.element[0]&&this._off(f,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&b.each(this.parents,function(a,c){b(c.element).attr("title",c.title);delete e.parents[a]}),m.closing=!0,this._trigger("close",a,{tooltip:c}),m.hiding||(m.closing=
!1))):f.removeData("ui-tooltip-open")},_tooltip:function(a){var c=b("<div>").attr("role","tooltip"),e=b("<div>").appendTo(c),f=c.uniqueId().attr("id");this._addClass(e,"ui-tooltip-content");this._addClass(c,"ui-tooltip","ui-widget ui-widget-content");c.appendTo(this._appendTo(a));return this.tooltips[f]={element:a,tooltip:c}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_appendTo:function(a){a=
a.closest(".ui-front, dialog");a.length||(a=this.document[0].body);return a},_destroy:function(){var a=this;b.each(this.tooltips,function(c,e){var f=b.Event("blur"),m=e.element;f.target=f.currentTarget=m[0];a.close(f,!0);b("#"+c).remove();m.data("ui-tooltip-title")&&(m.attr("title")||m.attr("title",m.data("ui-tooltip-title")),m.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==b.uiBackCompat&&b.widget("ui.tooltip",b.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=
this._superApply(arguments);this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass);return a}})});
(function(b){function l(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a,b){var c=!0;return m(function(){c&&(!1===E.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a),c=!1);return b.apply(this,
arguments)},b)}function c(a,b){return function(c){return s(a.call(this,c),b)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function n(){}function e(a){P(a);m(this,a)}function p(a){a=d(a);var b=a.year||0,c=a.quarter||0,e=a.month||0,h=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*h;this._months=+e+3*c+12*b;this._data={};this._bubble()}function m(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function r(a){return 0>a?Math.ceil(a):Math.floor(a)}function s(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function v(a,b,c,d){var e=b._milliseconds,h=b._days;b=b._months;d=null==d?!0:d;e&&a._d.setTime(+a._d+e*c);h&&X(a,"Date",C(a,"Date")+h*c);b&&I(a,C(a,"Month")+b*c);d&&E.updateOffset(a,h||b)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}
function A(a,b,c){var d,e=Math.min(a.length,b.length),h=Math.abs(a.length-b.length),f=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&f++;return f+h}function a(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ic[a]||jc[b]||b}return a}function d(b){var c,d,e={};for(d in b)b.hasOwnProperty(d)&&(c=a(d),c&&(e[c]=b[d]));return e}function h(a){var c,d;if(0===a.indexOf("week"))c=7,d="day";else{if(0!==a.indexOf("month"))return;c=12;d="month"}E[a]=function(e,h){var f,m,g=E.fn._lang[a],k=[];
if("number"==typeof e&&(h=e,e=b),m=function(a){a=E().utc().set(d,a);return g.call(E.fn._lang,a,e||"")},null!=h)return m(h);for(f=0;c>f;f++)k.push(m(f));return k}}function q(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function w(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function B(a,b,c){return na(E([a,11,31+b-c]),b,c).week}function y(a){return 0===a%4&&0!==a%100||0===a%400}function P(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[Z]||11<a._a[Z]?Z:1>
a._a[ra]||a._a[ra]>w(a._a[oa],a._a[Z])?ra:0>a._a[sa]||23<a._a[sa]?sa:0>a._a[la]||59<a._a[la]?la:0>a._a[t]||59<a._a[t]?t:0>a._a[xa]||999<a._a[xa]?xa:-1,a._pf._overflowDayOfYear&&(oa>b||b>ra)&&(b=ra),a._pf.overflow=b)}function O(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}
function W(a){return a?a.toLowerCase().replace("_","-"):a}function ca(a,b){return b._isUTC?E(a).zone(b._offset||0):E(a).local()}function R(a){var b,c,d,e,h=0,f=function(a){if(!Pa[a]&&Ha)try{require("./lang/"+a)}catch(b){}return Pa[a]};if(!a)return E.fn._lang;if(!u(a)){if(c=f(a))return c;a=[a]}for(;h<a.length;){e=W(a[h]).split("-");b=e.length;for(d=(d=W(a[h+1]))?d.split("-"):null;0<b;){if(c=f(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&A(e,d,!0)>=b-1)break;b--}h++}return E.fn._lang}function V(a){var b,
c,d=a.match(tb);b=0;for(c=d.length;c>b;b++)d[b]=Ua[d[b]]?Ua[d[b]]:d[b].match(/\[[\s\S]/)?d[b].replace(/^\[|\]$/g,""):d[b].replace(/\\/g,"");return function(e){var h="";for(b=0;c>b;b++)h+=d[b]instanceof Function?d[b].call(e,a):d[b];return h}}function Y(a,b){return a.isValid()?(b=J(b,a.lang()),La[b]||(La[b]=V(b)),La[b](a)):a.lang().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ja.lastIndex=0;0<=d&&Ja.test(a);)a=a.replace(Ja,c),Ja.lastIndex=0,d-=1;return a}function U(a,
b){var c=b._strict;switch(a){case "Q":return fa;case "DDDD":return hc;case "YYYY":case "GGGG":case "gggg":return c?Wa:pa;case "Y":case "G":case "g":return bb;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?eb:Ga;case "S":if(c)return fa;case "SS":if(c)return Ka;case "SSS":if(c)return hc;case "DDD":return Mb;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return za;case "a":case "A":return R(b._l)._meridiemParse;case "X":return Ta;case "Z":case "ZZ":return Yb;case "T":return Bb;
case "SSSS":return Xb;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?Ka:jb;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return jb;case "Do":return Cb;default:var c=RegExp,d;d=K(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(d)}}function H(a){a=(a||"").match(Yb)||[];a=((a[a.length-1]||[])+"").match(yb)||["-",0,0];var b=+(60*a[1])+q(a[2]);return"+"===
a[0]?-b:b}function x(a){var b,c,d,e=[];if(!a._d){c=new Date;c=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()];if(a._w&&null==a._a[ra]&&null==a._a[Z]){var h,f,m,g,k,p,n;h=a._w;null!=h.GG||null!=h.W||null!=h.E?(k=1,p=4,f=l(h.GG,a._a[oa],na(E(),1,4).year),m=l(h.W,1),g=l(h.E,1)):(n=R(a._l),k=n._week.dow,p=n._week.doy,f=l(h.gg,a._a[oa],na(E(),k,p).year),m=l(h.w,1),null!=h.d?(g=h.d,k>g&&++m):g=null!=h.e?h.e+k:k);n=k;var r,x;k=Q(f,0,1).getUTCDay();
p=(k=0===k?7:k,g=null!=g?g:n,r=n-k+(k>p?7:0)-(n>k?7:0),x=7*(m-1)+(g-n)+r+1,{year:0<x?f:f-1,dayOfYear:0<x?x:(y(f-1)?366:365)+x});a._a[oa]=p.year;a._dayOfYear=p.dayOfYear}a._dayOfYear&&(d=l(a._a[oa],c[oa]),a._dayOfYear>(y(d)?366:365)&&(a._pf._overflowDayOfYear=!0),b=Q(d,0,a._dayOfYear),a._a[Z]=b.getUTCMonth(),a._a[ra]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=c[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];a._d=(a._useUTC?Q:L).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+
a._tzm)}}function D(a){if(a._f===E.ISO_8601)return void F(a);a._a=[];a._pf.empty=!0;var b,c,d,e,h;b=R(a._l);var f=""+a._i,m=f.length,g=0;d=J(a._f,b).match(tb)||[];for(b=0;b<d.length;b++)if(e=d[b],(c=(f.match(U(e,a))||[])[0])&&(h=f.substr(0,f.indexOf(c)),0<h.length&&a._pf.unusedInput.push(h),f=f.slice(f.indexOf(c)+c.length),g+=c.length),Ua[e]){c?a._pf.empty=!1:a._pf.unusedTokens.push(e);var k=a,p=void 0,n=k._a;switch(e){case "Q":null!=c&&(n[Z]=3*(q(c)-1));break;case "M":case "MM":null!=c&&(n[Z]=q(c)-
1);break;case "MMM":case "MMMM":p=R(k._l).monthsParse(c);null!=p?n[Z]=p:k._pf.invalidMonth=c;break;case "D":case "DD":null!=c&&(n[ra]=q(c));break;case "Do":null!=c&&(n[ra]=q(parseInt(c,10)));break;case "DDD":case "DDDD":null!=c&&(k._dayOfYear=q(c));break;case "YY":n[oa]=E.parseTwoDigitYear(c);break;case "YYYY":case "YYYYY":case "YYYYYY":n[oa]=q(c);break;case "a":case "A":k._isPm=R(k._l).isPM(c);break;case "H":case "HH":case "h":case "hh":n[sa]=q(c);break;case "m":case "mm":n[la]=q(c);break;case "s":case "ss":n[t]=
q(c);break;case "S":case "SS":case "SSS":case "SSSS":n[xa]=q(1E3*("0."+c));break;case "X":k._d=new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":k._useUTC=!0;k._tzm=H(c);break;case "dd":case "ddd":case "dddd":p=R(k._l).weekdaysParse(c);null!=p?(k._w=k._w||{},k._w.d=p):k._pf.invalidWeekday=c;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":e=e.substr(0,1);case "gggg":case "GGGG":case "GGGGG":e=e.substr(0,2);c&&(k._w=k._w||{},k._w[e]=q(c));break;case "gg":case "GG":k._w=k._w||
{},k._w[e]=E.parseTwoDigitYear(c)}}else a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=m-g;0<f.length&&a._pf.unusedInput.push(f);a._isPm&&12>a._a[sa]&&(a._a[sa]+=12);!1===a._isPm&&12===a._a[sa]&&(a._a[sa]=0);x(a);P(a)}function K(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function F(a){var b,c,d=a._i,e=kb.exec(d);if(e){a._pf.iso=!0;b=0;for(c=Ca.length;c>b;b++)if(Ca[b][1].exec(d)){a._f=Ca[b][0]+(e[6]||" ");break}b=0;for(c=mb.length;c>
b;b++)if(mb[b][1].exec(d)){a._f+=mb[b][0];break}d.match(Yb)&&(a._f+="Z");D(a)}else a._isValid=!1}function L(a,b,c,d,e,h,f){b=new Date(a,b,c,d,e,h,f);return 1970>a&&b.setFullYear(a),b}function Q(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ha(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function na(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=E(a).add("d",c),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ua(a){var c=
a._i,h=a._f;if(null===c||h===b&&""===c)a=E.invalid({nullInput:!0});else{"string"==typeof c&&(a._i=c=R().preparse(c));if(E.isMoment(c)){a=c;var f,g={};for(f in a)a.hasOwnProperty(f)&&Xa.hasOwnProperty(f)&&(g[f]=a[f]);a=g;a._d=new Date(+c._d)}else if(h)if(u(h)){var p=a,n,r;if(0===p._f.length)p._pf.invalidFormat=!0,p._d=new Date(0/0);else{for(c=0;c<p._f.length;c++)f=0,g=m({},p),g._pf=k(),g._f=p._f[c],D(g),O(g)&&(f+=g._pf.charsLeftOver,f+=10*g._pf.unusedTokens.length,g._pf.score=f,(null==r||r>f)&&(r=
f,n=g));m(p,n||g)}}else D(a);else g=a,n=g._i,r=Oa.exec(n),n===b?g._d=new Date:r?g._d=new Date(+r[1]):"string"==typeof n?(F(g),!1===g._isValid&&(delete g._isValid,E.createFromInputFallback(g))):u(n)?(g._a=n.slice(0),x(g)):"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date?g._d=new Date(+n):"object"==typeof n?g._d||(p=d(g._i),g._a=[p.year,p.month,p.day,p.hour,p.minute,p.second,p.millisecond],x(g)):"number"==typeof n?g._d=new Date(n):E.createFromInputFallback(g);a=new e(a)}return a}
function qa(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return E();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function I(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),w(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function X(a,b,c){return"Month"===b?I(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ja(a,b){return function(c){return null!=
c?(X(this,a,c),E.updateOffset(this,b),this):C(this,a)}}function aa(a){E.duration.fn[a]=function(){return this._data[a]}}function G(a,b){E.duration.fn["as"+a]=function(){return+this/b}}function ka(a){"undefined"==typeof ender&&(ma=va.moment,va.moment=a?g("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",E):E)}for(var E,ma,M,va="undefined"!=typeof global?global:this,ia=Math.round,oa=0,Z=1,ra=2,sa=3,la=4,t=5,xa=6,Pa={},Xa={_isAMomentObject:null,_i:null,
_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Ha="undefined"!=typeof module&&module.exports,Oa=/^\/?Date\((\-?\d+)/i,Ma=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,db=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,tb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
Ja=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,jb=/\d\d?/,Mb=/\d{1,3}/,pa=/\d{1,4}/,Ga=/[+\-]?\d{1,6}/,Xb=/\d+/,za=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yb=/Z|[\+\-]\d\d:?\d\d/gi,Bb=/T/i,Ta=/[\+\-]?\d+(\.\d{1,3})?/,Cb=/\d{1,2}/,fa=/\d/,Ka=/\d\d/,hc=/\d{3}/,Wa=/\d{4}/,eb=/[+-]?\d{6}/,bb=/[+-]?\d+/,kb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
Ca=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],mb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yb=/([\+\-]|\d\d)/gi,Nb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},ic={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},jc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},La={},cb={s:45,m:45,h:22,dd:25,dm:45,dy:345},Db="DDD w W M D d".split(" "),oc="MDHhmswW".split(""),Ua={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),4)},YYYYY:function(){return s(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+s(Math.abs(a),
6)},gg:function(){return s(this.weekYear()%100,2)},gggg:function(){return s(this.weekYear(),4)},ggggg:function(){return s(this.weekYear(),5)},GG:function(){return s(this.isoWeekYear()%100,2)},GGGG:function(){return s(this.isoWeekYear(),4)},GGGGG:function(){return s(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),
!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return q(this.milliseconds()/100)},SS:function(){return s(q(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},SSSS:function(){return s(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+s(q(a/60),2)+":"+s(q(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,
b="-"),b+s(q(a/60),2)+s(q(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Zb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Db.length;)M=Db.pop(),Ua[M+"o"]=f(Ua[M],M);for(;oc.length;)M=oc.pop(),Ua[M+M]=c(Ua[M],2);Ua.DDDD=c(Ua.DDD,3);m(n.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),
months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=E.utc([2E3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=E([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,
""),this._weekdaysParse[b]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},
_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",
y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return na(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",
invalidDate:function(){return this._invalidDate}});E=function(a,c,d,e){var h;return"boolean"==typeof d&&(e=d,d=b),h={},h._isAMomentObject=!0,h._i=a,h._f=c,h._l=d,h._strict=e,h._isUTC=!1,h._pf=k(),ua(h)};E.suppressDeprecationWarnings=!1;E.createFromInputFallback=g("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});E.min=function(){var a=
[].slice.call(arguments,0);return qa("isBefore",a)};E.max=function(){var a=[].slice.call(arguments,0);return qa("isAfter",a)};E.utc=function(a,c,d,e){var h;return"boolean"==typeof d&&(e=d,d=b),h={},h._isAMomentObject=!0,h._useUTC=!0,h._isUTC=!0,h._l=d,h._i=a,h._f=c,h._strict=e,h._pf=k(),ua(h).utc()};E.unix=function(a){return E(1E3*a)};E.duration=function(a,b){var c,d,e,h=a,f=null;return E.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):
(f=Ma.exec(a))?(c="-"===f[1]?-1:1,h={y:0,d:q(f[ra])*c,h:q(f[sa])*c,m:q(f[la])*c,s:q(f[t])*c,ms:q(f[xa])*c}):(f=db.exec(a))&&(c="-"===f[1]?-1:1,e=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*c},h={y:e(f[2]),M:e(f[3]),d:e(f[4]),h:e(f[5]),m:e(f[6]),s:e(f[7]),w:e(f[8])}),d=new p(h),E.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d};E.version="2.7.0";E.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";E.ISO_8601=function(){};E.momentProperties=Xa;E.updateOffset=function(){};E.relativeTimeThreshold=
function(a,c){return cb[a]===b?!1:(cb[a]=c,!0)};E.lang=function(a,b){var c,d;a?(b?(d=W(a),b.abbr=d,Pa[d]||(Pa[d]=new n),Pa[d].set(b)):null===b?(delete Pa[a],a="en"):Pa[a]||R(a),d=(c=E.duration.fn._lang=E.fn._lang=R(a),c._abbr)):d=E.fn._lang._abbr;return d};E.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),R(a)};E.isMoment=function(a){return a instanceof e||null!=a&&a.hasOwnProperty("_isAMomentObject")};E.isDuration=function(a){return a instanceof p};for(M=Zb.length-1;0<=M;--M)h(Zb[M]);
E.normalizeUnits=function(b){return a(b)};E.invalid=function(a){var b=E.utc(0/0);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b};E.parseZone=function(){return E.apply(null,arguments).parseZone()};E.parseTwoDigitYear=function(a){return q(a)+(68<q(a)?1900:2E3)};m(E.fn=e.prototype,{clone:function(){return E(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},
toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=E(this).utc();return 0<a.year()&&9999>=a.year()?Y(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return O(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<A(this._a,(this._isUTC?E.utc(this._a):E(this._a)).toArray()):!1},parsingFlags:function(){return m({},
this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=Y(this,a||E.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;return c="string"==typeof a&&"string"==typeof b?E.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):"string"==typeof a?E.duration(+b,a):E.duration(a,b),v(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a&&"string"==typeof b?E.duration(isNaN(+b)?
+a:+b,isNaN(+b)?b:a):"string"==typeof a?E.duration(+b,a):E.duration(a,b),v(this,c,-1),this},diff:function(b,c,d){var e,h;b=ca(b,this);var f=6E4*(this.zone()-b.zone());return c=a(c),"year"===c||"month"===c?(e=432E5*(this.daysInMonth()+b.daysInMonth()),h=12*(this.year()-b.year())+(this.month()-b.month()),h+=(this-E(this).startOf("month")-(b-E(b).startOf("month")))/e,h-=6E4*(this.zone()-E(this).startOf("month").zone()-(b.zone()-E(b).startOf("month").zone()))/e,"year"===c&&(h/=12)):(e=this-b,h="second"===
c?e/1E3:"minute"===c?e/6E4:"hour"===c?e/36E5:"day"===c?(e-f)/864E5:"week"===c?(e-f)/6048E5:e),d?h:r(h)},from:function(a,b){return E.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(E(),a)},calendar:function(a){a=a||E();a=ca(a,this).startOf("day");a=this.diff(a,"days",!0);a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return y(this.year())},
isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var c;a:{c=a;var d=this.lang();if("string"==typeof c)if(isNaN(c)){if(c=d.weekdaysParse(c),"number"!=typeof c){c=null;break a}}else c=parseInt(c,10)}b=(a=c,this.add({d:a-b}))}return b},month:ja("Month",!0),startOf:function(b){switch(b=a(b)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);
case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===b?this.weekday(0):"isoWeek"===b&&this.isoWeekday(1),"quarter"===b&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=a(b),this.startOf(b).add("isoWeek"===b?"week":b,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+E(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<
+E(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+ca(a,this).startOf(b)},min:g("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=E.apply(null,arguments),this>a?this:a}),max:g("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=E.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?
c:this._d.getTimezoneOffset():("string"==typeof a&&(a=H(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?v(this,E.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),
this},hasAlignedHourOffset:function(a){return a=a?E(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(a){var b=ia((E(this).startOf("day")-E(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=na(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=
na(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=na(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return B(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;
return B(this.year(),a.dow,a.doy)},get:function(b){return b=a(b),this[b]()},set:function(b,c){return b=a(b),"function"==typeof this[b]&&this[b](c),this},lang:function(a){return a===b?this._lang:(this._lang=R(a),this)}});E.fn.millisecond=E.fn.milliseconds=ja("Milliseconds",!1);E.fn.second=E.fn.seconds=ja("Seconds",!1);E.fn.minute=E.fn.minutes=ja("Minutes",!1);E.fn.hour=E.fn.hours=ja("Hours",!0);E.fn.date=ja("Date",!0);E.fn.dates=g("dates accessor is deprecated. Use date instead.",ja("Date",!0));E.fn.year=
ja("FullYear",!0);E.fn.years=g("years accessor is deprecated. Use year instead.",ja("FullYear",!0));E.fn.days=E.fn.day;E.fn.months=E.fn.month;E.fn.weeks=E.fn.week;E.fn.isoWeeks=E.fn.isoWeek;E.fn.quarters=E.fn.quarter;E.fn.toJSON=E.fn.toISOString;m(E.duration.fn=p.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var c=this._months,d=this._data;d.milliseconds=a%1E3;a=r(a/1E3);d.seconds=a%60;a=r(a/60);d.minutes=a%60;a=r(a/60);d.hours=a%24;b+=r(a/24);d.days=b%30;c+=r(b/30);d.months=
c%12;b=r(c/12);d.years=b},weeks:function(){return r(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*q(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=ia(Math.abs(b)/1E3),h=ia(e/60),f=ia(h/60),m=ia(f/24),g=ia(m/365),e=e<cb.s&&["s",e]||1===h&&["m"]||h<cb.m&&["mm",h]||1===f&&["h"]||f<cb.h&&["hh",f]||1===m&&["d"]||m<=cb.dd&&["dd",m]||m<=cb.dm&&["M"]||m<cb.dy&&["MM",ia(m/30)]||1===g&&["y"]||["yy",g];c=(e[2]=c,
e[3]=0<b,e[4]=d,ha.apply({},e));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=E.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=E.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(b){return b=a(b),this[b.toLowerCase()+"s"]()},as:function(b){return b=a(b),this["as"+b.charAt(0).toUpperCase()+
b.slice(1)+"s"]()},lang:E.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),h=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||h?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(h?h+"S":""):"P0D"}});for(M in Nb)Nb.hasOwnProperty(M)&&(G(M,Nb[M]),aa(M.toLowerCase()));G("Weeks",6048E5);E.duration.fn.asMonths=
function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};E.lang("en",{ordinal:function(a){var b=a%10,b=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});Ha?module.exports=E:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&!0===c.config().noGlobal&&(va.moment=ma),E}),ka(!0)):ka()}).call(this);
(function(b){b.fn.unveil=function(l){function k(){r=m.filter(function(){var m=b(this);if(!m.is(":hidden")){var g=c.scrollTop(),k=g+e,p=f!==c?g-f.offset().top:0,p=m.offset().top+p;return p+m.height()>=g-n&&p<=k+n}}).trigger("unveil");m=m.not(r)}function g(b){var c;return function(){c&&clearTimeout(c);c=setTimeout(b,l.debounce||0)}}l=l||{};var c=b(window),f=l.container||c,n=l.threshold||0,e=c.height(),p=1<window.devicePixelRatio?"data-src-retina":"data-src",m=this,r;this.one("unveil",function(){if(!l.custom){var c=
b(this),e=c.attr(p);(e=e||c.attr("data-src"))&&c.attr("src",e).trigger("unveiled")}});f.on({"resize.unveil":g(function(){e=c.height();k()}),"scroll.unveil":g(k),"lookup.unveil":k});k();return this}})(window.jQuery||window.Zepto);
(function(){var b=this,l=b._,k={},g=Array.prototype,c=Object.prototype,f=g.push,n=g.slice,e=g.concat,p=c.toString,m=c.hasOwnProperty,r=g.forEach,s=g.map,v=g.reduce,u=g.reduceRight,A=g.filter,a=g.every,d=g.some,h=g.indexOf,q=g.lastIndexOf,c=Array.isArray,w=Object.keys,B=Function.prototype.bind,y=function(a){if(a instanceof y)return a;if(!(this instanceof y))return new y(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=y),exports._=
y):b._=y;y.VERSION="1.6.0";var P=y.each=y.forEach=function(a,b,c){if(null==a)return a;if(r&&a.forEach===r)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++){if(b.call(c,a[d],d,a)===k)return}else for(var h=y.keys(a),d=0,e=h.length;d<e;d++)if(b.call(c,a[h[d]],h[d],a)===k)return;return a};y.map=y.collect=function(a,b,c){var d=[];if(null==a)return d;if(s&&a.map===s)return a.map(b,c);P(a,function(a,e,h){d.push(b.call(c,a,e,h))});return d};y.reduce=y.foldl=y.inject=function(a,b,
c,d){var e=2<arguments.length;null==a&&(a=[]);if(v&&a.reduce===v)return d&&(b=y.bind(b,d)),e?a.reduce(b,c):a.reduce(b);P(a,function(a,h,f){e?c=b.call(d,c,a,h,f):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};y.reduceRight=y.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(u&&a.reduceRight===u)return d&&(b=y.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var h=a.length;if(h!==+h)var f=y.keys(a),h=f.length;P(a,function(m,g,k){g=f?
f[--h]:--h;e?c=b.call(d,c,a[g],g,k):(c=a[g],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};y.find=y.detect=function(a,b,c){var d;O(a,function(a,e,h){if(b.call(c,a,e,h))return d=a,!0});return d};y.filter=y.select=function(a,b,c){var d=[];if(null==a)return d;if(A&&a.filter===A)return a.filter(b,c);P(a,function(a,e,h){b.call(c,a,e,h)&&d.push(a)});return d};y.reject=function(a,b,c){return y.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)};y.every=y.all=
function(b,c,d){c||(c=y.identity);var e=!0;if(null==b)return e;if(a&&b.every===a)return b.every(c,d);P(b,function(a,b,h){if(!(e=e&&c.call(d,a,b,h)))return k});return!!e};var O=y.some=y.any=function(a,b,c){b||(b=y.identity);var e=!1;if(null==a)return e;if(d&&a.some===d)return a.some(b,c);P(a,function(a,d,h){if(e||(e=b.call(c,a,d,h)))return k});return!!e};y.contains=y.include=function(a,b){return null==a?!1:h&&a.indexOf===h?-1!=a.indexOf(b):O(a,function(a){return a===b})};y.invoke=function(a,b){var c=
n.call(arguments,2),d=y.isFunction(b);return y.map(a,function(a){return(d?b:a[b]).apply(a,c)})};y.pluck=function(a,b){return y.map(a,y.property(b))};y.where=function(a,b){return y.filter(a,y.matches(b))};y.findWhere=function(a,b){return y.find(a,y.matches(b))};y.max=function(a,b,c){if(!b&&y.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);var d=-Infinity,e=-Infinity;P(a,function(a,h,f){h=b?b.call(c,a,h,f):a;h>e&&(d=a,e=h)});return d};y.min=function(a,b,c){if(!b&&y.isArray(a)&&
a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);var d=Infinity,e=Infinity;P(a,function(a,h,f){h=b?b.call(c,a,h,f):a;h<e&&(d=a,e=h)});return d};y.shuffle=function(a){var b,c=0,d=[];P(a,function(a){b=y.random(c++);d[c-1]=d[b];d[b]=a});return d};y.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=y.values(a)),a[y.random(a.length-1)]):y.shuffle(a).slice(0,Math.max(0,b))};var W=function(a){return null==a?y.identity:y.isFunction(a)?a:y.property(a)};y.sortBy=function(a,b,c){b=
W(b);return y.pluck(y.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var ca=function(a){return function(b,c,d){var e={};c=W(c);P(b,function(h,f){var m=c.call(d,h,f,b);a(e,m,h)});return e}};y.groupBy=ca(function(a,b,c){y.has(a,b)?a[b].push(c):a[b]=[c]});y.indexBy=ca(function(a,b,c){a[b]=c});y.countBy=ca(function(a,b){y.has(a,
b)?a[b]++:a[b]=1});y.sortedIndex=function(a,b,c,d){c=W(c);b=c.call(d,b);for(var e=0,h=a.length;e<h;){var f=e+h>>>1;c.call(d,a[f])<b?e=f+1:h=f}return e};y.toArray=function(a){return a?y.isArray(a)?n.call(a):a.length===+a.length?y.map(a,y.identity):y.values(a):[]};y.size=function(a){return null==a?0:a.length===+a.length?a.length:y.keys(a).length};y.first=y.head=y.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:n.call(a,0,b)};y.initial=function(a,b,c){return n.call(a,0,a.length-(null==
b||c?1:b))};y.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:n.call(a,Math.max(a.length-b,0))};y.rest=y.tail=y.drop=function(a,b,c){return n.call(a,null==b||c?1:b)};y.compact=function(a){return y.filter(a,y.identity)};var R=function(a,b,c){if(b&&y.every(a,y.isArray))return e.apply(c,a);P(a,function(a){y.isArray(a)||y.isArguments(a)?b?f.apply(c,a):R(a,b,c):c.push(a)});return c};y.flatten=function(a,b){return R(a,b,[])};y.without=function(a){return y.difference(a,n.call(arguments,
1))};y.partition=function(a,b){var c=[],d=[];P(a,function(a){(b(a)?c:d).push(a)});return[c,d]};y.uniq=y.unique=function(a,b,c,d){y.isFunction(b)&&(d=c,c=b,b=!1);c=c?y.map(a,c,d):a;var e=[],h=[];P(c,function(c,d){(b?d&&h[h.length-1]===c:y.contains(h,c))||(h.push(c),e.push(a[d]))});return e};y.union=function(){return y.uniq(y.flatten(arguments,!0))};y.intersection=function(a){var b=n.call(arguments,1);return y.filter(y.uniq(a),function(a){return y.every(b,function(b){return y.contains(b,a)})})};y.difference=
function(a){var b=e.apply(g,n.call(arguments,1));return y.filter(a,function(a){return!y.contains(b,a)})};y.zip=function(){for(var a=y.max(y.pluck(arguments,"length").concat(0)),b=Array(a),c=0;c<a;c++)b[c]=y.pluck(arguments,""+c);return b};y.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};y.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else return d=y.sortedIndex(a,
b),a[d]===b?d:-1;if(h&&a.indexOf===h)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1};y.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(q&&a.lastIndexOf===q)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};y.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,h=Array(d);e<d;)h[e++]=a,a+=c;return h};var V=function(){};y.bind=function(a,b){var c,d;if(B&&
a.bind===B)return B.apply(a,n.call(arguments,1));if(!y.isFunction(a))throw new TypeError;c=n.call(arguments,2);return d=function(){if(!(this instanceof d))return a.apply(b,c.concat(n.call(arguments)));V.prototype=a.prototype;var e=new V;V.prototype=null;var h=a.apply(e,c.concat(n.call(arguments)));return Object(h)===h?h:e}};y.partial=function(a){var b=n.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,h=d.length;e<h;e++)d[e]===y&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);
return a.apply(this,d)}};y.bindAll=function(a){var b=n.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");P(b,function(b){a[b]=y.bind(a[b],a)});return a};y.memoize=function(a,b){var c={};b||(b=y.identity);return function(){var d=b.apply(this,arguments);return y.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};y.delay=function(a,b){var c=n.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};y.defer=function(a){return y.delay.apply(y,[a,1].concat(n.call(arguments,
1)))};y.throttle=function(a,b,c){var d,e,h,f=null,m=0;c||(c={});var g=function(){m=!1===c.leading?0:y.now();f=null;h=a.apply(d,e);d=e=null};return function(){var k=y.now();m||!1!==c.leading||(m=k);var p=b-(k-m);d=this;e=arguments;0>=p?(clearTimeout(f),f=null,m=k,h=a.apply(d,e),d=e=null):f||!1===c.trailing||(f=setTimeout(g,p));return h}};y.debounce=function(a,b,c){var d,e,h,f,m,g=function(){var k=y.now()-f;k<b?d=setTimeout(g,b-k):(d=null,c||(m=a.apply(h,e),h=e=null))};return function(){h=this;e=arguments;
f=y.now();var k=c&&!d;d||(d=setTimeout(g,b));k&&(m=a.apply(h,e),h=e=null);return m}};y.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};y.wrap=function(a,b){return y.partial(b,a)};y.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};y.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};y.keys=function(a){if(!y.isObject(a))return[];
if(w)return w(a);var b=[],c;for(c in a)y.has(a,c)&&b.push(c);return b};y.values=function(a){for(var b=y.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d};y.pairs=function(a){for(var b=y.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};y.invert=function(a){for(var b={},c=y.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};y.functions=y.methods=function(a){var b=[],c;for(c in a)y.isFunction(a[c])&&b.push(c);return b.sort()};y.extend=function(a){P(n.call(arguments,
1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};y.pick=function(a){var b={},c=e.apply(g,n.call(arguments,1));P(c,function(c){c in a&&(b[c]=a[c])});return b};y.omit=function(a){var b={},c=e.apply(g,n.call(arguments,1)),d;for(d in a)y.contains(c,d)||(b[d]=a[d]);return b};y.defaults=function(a){P(n.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])});return a};y.clone=function(a){return y.isObject(a)?y.isArray(a)?a.slice():y.extend({},a):a};y.tap=function(a,b){b(a);
return a};var Y=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof y&&(a=a._wrapped);b instanceof y&&(b=b._wrapped);var e=p.call(a);if(e!=p.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=
typeof a||"object"!=typeof b)return!1;for(var h=c.length;h--;)if(c[h]==a)return d[h]==b;var h=a.constructor,f=b.constructor;if(h!==f&&!(y.isFunction(h)&&h instanceof h&&y.isFunction(f)&&f instanceof f)&&"constructor"in a&&"constructor"in b)return!1;c.push(a);d.push(b);h=0;f=!0;if("[object Array]"==e){if(h=a.length,f=h==b.length)for(;h--&&(f=Y(a[h],b[h],c,d)););}else{for(var m in a)if(y.has(a,m)&&(h++,!(f=y.has(b,m)&&Y(a[m],b[m],c,d))))break;if(f){for(m in b)if(y.has(b,m)&&!h--)break;f=!h}}c.pop();
d.pop();return f};y.isEqual=function(a,b){return Y(a,b,[],[])};y.isEmpty=function(a){if(null==a)return!0;if(y.isArray(a)||y.isString(a))return 0===a.length;for(var b in a)if(y.has(a,b))return!1;return!0};y.isElement=function(a){return!(!a||1!==a.nodeType)};y.isArray=c||function(a){return"[object Array]"==p.call(a)};y.isObject=function(a){return a===Object(a)};P("Arguments Function String Number Date RegExp".split(" "),function(a){y["is"+a]=function(b){return p.call(b)=="[object "+a+"]"}});y.isArguments(arguments)||
(y.isArguments=function(a){return!(!a||!y.has(a,"callee"))});"function"!==typeof/./&&(y.isFunction=function(a){return"function"===typeof a});y.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};y.isNaN=function(a){return y.isNumber(a)&&a!=+a};y.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==p.call(a)};y.isNull=function(a){return null===a};y.isUndefined=function(a){return void 0===a};y.has=function(a,b){return m.call(a,b)};y.noConflict=function(){b._=l;return this};y.identity=
function(a){return a};y.constant=function(a){return function(){return a}};y.property=function(a){return function(b){return b[a]}};y.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}};y.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;e<a;e++)d[e]=b.call(c,e);return d};y.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};y.now=Date.now||function(){return(new Date).getTime()};var J={escape:{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};J.unescape=y.invert(J.escape);var U={escape:RegExp("["+y.keys(J.escape).join("")+"]","g"),unescape:RegExp("("+y.keys(J.unescape).join("|")+")","g")};y.each(["escape","unescape"],function(a){y[a]=function(b){return null==b?"":(""+b).replace(U[a],function(b){return J[a][b]})}});y.result=function(a,b){if(null!=a){var c=a[b];return y.isFunction(c)?c.call(a):c}};y.mixin=function(a){P(y.functions(a),function(b){var c=y[b]=a[b];y.prototype[b]=function(){var a=
[this._wrapped];f.apply(a,arguments);a=c.apply(y,a);return this._chain?y(a).chain():a}})};var H=0;y.uniqueId=function(a){var b=++H+"";return a?a+b:b};y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;y.template=function(a,b,c){var d;c=y.defaults({},c,y.templateSettings);var e=RegExp([(c.escape||x).source,(c.interpolate||
x).source,(c.evaluate||x).source].join("|")+"|$","g"),h=0,f="__p+='";a.replace(e,function(b,c,d,e,m){f+=a.slice(h,m).replace(K,function(a){return"\\"+D[a]});c&&(f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(f+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(f+="';\n"+e+"\n__p+='");h=m+b.length;return b});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{d=new Function(c.variable||
"obj","_",f)}catch(m){throw m.source=f,m;}if(b)return d(b,y);b=function(a){return d.call(this,a,y)};b.source="function("+(c.variable||"obj")+"){\n"+f+"}";return b};y.chain=function(a){return y(a).chain()};y.mixin(y);P("pop push reverse shift sort splice unshift".split(" "),function(a){var b=g[a];y.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!=a&&"splice"!=a||0!==c.length||delete c[0];return this._chain?y(c).chain():c}});P(["concat","join","slice"],function(a){var b=g[a];
y.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?y(a).chain():a}});y.extend(y.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}});"function"===typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this);
(function(b){b.color={};b.color.make=function(k,g,c,f){var n={};n.r=k||0;n.g=g||0;n.b=c||0;n.a=null!=f?f:1;n.add=function(b,c){for(var f=0;f<b.length;++f)n[b.charAt(f)]+=c;return n.normalize()};n.scale=function(b,c){for(var f=0;f<b.length;++f)n[b.charAt(f)]*=c;return n.normalize()};n.toString=function(){return 1<=n.a?"rgb("+[n.r,n.g,n.b].join()+")":"rgba("+[n.r,n.g,n.b,n.a].join()+")"};n.normalize=function(){function b(c,e,f){return e<c?c:e>f?f:e}n.r=b(0,parseInt(n.r),255);n.g=b(0,parseInt(n.g),255);
n.b=b(0,parseInt(n.b),255);n.a=b(0,n.a,1);return n};n.clone=function(){return b.color.make(n.r,n.b,n.g,n.a)};return n.normalize()};b.color.extract=function(k,g){var c;do{c=k.css(g).toLowerCase();if(""!=c&&"transparent"!=c)break;k=k.parent()}while(k.length&&!b.nodeName(k.get(0),"body"));"rgba(0, 0, 0, 0)"==c&&(c="transparent");return b.color.parse(c)};b.color.parse=function(k){var g,c=b.color.make;if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(k))return c(parseInt(g[1],
10),parseInt(g[2],10),parseInt(g[3],10));if(g=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(k))return c(parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10),parseFloat(g[4]));if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(k))return c(2.55*parseFloat(g[1]),2.55*parseFloat(g[2]),2.55*parseFloat(g[3]));if(g=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(k))return c(2.55*
parseFloat(g[1]),2.55*parseFloat(g[2]),2.55*parseFloat(g[3]),parseFloat(g[4]));if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(k))return c(parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16));if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(k))return c(parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16));k=b.trim(k).toLowerCase();if("transparent"==k)return c(255,255,255,0);g=l[k]||[0,0,0];return c(g[0],g[1],g[2])};var l={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(b){function l(c,f){var g=f.children("."+c)[0];if(null==g&&(g=document.createElement("canvas"),g.className=c,b(g).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(f),!g.getContext))if(window.G_vmlCanvasManager)g=window.G_vmlCanvasManager.initElement(g);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
g;g=this.context=g.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1);this.resize(f.width(),f.height());this.textContainer=null;this.text={};this._textCache={}}function k(c,f,g,e){function k(a,b){b=[Z].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function m(a){for(var c=[],d=0;d<a.length;++d){var e=b.extend(!0,{},C.series);null!=a[d].data?
(e.data=a[d].data,delete a[d].data,b.extend(!0,e,a[d]),a[d].data=e.data):e.data=a[d];c.push(e)}I=c;d=I.length;c=-1;for(a=0;a<I.length;++a)e=I[a].color,null!=e&&(d--,"number"==typeof e&&e>c&&(c=e));d<=c&&(d=c+1);var c=[],h=C.colors,f=h.length,m=0;for(a=0;a<d;a++)e=b.color.parse(h[a%f]||"#666"),0==a%f&&a&&(m=0<=m?0.5>m?-m-0.2:0:-m),c[a]=e.scale("rgb",1+m);for(a=d=0;a<I.length;++a){e=I[a];null==e.color?(e.color=c[d].toString(),++d):"number"==typeof e.color&&(e.color=c[e.color].toString());if(null==e.lines.show){var g,
h=!0;for(g in e)if(e[g]&&e[g].show){h=!1;break}h&&(e.lines.show=!0)}null==e.lines.zero&&(e.lines.zero=!!e.lines.fill);e.xaxis=u(E,r(e,"x"));e.yaxis=u(ma,r(e,"y"))}A()}function r(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function s(){return b.grep(E.concat(ma),function(a){return a})}function v(a){var b={},c,d;for(c=0;c<E.length;++c)(d=E[c])&&d.used&&(b["x"+d.n]=d.c2p(a.left));for(c=0;c<ma.length;++c)(d=ma[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==b.x1&&
(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function u(a,c){a[c-1]||(a[c-1]={n:c,direction:a==E?"x":"y",options:b.extend(!0,{},a==E?C.xaxis:C.yaxis)});return a[c-1]}function A(){function a(b,c,d){c<b.datamin&&c!=-e&&(b.datamin=c);d>b.datamax&&d!=e&&(b.datamax=d)}var c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=Number.MAX_VALUE,h,f,m,g,n,r,l,x,q,u,v,H;b.each(s(),function(a,b){b.datamin=c;b.datamax=d;b.used=!1});for(h=0;h<I.length;++h)n=I[h],n.datapoints={points:[]},k(oa.processRawData,
[n,n.data,n.datapoints]);for(h=0;h<I.length;++h){n=I[h];v=n.data;H=n.datapoints.format;if(!H){H=[];H.push({x:!0,number:!0,required:!0});H.push({y:!0,number:!0,required:!0});if(n.bars.show||n.lines.show&&n.lines.fill)H.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(n.bars.show&&n.bars.zero||n.lines.show&&n.lines.zero)}),n.bars.horizontal&&(delete H[H.length-1].y,H[H.length-1].x=!0);n.datapoints.format=H}if(null==n.datapoints.pointsize){n.datapoints.pointsize=H.length;l=n.datapoints.pointsize;
r=n.datapoints.points;var D=n.lines.show&&n.lines.steps;n.xaxis.used=n.yaxis.used=!0;for(f=m=0;f<v.length;++f,m+=l){u=v[f];var A=null==u;if(!A)for(g=0;g<l;++g){x=u[g];if(q=H[g])q.number&&null!=x&&(x=+x,isNaN(x)?x=null:Infinity==x?x=e:-Infinity==x&&(x=-e)),null==x&&(q.required&&(A=!0),null!=q.defaultValue&&(x=q.defaultValue));r[m+g]=x}if(A)for(g=0;g<l;++g)x=r[m+g],null!=x&&(q=H[g],!1!==q.autoscale&&(q.x&&a(n.xaxis,x,x),q.y&&a(n.yaxis,x,x))),r[m+g]=null;else if(D&&0<m&&null!=r[m-l]&&r[m-l]!=r[m]&&r[m-
l+1]!=r[m+1]){for(g=0;g<l;++g)r[m+l+g]=r[m+g];r[m+1]=r[m-l+1];m+=l}}}}for(h=0;h<I.length;++h)n=I[h],k(oa.processDatapoints,[n,n.datapoints]);for(h=0;h<I.length;++h){n=I[h];r=n.datapoints.points;l=n.datapoints.pointsize;H=n.datapoints.format;u=m=c;D=v=d;for(f=0;f<r.length;f+=l)if(null!=r[f])for(g=0;g<l;++g)x=r[f+g],(q=H[g])&&!1!==q.autoscale&&x!=e&&x!=-e&&(q.x&&(x<m&&(m=x),x>v&&(v=x)),q.y&&(x<u&&(u=x),x>D&&(D=x)));if(n.bars.show){switch(n.bars.align){case "left":f=0;break;case "right":f=-n.bars.barWidth;
break;default:f=-n.bars.barWidth/2}n.bars.horizontal?(u+=f,D+=f+n.bars.barWidth):(m+=f,v+=f+n.bars.barWidth)}a(n.xaxis,m,v);a(n.yaxis,u,D)}b.each(s(),function(a,b){b.datamin==c&&(b.datamin=null);b.datamax==d&&(b.datamax=null)})}function a(){sa&&clearTimeout(sa);aa.unbind("mousemove",H);aa.unbind("mouseleave",x);aa.unbind("click",D);k(oa.shutdown,[aa])}function d(a){function b(a){return a}var c,d,e=a.options.transform||b,h=a.options.inverseTransform;"x"==a.direction?(c=a.scale=va/Math.abs(e(a.max)-
e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=ia/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min)));a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c};a.c2p=h?function(a){return h(d+a/c)}:function(a){return d+a/c}}function h(a){var c=a.labelWidth,d=a.labelHeight,e=a.options.position,h="x"===a.direction,f=a.options.tickLength,m=C.grid.axisMargin,g=C.grid.labelMargin,k=!0,n=!0,p=!0,r=!1;b.each(h?E:ma,function(b,c){c&&(c.show||c.reserveSpace)&&(c===a?r=!0:c.options.position===
e&&(r?n=!1:k=!1),r||(p=!1))});n&&(m=0);null==f&&(f=p?"full":5);isNaN(+f)||(g+=+f);h?(d+=g,"bottom"==e?(M.bottom+=d+m,a.box={top:X.height-M.bottom,height:d}):(a.box={top:M.top+m,height:d},M.top+=d+m)):(c+=g,"left"==e?(a.box={left:M.left+m,width:c},M.left+=c+m):(M.right+=c+m,a.box={left:X.width-M.right,width:c}));a.position=e;a.tickLength=f;a.box.padding=g;a.innermost=k}function q(){var a=C.grid.minBorderMargin,c;if(null==a)for(c=a=0;c<I.length;++c)a=Math.max(a,2*(I[c].points.radius+I[c].points.lineWidth/
2));var d=a,e=a,h=a,f=a;b.each(s(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(d=Math.max(d,b.labelWidth/2),e=Math.max(e,b.labelWidth/2)):(f=Math.max(f,b.labelHeight/2),h=Math.max(h,b.labelHeight/2)))});M.left=Math.ceil(Math.max(d,M.left));M.right=Math.ceil(Math.max(e,M.right));M.top=Math.ceil(Math.max(h,M.top));M.bottom=Math.ceil(Math.max(f,M.bottom))}function w(){var a,c=s(),e=C.grid.show;for(a in M){var f=C.grid.margin||0;M[a]="number"==typeof f?f:f[a]||0}k(oa.processOffset,
[M]);for(a in M)M[a]="object"==typeof C.grid.borderWidth?M[a]+(e?C.grid.borderWidth[a]:0):M[a]+(e?C.grid.borderWidth:0);b.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show;b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace;var c=b.options,d=+(null!=c.min?c.min:b.datamin),e=+(null!=c.max?c.max:b.datamax),h=e-d;if(0==h){if(h=0==e?1:0.01,null==c.min&&(d-=h),null==c.max||null!=c.min)e+=h}else{var f=c.autoscaleMargin;null!=f&&(null==c.min&&(d-=h*f,0>d&&null!=b.datamin&&0<=b.datamin&&
(d=0)),null==c.max&&(e+=h*f,0<e&&null!=b.datamax&&0>=b.datamax&&(e=0)))}b.min=d;b.max=e});if(e){f=b.grep(c,function(a){return a.show||a.reserveSpace});b.each(f,function(a,c){B(c);var d=c.options.ticks,e=[];null==d||"number"==typeof d&&0<d?e=c.tickGenerator(c):d&&(e=b.isFunction(d)?d(c):d);var h;c.ticks=[];for(d=0;d<e.length;++d){var f=null,m=e[d];"object"==typeof m?(h=+m[0],1<m.length&&(f=m[1])):h=+m;null==f&&(f=c.tickFormatter(h,c));isNaN(h)||c.ticks.push({v:h,label:f})}e=c.ticks;c.options.autoscaleMargin&&
0<e.length&&(null==c.options.min&&(c.min=Math.min(c.min,e[0].v)),null==c.options.max&&1<e.length&&(c.max=Math.max(c.max,e[e.length-1].v)));e=c.options;d=c.ticks||[];h=e.labelWidth||0;for(var f=e.labelHeight||0,m=h||("x"==c.direction?Math.floor(X.width/(d.length||1)):null),g="flot-"+c.direction+"-axis flot-"+c.direction+c.n+"-axis "+(c.direction+"Axis "+c.direction+c.n+"Axis"),k=e.font||"flot-tick-label tickLabel",n=0;n<d.length;++n){var p=d[n];p.label&&(p=X.getTextInfo(g,p.label,k,null,m),h=Math.max(h,
p.width),f=Math.max(f,p.height))}c.labelWidth=e.labelWidth||h;c.labelHeight=e.labelHeight||f});for(a=f.length-1;0<=a;--a)h(f[a]);q();b.each(f,function(a,b){"x"==b.direction?(b.box.left=M.left-b.labelWidth/2,b.box.width=X.width-M.left-M.right+b.labelWidth):(b.box.top=M.top-b.labelHeight/2,b.box.height=X.height-M.bottom-M.top+b.labelHeight)})}va=X.width-M.left-M.right;ia=X.height-M.bottom-M.top;b.each(c,function(a,b){d(b)});e&&W();U()}function B(a){var c=a.options,d;d="number"==typeof c.ticks&&0<c.ticks?
c.ticks:0.3*Math.sqrt("x"==a.direction?X.width:X.height);d=(a.max-a.min)/d;var e=-Math.floor(Math.log(d)/Math.LN10),h=c.tickDecimals;null!=h&&e>h&&(e=h);var f=Math.pow(10,-e),m=d/f,g;1.5>m?g=1:3>m?(g=2,2.25<m&&(null==h||e+1<=h)&&(g=2.5,++e)):g=7.5>m?5:10;g*=f;null!=c.minTickSize&&g<c.minTickSize&&(g=c.minTickSize);a.delta=d;a.tickDecimals=Math.max(0,null!=h?h:e);a.tickSize=c.tickSize||g;if("time"==c.mode&&!a.tickGenerator)throw Error("Time mode requires the flot.time plugin.");a.tickGenerator||(a.tickGenerator=
function(a){var b=[],c=a.tickSize*Math.floor(a.min/a.tickSize),d=0,e=Number.NaN,h;do h=e,e=c+d*a.tickSize,b.push(e),++d;while(e<a.max&&e!=h);return b},a.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),e=-1==e?0:d.length-e-1;if(e<b.tickDecimals)return(e?d:d+".")+(""+c).substr(1,b.tickDecimals-e)}return d});b.isFunction(c.tickFormatter)&&(a.tickFormatter=function(a,b){return""+c.tickFormatter(a,b)});
if(null!=c.alignTicksWithAxis){var k=("x"==a.direction?E:ma)[c.alignTicksWithAxis-1];k&&k.used&&k!=a&&(d=a.tickGenerator(a),0<d.length&&(null==c.min&&(a.min=Math.min(a.min,d[0])),null==c.max&&1<d.length&&(a.max=Math.max(a.max,d[d.length-1]))),a.tickGenerator=function(a){var b=[],c,d;for(d=0;d<k.ticks.length;++d)c=(k.ticks[d].v-k.min)/(k.max-k.min),c=a.min+c*(a.max-a.min),b.push(c);return b},a.mode||null!=c.tickDecimals||(d=Math.max(0,-Math.floor(Math.log(a.delta)/Math.LN10)+1),e=a.tickGenerator(a),
1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(d))||(a.tickDecimals=d)))}}function y(){X.clear();k(oa.drawBackground,[G]);var a=C.grid;a.show&&a.backgroundColor&&(G.save(),G.translate(M.left,M.top),G.fillStyle=qa(C.grid.backgroundColor,ia,0,"rgba(255, 255, 255, 0)"),G.fillRect(0,0,va,ia),G.restore());a.show&&!a.aboveData&&O();for(var b=0;b<I.length;++b){k(oa.drawSeries,[G,I[b]]);var c=I[b];c.lines.show&&ca(c);c.bars.show&&Y(c);c.points.show&&R(c)}k(oa.draw,[G]);a.show&&a.aboveData&&O();X.render();
F()}function P(a,b){for(var c,d,e,h,f=s(),m=0;m<f.length;++m)if(c=f[m],c.direction==b&&(h=b+c.n+"axis",a[h]||1!=c.n||(h=b+"axis"),a[h])){d=a[h].from;e=a[h].to;break}a[h]||(c="x"==b?E[0]:ma[0],d=a[b+"1"],e=a[b+"2"]);null!=d&&null!=e&&d>e&&(h=d,d=e,e=h);return{from:d,to:e,axis:c}}function O(){var a,c,d;G.save();G.translate(M.left,M.top);if(d=C.grid.markings)for(b.isFunction(d)&&(c=Z.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,d=d(c)),a=0;a<d.length;++a){c=d[a];
var e=P(c,"x"),h=P(c,"y");null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);null==h.from&&(h.from=h.axis.min);null==h.to&&(h.to=h.axis.max);if(!(e.to<e.axis.min||e.from>e.axis.max||h.to<h.axis.min||h.from>h.axis.max)){e.from=Math.max(e.from,e.axis.min);e.to=Math.min(e.to,e.axis.max);h.from=Math.max(h.from,h.axis.min);h.to=Math.min(h.to,h.axis.max);var f=e.from===e.to,m=h.from===h.to;if(!f||!m)if(e.from=Math.floor(e.axis.p2c(e.from)),e.to=Math.floor(e.axis.p2c(e.to)),h.from=Math.floor(h.axis.p2c(h.from)),
h.to=Math.floor(h.axis.p2c(h.to)),f||m){var m=c.lineWidth||C.grid.markingsLineWidth,g=m%2?0.5:0;G.beginPath();G.strokeStyle=c.color||C.grid.markingsColor;G.lineWidth=m;f?(G.moveTo(e.to+g,h.from),G.lineTo(e.to+g,h.to)):(G.moveTo(e.from,h.to+g),G.lineTo(e.to,h.to+g));G.stroke()}else G.fillStyle=c.color||C.grid.markingsColor,G.fillRect(e.from,h.to,e.to-e.from,h.from-h.to)}}c=s();d=C.grid.borderWidth;for(e=0;e<c.length;++e){h=c[e];a=h.box;var f=h.tickLength,k,n;if(h.show&&0!=h.ticks.length){G.lineWidth=
1;"x"==h.direction?(m=0,g="full"==f?"top"==h.position?0:ia:a.top-M.top+("top"==h.position?a.height:0)):(g=0,m="full"==f?"left"==h.position?0:va:a.left-M.left+("left"==h.position?a.width:0));h.innermost||(G.strokeStyle=h.options.color,G.beginPath(),k=n=0,"x"==h.direction?k=va+1:n=ia+1,1==G.lineWidth&&("x"==h.direction?g=Math.floor(g)+0.5:m=Math.floor(m)+0.5),G.moveTo(m,g),G.lineTo(m+k,g+n),G.stroke());G.strokeStyle=h.options.tickColor;G.beginPath();for(a=0;a<h.ticks.length;++a){var p=h.ticks[a].v;
k=n=0;isNaN(p)||p<h.min||p>h.max||"full"==f&&("object"==typeof d&&0<d[h.position]||0<d)&&(p==h.min||p==h.max)||("x"==h.direction?(m=h.p2c(p),n="full"==f?-ia:f,"top"==h.position&&(n=-n)):(g=h.p2c(p),k="full"==f?-va:f,"left"==h.position&&(k=-k)),1==G.lineWidth&&("x"==h.direction?m=Math.floor(m)+0.5:g=Math.floor(g)+0.5),G.moveTo(m,g),G.lineTo(m+k,g+n))}G.stroke()}}d&&(a=C.grid.borderColor,"object"==typeof d||"object"==typeof a?("object"!==typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!==typeof a&&
(a={top:a,right:a,bottom:a,left:a}),0<d.top&&(G.strokeStyle=a.top,G.lineWidth=d.top,G.beginPath(),G.moveTo(0-d.left,0-d.top/2),G.lineTo(va,0-d.top/2),G.stroke()),0<d.right&&(G.strokeStyle=a.right,G.lineWidth=d.right,G.beginPath(),G.moveTo(va+d.right/2,0-d.top),G.lineTo(va+d.right/2,ia),G.stroke()),0<d.bottom&&(G.strokeStyle=a.bottom,G.lineWidth=d.bottom,G.beginPath(),G.moveTo(va+d.right,ia+d.bottom/2),G.lineTo(0,ia+d.bottom/2),G.stroke()),0<d.left&&(G.strokeStyle=a.left,G.lineWidth=d.left,G.beginPath(),
G.moveTo(0-d.left/2,ia+d.bottom),G.lineTo(0-d.left/2,0),G.stroke())):(G.lineWidth=d,G.strokeStyle=C.grid.borderColor,G.strokeRect(-d/2,-d/2,va+d,ia+d)));G.restore()}function W(){b.each(s(),function(a,b){var c=b.box,d="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),e=b.options.font||"flot-tick-label tickLabel",h,f,m,g,k;X.removeText(d);if(b.show&&0!=b.ticks.length)for(var n=0;n<b.ticks.length;++n)h=b.ticks[n],!h.label||h.v<b.min||h.v>b.max||("x"==
b.direction?(g="center",f=M.left+b.p2c(h.v),"bottom"==b.position?m=c.top+c.padding:(m=c.top+c.height-c.padding,k="bottom")):(k="middle",m=M.top+b.p2c(h.v),"left"==b.position?(f=c.left+c.width-c.padding,g="right"):f=c.left+c.padding),X.addText(d,f,m,h.label,e,null,null,g,k))})}function ca(a){function b(a,c,d,e,h){var f=a.points;a=a.pointsize;var m=null,g=null;G.beginPath();for(var k=a;k<f.length;k+=a){var n=f[k-a],p=f[k-a+1],r=f[k],l=f[k+1];if(null!=n&&null!=r){if(p<=l&&p<h.min){if(l<h.min)continue;
n=(h.min-p)/(l-p)*(r-n)+n;p=h.min}else if(l<=p&&l<h.min){if(p<h.min)continue;r=(h.min-p)/(l-p)*(r-n)+n;l=h.min}if(p>=l&&p>h.max){if(l>h.max)continue;n=(h.max-p)/(l-p)*(r-n)+n;p=h.max}else if(l>=p&&l>h.max){if(p>h.max)continue;r=(h.max-p)/(l-p)*(r-n)+n;l=h.max}if(n<=r&&n<e.min){if(r<e.min)continue;p=(e.min-n)/(r-n)*(l-p)+p;n=e.min}else if(r<=n&&r<e.min){if(n<e.min)continue;l=(e.min-n)/(r-n)*(l-p)+p;r=e.min}if(n>=r&&n>e.max){if(r>e.max)continue;p=(e.max-n)/(r-n)*(l-p)+p;n=e.max}else if(r>=n&&r>e.max){if(n>
e.max)continue;l=(e.max-n)/(r-n)*(l-p)+p;r=e.max}n==m&&p==g||G.moveTo(e.p2c(n)+c,h.p2c(p)+d);m=r;g=l;G.lineTo(e.p2c(r)+c,h.p2c(l)+d)}}G.stroke()}function c(a,b,d){var e=a.points;a=a.pointsize;for(var h=Math.min(Math.max(0,d.min),d.max),f=0,m=!1,g=1,k=0,n=0;!(0<a&&f>e.length+a);){var f=f+a,p=e[f-a],r=e[f-a+g],l=e[f],x=e[f+g];if(m){if(0<a&&null!=p&&null==l){n=f;a=-a;g=2;continue}if(0>a&&f==k+a){G.fill();m=!1;a=-a;g=1;f=k=n+a;continue}}if(null!=p&&null!=l){if(p<=l&&p<b.min){if(l<b.min)continue;r=(b.min-
p)/(l-p)*(x-r)+r;p=b.min}else if(l<=p&&l<b.min){if(p<b.min)continue;x=(b.min-p)/(l-p)*(x-r)+r;l=b.min}if(p>=l&&p>b.max){if(l>b.max)continue;r=(b.max-p)/(l-p)*(x-r)+r;p=b.max}else if(l>=p&&l>b.max){if(p>b.max)continue;x=(b.max-p)/(l-p)*(x-r)+r;l=b.max}m||(G.beginPath(),G.moveTo(b.p2c(p),d.p2c(h)),m=!0);if(r>=d.max&&x>=d.max)G.lineTo(b.p2c(p),d.p2c(d.max)),G.lineTo(b.p2c(l),d.p2c(d.max));else if(r<=d.min&&x<=d.min)G.lineTo(b.p2c(p),d.p2c(d.min)),G.lineTo(b.p2c(l),d.p2c(d.min));else{var s=p,q=l;r<=x&&
r<d.min&&x>=d.min?(p=(d.min-r)/(x-r)*(l-p)+p,r=d.min):x<=r&&x<d.min&&r>=d.min&&(l=(d.min-r)/(x-r)*(l-p)+p,x=d.min);r>=x&&r>d.max&&x<=d.max?(p=(d.max-r)/(x-r)*(l-p)+p,r=d.max):x>=r&&x>d.max&&r<=d.max&&(l=(d.max-r)/(x-r)*(l-p)+p,x=d.max);p!=s&&G.lineTo(b.p2c(s),d.p2c(r));G.lineTo(b.p2c(p),d.p2c(r));G.lineTo(b.p2c(l),d.p2c(x));l!=q&&(G.lineTo(b.p2c(l),d.p2c(x)),G.lineTo(b.p2c(q),d.p2c(x)))}}}}G.save();G.translate(M.left,M.top);G.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(0<d&&0<e){G.lineWidth=
e;G.strokeStyle="rgba(0,0,0,0.1)";var h=Math.PI/18;b(a.datapoints,Math.sin(h)*(d/2+e/2),Math.cos(h)*(d/2+e/2),a.xaxis,a.yaxis);G.lineWidth=e/2;b(a.datapoints,Math.sin(h)*(d/2+e/4),Math.cos(h)*(d/2+e/4),a.xaxis,a.yaxis)}G.lineWidth=d;G.strokeStyle=a.color;if(e=J(a.lines,a.color,0,ia))G.fillStyle=e,c(a.datapoints,a.xaxis,a.yaxis);0<d&&b(a.datapoints,0,0,a.xaxis,a.yaxis);G.restore()}function R(a){function b(a,c,d,e,h,f,m,g){var k=a.points;a=a.pointsize;for(var p=0;p<k.length;p+=a){var n=k[p],r=k[p+1];
null==n||n<f.min||n>f.max||r<m.min||r>m.max||(G.beginPath(),n=f.p2c(n),r=m.p2c(r)+e,"circle"==g?G.arc(n,r,c,0,h?Math.PI:2*Math.PI,!1):g(G,n,r,c,h),G.closePath(),d&&(G.fillStyle=d,G.fill()),G.stroke())}}G.save();G.translate(M.left,M.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,h=a.points.symbol;0==c&&(c=1E-4);0<c&&0<d&&(d/=2,G.lineWidth=d,G.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,d+d/2,!0,a.xaxis,a.yaxis,h),G.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,d/2,!0,
a.xaxis,a.yaxis,h));G.lineWidth=c;G.strokeStyle=a.color;b(a.datapoints,e,J(a.points,a.color),0,!1,a.xaxis,a.yaxis,h);G.restore()}function V(a,b,c,d,e,h,f,m,g,k,p){var n,r,l,x;k?(x=r=l=!0,n=!1,k=c,c=b+d,e=b+e,a<k&&(b=a,a=k,k=b,n=!0,r=!1)):(n=r=l=!0,x=!1,k=a+d,a+=e,e=c,c=b,c<e&&(b=c,c=e,e=b,x=!0,l=!1));a<f.min||k>f.max||c<m.min||e>m.max||(k<f.min&&(k=f.min,n=!1),a>f.max&&(a=f.max,r=!1),e<m.min&&(e=m.min,x=!1),c>m.max&&(c=m.max,l=!1),k=f.p2c(k),e=m.p2c(e),a=f.p2c(a),c=m.p2c(c),h&&(g.fillStyle=h(e,c),
g.fillRect(k,c,a-k,e-c)),0<p&&(n||r||l||x)&&(g.beginPath(),g.moveTo(k,e),n?g.lineTo(k,c):g.moveTo(k,c),l?g.lineTo(a,c):g.moveTo(a,c),r?g.lineTo(a,e):g.moveTo(a,e),x?g.lineTo(k,e):g.moveTo(k,e),g.stroke()))}function Y(a){G.save();G.translate(M.left,M.top);G.lineWidth=a.bars.lineWidth;G.strokeStyle=a.color;var b;switch(a.bars.align){case "left":b=0;break;case "right":b=-a.bars.barWidth;break;default:b=-a.bars.barWidth/2}(function(b,c,d,e,h,f){var m=b.points;b=b.pointsize;for(var g=0;g<m.length;g+=b)null!=
m[g]&&V(m[g],m[g+1],m[g+2],c,d,e,h,f,G,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,b,b+a.bars.barWidth,a.bars.fill?function(b,c){return J(a.bars,a.color,b,c)}:null,a.xaxis,a.yaxis);G.restore()}function J(a,c,d,e){var h=a.fill;if(!h)return null;if(a.fillColor)return qa(a.fillColor,d,e,c);a=b.color.parse(c);a.a="number"==typeof h?h:0.4;a.normalize();return a.toString()}function U(){null!=C.legend.container?b(C.legend.container).html(""):c.find(".legend").remove();if(C.legend.show){for(var a=
[],d=[],e=!1,h=C.legend.labelFormatter,f,m,g=0;g<I.length;++g)f=I[g],f.label&&(m=h?h(f.label,f):f.label)&&d.push({label:m,color:f.color});if(C.legend.sorted)if(b.isFunction(C.legend.sorted))d.sort(C.legend.sorted);else if("reverse"==C.legend.sorted)d.reverse();else{var k="descending"!=C.legend.sorted;d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=k?1:-1})}for(g=0;g<d.length;++g)h=d[g],0==g%C.legend.noColumns&&(e&&a.push("</tr>"),a.push("<tr>"),e=!0),a.push('<td class="legendColorBox"><div style="border:1px solid '+
C.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>");e&&a.push("</tr>");0!=a.length&&(d='<table style="font-size:smaller;color:'+C.grid.color+'">'+a.join("")+"</table>",null!=C.legend.container?b(C.legend.container).html(d):(a="",e=C.legend.position,g=C.legend.margin,null==g[0]&&(g=[g,g]),"n"==e.charAt(0)?a+="top:"+(g[1]+M.top)+"px;":"s"==e.charAt(0)&&(a+="bottom:"+(g[1]+
M.bottom)+"px;"),"e"==e.charAt(1)?a+="right:"+(g[0]+M.right)+"px;":"w"==e.charAt(1)&&(a+="left:"+(g[0]+M.left)+"px;"),d=b('<div class="legend">'+d.replace('style="','style="position:absolute;'+a+";")+"</div>").appendTo(c),0!=C.legend.backgroundOpacity&&(e=C.legend.backgroundColor,null==e&&(e=(e=C.grid.backgroundColor)&&"string"==typeof e?b.color.parse(e):b.color.extract(d,"background-color"),e.a=1,e=e.toString()),g=d.children(),b('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+
"px;"+a+"background-color:"+e+';"> </div>').prependTo(d).css("opacity",C.legend.backgroundOpacity))))}}function H(a){C.grid.hoverable&&K("plothover",a,function(a){return!1!=a.hoverable})}function x(a){C.grid.hoverable&&K("plothover",a,function(a){return!1})}function D(a){K("plotclick",a,function(a){return!1!=a.clickable})}function K(a,b,d){var e=aa.offset(),h=b.pageX-e.left-M.left,f=b.pageY-e.top-M.top,m=v({left:h,top:f});m.pageX=b.pageX;m.pageY=b.pageY;b=C.grid.mouseActiveRadius;var g=b*b+1,k=null,
p,n,r;for(p=I.length-1;0<=p;--p)if(d(I[p])){var l=I[p],x=l.xaxis,s=l.yaxis,q=l.datapoints.points,u=x.c2p(h),H=s.c2p(f),D=b/x.scale,A=b/s.scale;r=l.datapoints.pointsize;x.options.inverseTransform&&(D=Number.MAX_VALUE);s.options.inverseTransform&&(A=Number.MAX_VALUE);if(l.lines.show||l.points.show)for(n=0;n<q.length;n+=r){var w=q[n],y=q[n+1];null==w||w-u>D||w-u<-D||y-H>A||y-H<-A||(w=Math.abs(x.p2c(w)-h),y=Math.abs(s.p2c(y)-f),y=w*w+y*y,y<g&&(g=y,k=[p,n/r]))}if(l.bars.show&&!k){switch(l.bars.align){case "left":x=
0;break;case "right":x=-l.bars.barWidth;break;default:x=-l.bars.barWidth/2}l=x+l.bars.barWidth;for(n=0;n<q.length;n+=r)w=q[n],y=q[n+1],s=q[n+2],null!=w&&(I[p].bars.horizontal?u<=Math.max(s,w)&&u>=Math.min(s,w)&&H>=y+x&&H<=y+l:u>=w+x&&u<=w+l&&H>=Math.min(s,y)&&H<=Math.max(s,y))&&(k=[p,n/r])}}k?(p=k[0],n=k[1],r=I[p].datapoints.pointsize,d={datapoint:I[p].datapoints.points.slice(n*r,(n+1)*r),dataIndex:n,series:I[p],seriesIndex:p}):d=null;d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+e.left+
M.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+e.top+M.top,10));if(C.grid.autoHighlight){for(e=0;e<ra.length;++e)h=ra[e],h.auto!=a||d&&h.series==d.series&&h.point[0]==d.datapoint[0]&&h.point[1]==d.datapoint[1]||ha(h.series,h.point);d&&Q(d.series,d.datapoint,a)}c.trigger(a,[m,d])}function F(){var a=C.interaction.redrawOverlayInterval;-1==a?L():sa||(sa=setTimeout(L,a))}function L(){sa=null;ka.save();ja.clear();ka.translate(M.left,M.top);var a,c;for(a=0;a<ra.length;++a)if(c=ra[a],c.series.bars.show)ua(c.series,
c.point);else{var d=c.series,e=c.point;c=e[0];var e=e[1],h=d.xaxis,f=d.yaxis,m="string"===typeof d.highlightColor?d.highlightColor:b.color.parse(d.color).scale("a",0.5).toString();if(!(c<h.min||c>h.max||e<f.min||e>f.max)){var g=d.points.radius+d.points.lineWidth/2;ka.lineWidth=g;ka.strokeStyle=m;m=1.5*g;c=h.p2c(c);e=f.p2c(e);ka.beginPath();"circle"==d.points.symbol?ka.arc(c,e,m,0,2*Math.PI,!1):d.points.symbol(ka,c,e,m,!1);ka.closePath();ka.stroke()}}ka.restore();k(oa.drawOverlay,[ka])}function Q(a,
b,c){"number"==typeof a&&(a=I[a]);if("number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}d=na(a,b);-1==d?(ra.push({series:a,point:b,auto:c}),F()):c||(ra[d].auto=!1)}function ha(a,b){if(null==a&&null==b)ra=[],F();else{"number"==typeof a&&(a=I[a]);if("number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}c=na(a,b);-1!=c&&(ra.splice(c,1),F())}}function na(a,b){for(var c=0;c<ra.length;++c){var d=ra[c];if(d.series==a&&d.point[0]==
b[0]&&d.point[1]==b[1])return c}return-1}function ua(a,c){var d="string"===typeof a.highlightColor?a.highlightColor:b.color.parse(a.color).scale("a",0.5).toString(),e;switch(a.bars.align){case "left":e=0;break;case "right":e=-a.bars.barWidth;break;default:e=-a.bars.barWidth/2}ka.lineWidth=a.bars.lineWidth;ka.strokeStyle=d;V(c[0],c[1],c[2]||0,e,e+a.bars.barWidth,function(){return d},a.xaxis,a.yaxis,ka,a.bars.horizontal,a.bars.lineWidth)}function qa(a,c,d,e){if("string"==typeof a)return a;c=G.createLinearGradient(0,
d,0,c);d=0;for(var h=a.colors.length;d<h;++d){var f=a.colors[d];if("string"!=typeof f){var m=b.color.parse(e);null!=f.brightness&&(m=m.scale("rgb",f.brightness));null!=f.opacity&&(m.a*=f.opacity);f=m.toString()}c.addColorStop(d/(h-1),f)}return c}var I=[],C={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,
position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,
steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},X=null,ja=null,aa=
null,G=null,ka=null,E=[],ma=[],M={left:0,right:0,top:0,bottom:0},va=0,ia=0,oa={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},Z=this;Z.setData=m;Z.setupGrid=w;Z.draw=y;Z.getPlaceholder=function(){return c};Z.getCanvas=function(){return X.element};Z.getPlotOffset=function(){return M};Z.width=function(){return va};Z.height=function(){return ia};Z.offset=function(){var a=aa.offset();a.left+=M.left;
a.top+=M.top;return a};Z.getData=function(){return I};Z.getAxes=function(){var a={};b.each(E.concat(ma),function(b,c){c&&(a[c.direction+(1!=c.n?c.n:"")+"axis"]=c)});return a};Z.getXAxes=function(){return E};Z.getYAxes=function(){return ma};Z.c2p=v;Z.p2c=function(a){var b={},c,d,e;for(c=0;c<E.length;++c)if((d=E[c])&&d.used&&(e="x"+d.n,null==a[e]&&1==d.n&&(e="x"),null!=a[e])){b.left=d.p2c(a[e]);break}for(c=0;c<ma.length;++c)if((d=ma[c])&&d.used&&(e="y"+d.n,null==a[e]&&1==d.n&&(e="y"),null!=a[e])){b.top=
d.p2c(a[e]);break}return b};Z.getOptions=function(){return C};Z.highlight=Q;Z.unhighlight=ha;Z.triggerRedrawOverlay=F;Z.pointOffset=function(a){return{left:parseInt(E[r(a,"x")-1].p2c(+a.x)+M.left,10),top:parseInt(ma[r(a,"y")-1].p2c(+a.y)+M.top,10)}};Z.shutdown=a;Z.destroy=function(){a();c.removeData("plot").empty();I=[];ka=G=aa=ja=X=C=null;E=[];ma=[];oa=null;ra=[];Z=null};Z.resize=function(){var a=c.width(),b=c.height();X.resize(a,b);ja.resize(a,b)};Z.hooks=oa;(function(){for(var a={Canvas:l},c=0;c<
e.length;++c){var d=e[c];d.init(Z,a);d.options&&b.extend(!0,C,d.options)}})(Z);(function(a){b.extend(!0,C,a);a&&a.colors&&(C.colors=a.colors);null==C.xaxis.color&&(C.xaxis.color=b.color.parse(C.grid.color).scale("a",0.22).toString());null==C.yaxis.color&&(C.yaxis.color=b.color.parse(C.grid.color).scale("a",0.22).toString());null==C.xaxis.tickColor&&(C.xaxis.tickColor=C.grid.tickColor||C.xaxis.color);null==C.yaxis.tickColor&&(C.yaxis.tickColor=C.grid.tickColor||C.yaxis.color);null==C.grid.borderColor&&
(C.grid.borderColor=C.grid.color);null==C.grid.tickColor&&(C.grid.tickColor=b.color.parse(C.grid.color).scale("a",0.22).toString());var d,e;a=(a=c.css("font-size"))?+a.replace("px",""):13;var h={style:c.css("font-style"),size:Math.round(0.8*a),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};e=C.xaxes.length||1;for(a=0;a<e;++a)(d=C.xaxes[a])&&!d.tickColor&&(d.tickColor=d.color),d=b.extend(!0,{},C.xaxis,d),C.xaxes[a]=d,d.font&&(d.font=b.extend({},h,d.font),d.font.color||
(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));e=C.yaxes.length||1;for(a=0;a<e;++a)(d=C.yaxes[a])&&!d.tickColor&&(d.tickColor=d.color),d=b.extend(!0,{},C.yaxis,d),C.yaxes[a]=d,d.font&&(d.font=b.extend({},h,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));C.xaxis.noTicks&&null==C.xaxis.ticks&&(C.xaxis.ticks=C.xaxis.noTicks);C.yaxis.noTicks&&null==C.yaxis.ticks&&(C.yaxis.ticks=C.yaxis.noTicks);
C.x2axis&&(C.xaxes[1]=b.extend(!0,{},C.xaxis,C.x2axis),C.xaxes[1].position="top",null==C.x2axis.min&&(C.xaxes[1].min=null),null==C.x2axis.max&&(C.xaxes[1].max=null));C.y2axis&&(C.yaxes[1]=b.extend(!0,{},C.yaxis,C.y2axis),C.yaxes[1].position="right",null==C.y2axis.min&&(C.yaxes[1].min=null),null==C.y2axis.max&&(C.yaxes[1].max=null));C.grid.coloredAreas&&(C.grid.markings=C.grid.coloredAreas);C.grid.coloredAreasColor&&(C.grid.markingsColor=C.grid.coloredAreasColor);C.lines&&b.extend(!0,C.series.lines,
C.lines);C.points&&b.extend(!0,C.series.points,C.points);C.bars&&b.extend(!0,C.series.bars,C.bars);null!=C.shadowSize&&(C.series.shadowSize=C.shadowSize);null!=C.highlightColor&&(C.series.highlightColor=C.highlightColor);for(a=0;a<C.xaxes.length;++a)u(E,a+1).options=C.xaxes[a];for(a=0;a<C.yaxes.length;++a)u(ma,a+1).options=C.yaxes[a];for(var f in oa)C.hooks[f]&&C.hooks[f].length&&(oa[f]=oa[f].concat(C.hooks[f]));k(oa.processOptions,[C])})(g);(function(){c.css("padding",0).children().filter(function(){return!b(this).hasClass("flot-overlay")&&
!b(this).hasClass("flot-base")}).remove();"static"==c.css("position")&&c.css("position","relative");X=new l("flot-base",c);ja=new l("flot-overlay",c);G=X.context;ka=ja.context;aa=b(ja.element).unbind();var a=c.data("plot");a&&(a.shutdown(),ja.clear());c.data("plot",Z)})();m(f);w();y();C.grid.hoverable&&(aa.mousemove(H),aa.bind("mouseleave",x));C.grid.clickable&&aa.click(D);k(oa.bindEvents,[aa]);var ra=[],sa=null}var g=Object.prototype.hasOwnProperty;b.fn.detach||(b.fn.detach=function(){return this.each(function(){this.parentNode&&
this.parentNode.removeChild(this)})});l.prototype.resize=function(b,f){if(0>=b||0>=f)throw Error("Invalid dimensions for plot, width = "+b+", height = "+f);var g=this.element,e=this.context,k=this.pixelRatio;this.width!=b&&(g.width=b*k,g.style.width=b+"px",this.width=b);this.height!=f&&(g.height=f*k,g.style.height=f+"px",this.height=f);e.restore();e.save();e.scale(k,k)};l.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};l.prototype.render=function(){var b=this._textCache,
f;for(f in b)if(g.call(b,f)){var k=this.getTextLayer(f),e=b[f];k.hide();for(var p in e)if(g.call(e,p)){var m=e[p],r;for(r in m)if(g.call(m,r)){for(var l=m[r].positions,v=0,u;u=l[v];v++)u.active?u.rendered||(k.append(u.element),u.rendered=!0):(l.splice(v--,1),u.rendered&&u.element.detach());0==l.length&&delete m[r]}}k.show()}};l.prototype.getTextLayer=function(c){var f=this.text[c];null==f&&(null==this.textContainer&&(this.textContainer=b("<div class='flot-text'></div>").css({position:"absolute",top:0,
left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),f=this.text[c]=b("<div></div>").addClass(c).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return f};l.prototype.getTextInfo=function(c,f,g,e,k){var m,r;f=""+f;e="object"===typeof g?g.style+" "+g.variant+" "+g.weight+" "+g.size+"px/"+g.lineHeight+"px "+g.family:g;m=this._textCache[c];null==m&&(m=this._textCache[c]={});r=m[e];null==r&&(r=m[e]={});m=r[f];null==m&&(c=b("<div></div>").html(f).css({position:"absolute",
"max-width":k,top:-9999}).appendTo(this.getTextLayer(c)),"object"===typeof g?c.css({font:e,color:g.color}):"string"===typeof g&&c.addClass(g),m=r[f]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach());return m};l.prototype.addText=function(b,f,g,e,k,m,r,l,v){b=this.getTextInfo(b,e,k,m,r);e=b.positions;"center"==l?f-=b.width/2:"right"==l&&(f-=b.width);"middle"==v?g-=b.height/2:"bottom"==v&&(g-=b.height);for(v=0;k=e[v];v++)if(k.x==f&&k.y==g){k.active=!0;return}k={active:!0,
rendered:!1,element:e.length?b.element.clone():b.element,x:f,y:g};e.push(k);k.element.css({top:Math.round(g),left:Math.round(f),"text-align":l})};l.prototype.removeText=function(b,f,k,e,p,m){if(null==e){if(f=this._textCache[b],null!=f)for(var r in f)if(g.call(f,r)){k=f[r];for(var l in k)if(g.call(k,l))for(b=k[l].positions,e=0;p=b[e];e++)p.active=!1}}else for(b=this.getTextInfo(b,e,p,m).positions,e=0;p=b[e];e++)p.x==f&&p.y==k&&(p.active=!1)};b.plot=function(c,f,g){return new k(b(c),f,g,b.plot.plugins)};
b.plot.version="0.8.3";b.plot.plugins=[];b.fn.plot=function(c,f){return this.each(function(){b.plot(this,c,f)})}})(jQuery);
(function(b){var l=10,k=0.95;b.plot.plugins.push({init:function(g){function c(a){for(var c=0,d=0,e=0,h=u.series.pie.combine.color,f=[],m=0;m<a.length;++m){var g=a[m].data;b.isArray(g)&&1==g.length&&(g=g[0]);b.isArray(g)?!isNaN(parseFloat(g[1]))&&isFinite(g[1])?g[1]=+g[1]:g[1]=0:g=!isNaN(parseFloat(g))&&isFinite(g)?[1,+g]:[1,0];a[m].data=[g]}for(m=0;m<a.length;++m)c+=a[m].data[0][1];for(m=0;m<a.length;++m)g=a[m].data[0][1],g/c<=u.series.pie.combine.threshold&&(d+=g,e++,h||(h=a[m].color));for(m=0;m<
a.length;++m)g=a[m].data[0][1],(2>e||g/c>u.series.pie.combine.threshold)&&f.push(b.extend(a[m],{data:[[1,g]],color:a[m].color,label:a[m].label,angle:2*g*Math.PI/c,percent:g/(c/100)}));1<e&&f.push({data:[[1,d]],color:h,label:u.series.pie.combine.label,angle:2*d*Math.PI/c,percent:d/(c/100)});return f}function f(c,e){function f(){q.clearRect(0,0,p,r);v.children().filter(".pieLabel, .pieLabelBackground").remove()}function m(){var b=u.series.pie.shadow.left,c=u.series.pie.shadow.top,e=u.series.pie.shadow.alpha,
h=1<u.series.pie.radius?u.series.pie.radius:A*u.series.pie.radius;if(!(h>=p/2-b||h*u.series.pie.tilt>=r/2-c||10>=h)){q.save();q.translate(b,c);q.globalAlpha=e;q.fillStyle="#000";q.translate(a,d);q.scale(1,u.series.pie.tilt);for(b=1;10>=b;b++)q.beginPath(),q.arc(0,0,h,0,2*Math.PI,!1),q.fill(),h-=b;q.restore()}}function g(){function c(a,b,d){0>=a||isNaN(a)||(d?q.fillStyle=b:(q.strokeStyle=b,q.lineJoin="round"),q.beginPath(),1E-9<Math.abs(a-2*Math.PI)&&q.moveTo(0,0),q.arc(0,0,f,m,m+a/2,!1),q.arc(0,0,
f,m+a/2,m+a,!1),q.closePath(),m+=a,d?q.fill():q.stroke())}function e(){for(var c=h,f=1<u.series.pie.label.radius?u.series.pie.label.radius:A*u.series.pie.label.radius,m=0;m<w.length;++m){if(w[m].percent>=100*u.series.pie.label.threshold){var g;g=w[m];var k=c,n=m;if(0==g.data[0][1])g=!0;else{var l=u.legend.labelFormatter,x=void 0,s=u.series.pie.label.formatter,x=l?l(g.label,g):g.label;s&&(x=s(x,g));l=(k+g.angle+k)/2;k=a+Math.round(Math.cos(l)*f);l=d+Math.round(Math.sin(l)*f)*u.series.pie.tilt;v.append("<span class='pieLabel' id='pieLabel"+
n+"' style='position:absolute;top:"+l+"px;left:"+k+"px;'>"+x+"</span>");n=v.children("#pieLabel"+n);x=l-n.height()/2;l=k-n.width()/2;n.css("top",x);n.css("left",l);0<0-x||0<0-l||0>r-(x+n.height())||0>p-(l+n.width())?g=!1:(0!=u.series.pie.label.background.opacity&&(k=u.series.pie.label.background.color,null==k&&(k=g.color),g="top:"+x+"px;left:"+l+"px;",b("<div class='pieLabelBackground' style='position:absolute;width:"+n.width()+"px;height:"+n.height()+"px;"+g+"background-color:"+k+";'></div>").css("opacity",
u.series.pie.label.background.opacity).insertBefore(n)),g=!0)}if(!g)return!1}c+=w[m].angle}return!0}var h=Math.PI*u.series.pie.startAngle,f=1<u.series.pie.radius?u.series.pie.radius:A*u.series.pie.radius;q.save();q.translate(a,d);q.scale(1,u.series.pie.tilt);q.save();for(var m=h,k=0;k<w.length;++k)w[k].startAngle=m,c(w[k].angle,w[k].color,!0);q.restore();if(0<u.series.pie.stroke.width){q.save();q.lineWidth=u.series.pie.stroke.width;m=h;for(k=0;k<w.length;++k)c(w[k].angle,u.series.pie.stroke.color,
!1);q.restore()}n(q);q.restore();return u.series.pie.label.show?e():!0}if(v){var p=c.getPlaceholder().width(),r=c.getPlaceholder().height(),s=v.children().filter(".legend").children().width()||0;q=e;h=!1;A=Math.min(p,r/u.series.pie.tilt)/2;d=r/2+u.series.pie.offset.top;a=p/2;"auto"==u.series.pie.offset.left?(a=u.legend.position.match("w")?a+s/2:a-s/2,a<A?a=A:a>p-A&&(a=p-A)):a+=u.series.pie.offset.left;var w=c.getData(),s=0;do 0<s&&(A*=k),s+=1,f(),0.8>=u.series.pie.tilt&&m();while(!g()&&s<l);s>=l&&
(f(),v.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>"));c.setSeries&&c.insertLegend&&(c.setSeries(w),c.insertLegend())}}function n(a){if(0<u.series.pie.innerRadius){a.save();var b=1<u.series.pie.innerRadius?u.series.pie.innerRadius:A*u.series.pie.innerRadius;a.globalCompositeOperation="destination-out";a.beginPath();a.fillStyle=u.series.pie.stroke.color;a.arc(0,0,b,0,2*Math.PI,!1);a.fill();a.closePath();a.restore();a.save();a.beginPath();a.strokeStyle=u.series.pie.stroke.color;
a.arc(0,0,b,0,2*Math.PI,!1);a.stroke();a.closePath();a.restore()}}function e(a){m("plothover",a)}function p(a){m("plotclick",a)}function m(b,c){var e=g.offset(),h=parseInt(c.pageX-e.left);a:{for(var e=parseInt(c.pageY-e.top),f=g.getData(),m=g.getOptions(),m=1<m.series.pie.radius?m.series.pie.radius:A*m.series.pie.radius,k,p,n=0;n<f.length;++n){var l=f[n];if(l.pie.show){q.save();q.beginPath();q.moveTo(0,0);q.arc(0,0,m,l.startAngle,l.startAngle+l.angle/2,!1);q.arc(0,0,m,l.startAngle+l.angle/2,l.startAngle+
l.angle,!1);q.closePath();k=h-a;p=e-d;if(q.isPointInPath){if(q.isPointInPath(h-a,e-d)){q.restore();h={datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:n};break a}}else{var s=m*Math.cos(l.startAngle),H=m*Math.sin(l.startAngle),x=m*Math.cos(l.startAngle+l.angle/4),D=m*Math.sin(l.startAngle+l.angle/4),K=m*Math.cos(l.startAngle+l.angle/2),F=m*Math.sin(l.startAngle+l.angle/2),L=m*Math.cos(l.startAngle+l.angle/1.5),Q=m*Math.sin(l.startAngle+l.angle/1.5),ha=m*Math.cos(l.startAngle+l.angle),
na=m*Math.sin(l.startAngle+l.angle),s=[[0,0],[s,H],[x,D],[K,F],[L,Q],[ha,na]];k=[k,p];p=!1;H=-1;x=s.length;for(D=x-1;++H<x;D=H)(s[H][1]<=k[1]&&k[1]<s[D][1]||s[D][1]<=k[1]&&k[1]<s[H][1])&&k[0]<(s[D][0]-s[H][0])*(k[1]-s[H][1])/(s[D][1]-s[H][1])+s[H][0]&&(p=!p);if(p){q.restore();h={datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:n};break a}}q.restore()}}h=null}if(u.grid.autoHighlight)for(e=0;e<w.length;++e)f=w[e],f.auto!=b||h&&f.series==h.series||(f=f.series,null==f&&(w=[],g.triggerRedrawOverlay()),
f=r(f),-1!=f&&(w.splice(f,1),g.triggerRedrawOverlay()));h&&(e=h.series,f=r(e),-1==f?(w.push({series:e,auto:b}),g.triggerRedrawOverlay()):b||(w[f].auto=!1));v.trigger(b,[{pageX:c.pageX,pageY:c.pageY},h])}function r(a){for(var b=0;b<w.length;++b)if(w[b].series==a)return b;return-1}var s=null,v=null,u=null,A=null,a=null,d=null,h=!1,q=null,w=[];g.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==
b.series.pie.radius&&(b.series.pie.radius=b.series.pie.label.show?0.75:1),1<b.series.pie.tilt?b.series.pie.tilt=1:0>b.series.pie.tilt&&(b.series.pie.tilt=0))});g.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(e),c.grid.clickable&&b.unbind("click").click(p))});g.hooks.processDatapoints.push(function(a,d,e,f){a.getOptions().series.pie.show&&!h&&(h=!0,s=a.getCanvas(),v=b(s).parent(),u=a.getOptions(),a.setData(c(a.getData())))});
g.hooks.drawOverlay.push(function(b,c){if(b.getOptions().series.pie.show){var e=b.getOptions(),h=1<e.series.pie.radius?e.series.pie.radius:A*e.series.pie.radius;c.save();c.translate(a,d);c.scale(1,e.series.pie.tilt);for(var f=0;f<w.length;++f){var m=w[f].series;0>=m.angle||isNaN(m.angle)||(c.fillStyle="rgba(255, 255, 255, "+e.series.pie.highlight.opacity+")",c.beginPath(),1E-9<Math.abs(m.angle-2*Math.PI)&&c.moveTo(0,0),c.arc(0,0,h,m.startAngle,m.startAngle+m.angle/2,!1),c.arc(0,0,h,m.startAngle+m.angle/
2,m.startAngle+m.angle,!1),c.closePath(),c.fill())}n(c);c.restore()}});g.hooks.draw.push(function(a,b){a.getOptions().series.pie.show&&f(a,b)})},options:{series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:0.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(b,c){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+c.color+";'>"+b+"<br/>"+Math.round(c.percent)+"%</div>"},radius:1,background:{color:null,
opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}},name:"pie",version:"1.1"})})(jQuery);
(function(b){function l(b,c){return c*Math.floor(b/c)}function k(b,c,e,f){if("function"==typeof b.strftime)return b.strftime(c);var g=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},k=[],a=!1,d=b.getHours(),h=12>d;null==e&&(e="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==f&&(f="Sun Mon Tue Wed Thu Fri Sat".split(" "));var p;p=12<d?d-12:0==d?12:d;for(var n=0;n<c.length;++n){var l=c.charAt(n);if(a){switch(l){case "a":l=""+f[b.getDay()];break;case "b":l=""+e[b.getMonth()];
break;case "d":l=g(b.getDate());break;case "e":l=g(b.getDate()," ");break;case "h":case "H":l=g(d);break;case "I":l=g(p);break;case "l":l=g(p," ");break;case "m":l=g(b.getMonth()+1);break;case "M":l=g(b.getMinutes());break;case "q":l=""+(Math.floor(b.getMonth()/3)+1);break;case "S":l=g(b.getSeconds());break;case "y":l=g(b.getFullYear()%100);break;case "Y":l=""+b.getFullYear();break;case "p":l=h?"am":"pm";break;case "P":l=h?"AM":"PM";break;case "w":l=""+b.getDay()}k.push(l);a=!1}else"%"==l?a=!0:k.push(l)}return k.join("")}
function g(b){function c(b,a,d,e){b[a]=function(){return d[e].apply(d,arguments)}}var e={date:b};void 0!=b.strftime&&c(e,"strftime",b,"strftime");c(e,"getTime",b,"getTime");c(e,"setTime",b,"setTime");for(var f="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),g=0;g<f.length;g++)c(e,"get"+f[g],b,"getUTC"+f[g]),c(e,"set"+f[g],b,"setUTC"+f[g]);return e}function c(b,c){if("browser"==c.timezone)return new Date(b);if(c.timezone&&"utc"!=c.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var e=new timezoneJS.Date;e.setTimezone(c.timezone);e.setTime(b);return e}return g(new Date(b))}var f={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},n=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]],e=n.concat([[3,
"month"],[6,"month"],[1,"year"]]),p=n.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);b.plot.plugins.push({init:function(m){m.hooks.processOptions.push(function(m,g){b.each(m.getAxes(),function(b,m){var g=m.options;"time"==g.mode&&(m.tickGenerator=function(a){var b=[],h=c(a.min,g),m=0,k=g.tickSize&&"quarter"===g.tickSize[1]||g.minTickSize&&"quarter"===g.minTickSize[1]?p:e;null!=g.minTickSize&&(m="number"==typeof g.tickSize?g.tickSize:g.minTickSize[0]*f[g.minTickSize[1]]);for(var n=0;n<k.length-1&&
!(a.delta<(k[n][0]*f[k[n][1]]+k[n+1][0]*f[k[n+1][1]])/2&&k[n][0]*f[k[n][1]]>=m);++n);m=k[n][0];k=k[n][1];"year"==k&&(null!=g.minTickSize&&"year"==g.minTickSize[1]?m=Math.floor(g.minTickSize[0]):(n=Math.pow(10,Math.floor(Math.log(a.delta/f.year)/Math.LN10)),m=a.delta/f.year/n,m=(1.5>m?1:3>m?2:7.5>m?5:10)*n),1>m&&(m=1));a.tickSize=g.tickSize||[m,k];n=a.tickSize[0];k=a.tickSize[1];m=n*f[k];"second"==k?h.setSeconds(l(h.getSeconds(),n)):"minute"==k?h.setMinutes(l(h.getMinutes(),n)):"hour"==k?h.setHours(l(h.getHours(),
n)):"month"==k?h.setMonth(l(h.getMonth(),n)):"quarter"==k?h.setMonth(3*l(h.getMonth()/3,n)):"year"==k&&h.setFullYear(l(h.getFullYear(),n));h.setMilliseconds(0);m>=f.minute&&h.setSeconds(0);m>=f.hour&&h.setMinutes(0);m>=f.day&&h.setHours(0);m>=4*f.day&&h.setDate(1);m>=2*f.month&&h.setMonth(l(h.getMonth(),3));m>=2*f.quarter&&h.setMonth(l(h.getMonth(),6));m>=f.year&&h.setMonth(0);var r=0,s=Number.NaN,u;do if(u=s,s=h.getTime(),b.push(s),"month"==k||"quarter"==k)if(1>n){h.setDate(1);var v=h.getTime();
h.setMonth(h.getMonth()+("quarter"==k?3:1));var ca=h.getTime();h.setTime(s+r*f.hour+(ca-v)*n);r=h.getHours();h.setHours(0)}else h.setMonth(h.getMonth()+n*("quarter"==k?3:1));else"year"==k?h.setFullYear(h.getFullYear()+n):h.setTime(s+m);while(s<a.max&&s!=u);return b},m.tickFormatter=function(a,b){var e=c(a,b.options);if(null!=g.timeformat)return k(e,g.timeformat,g.monthNames,g.dayNames);var m=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],
n=b.tickSize[0]*f[b.tickSize[1]],p=b.max-b.min,l=g.twelveHourClock?" %p":"",r=g.twelveHourClock?"%I":"%H";return k(e,n<f.minute?r+":%M:%S"+l:n<f.day?p<2*f.day?r+":%M"+l:"%b %d "+r+":%M"+l:n<f.month?"%b %d":m&&n<f.quarter||!m&&n<f.year?p<f.year?"%b":"%b %Y":m&&n<f.year?p<f.year?"Q%q":"Q%q %Y":"%Y",g.monthNames,g.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});b.plot.formatDate=k;b.plot.dateGenerator=c})(jQuery);
jQuery.cookie=function(b,l,k){if(1<arguments.length&&"[object Object]"!==String(l)){k=jQuery.extend({},k);if(null===l||void 0===l)k.expires=-1;if("number"===typeof k.expires){var g=k.expires,c=k.expires=new Date;c.setDate(c.getDate()+g)}l=String(l);return document.cookie=[encodeURIComponent(b),"=",k.raw?l:encodeURIComponent(l),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join("")}k=l||{};c=k.raw?function(b){return b}:
decodeURIComponent;return(g=RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)").exec(document.cookie))?c(g[1]):null};var JSON;JSON||(JSON={});
(function(){function b(b){return 10>b?"0"+b:b}function l(b){c.lastIndex=0;return c.test(b)?'"'+b.replace(c,function(b){var c=e[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function k(b,c){var e,g,u,A,a=f,d,h=c[b];h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(b));"function"===typeof p&&(h=p.call(c,b,h));switch(typeof h){case "string":return l(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";f+=n;d=[];if("[object Array]"===Object.prototype.toString.apply(h)){A=h.length;for(e=0;e<A;e+=1)d[e]=k(e,h)||"null";u=0===d.length?"[]":f?"[\n"+f+d.join(",\n"+f)+"\n"+a+"]":"["+d.join(",")+"]";f=a;return u}if(p&&"object"===typeof p)for(A=p.length,e=0;e<A;e+=1)"string"===typeof p[e]&&(g=p[e],(u=k(g,h))&&d.push(l(g)+(f?": ":":")+u));else for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u=k(g,h))&&d.push(l(g)+(f?": ":":")+u);u=0===d.length?"{}":f?"{\n"+f+d.join(",\n"+
f)+"\n"+a+"}":"{"+d.join(",")+"}";f=a;return u}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,n,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,c,e){var g;n=f="";if("number"===typeof e)for(g=0;g<e;g+=1)n+=" ";else"string"===typeof e&&(n=e);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return k("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function e(b,f){var a,d,h=b[f];if(h&&"object"===typeof h)for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&(d=e(h,a),void 0!==d?h[a]=d:delete h[a]);return c.call(b,f,h)}var f;b=String(b);g.lastIndex=0;g.test(b)&&(b=b.replace(g,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+b+")"),"function"===typeof c?e({"":f},""):f;throw new SyntaxError("JSON.parse");})})();if("undefined"===typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(b){b=b.fn.jquery.split(" ")[0].split(".");if(2>b[0]&&9>b[1]||1==b[0]&&9==b[1]&&1>b[2]||3<b[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);
+function(b){function l(){var b=document.createElement("bootstrap"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in g)if(void 0!==b.style[c])return{end:g[c]};return!1}b.fn.emulateTransitionEnd=function(k){var g=!1,c=this;b(this).one("bsTransitionEnd",function(){g=!0});setTimeout(function(){g||b(c).trigger(b.support.transition.end)},k);return this};b(function(){b.support.transition=l();b.support.transition&&
(b.event.special.bsTransitionEnd={bindType:b.support.transition.end,delegateType:b.support.transition.end,handle:function(k){if(b(k.target).is(this))return k.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(b){var l=function(g){b(g).on("click",'[data-dismiss="alert"]',this.close)};l.VERSION="3.3.7";l.TRANSITION_DURATION=150;l.prototype.close=function(g){function c(){e.detach().trigger("closed.bs.alert").remove()}var f=b(this),k=f.attr("data-target");k||(k=(k=f.attr("href"))&&k.replace(/.*(?=#[^\s]*$)/,""));var e=b("#"===k?[]:k);g&&g.preventDefault();e.length||(e=f.closest(".alert"));e.trigger(g=b.Event("close.bs.alert"));g.isDefaultPrevented()||(e.removeClass("in"),b.support.transition&&e.hasClass("fade")?
e.one("bsTransitionEnd",c).emulateTransitionEnd(l.TRANSITION_DURATION):c())};var k=b.fn.alert;b.fn.alert=function(g){return this.each(function(){var c=b(this),f=c.data("bs.alert");f||c.data("bs.alert",f=new l(this));"string"==typeof g&&f[g].call(c)})};b.fn.alert.Constructor=l;b.fn.alert.noConflict=function(){b.fn.alert=k;return this};b(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',l.prototype.close)}(jQuery);
+function(b){function l(c){return this.each(function(){var f=b(this),g=f.data("bs.button"),e="object"==typeof c&&c;g||f.data("bs.button",g=new k(this,e));"toggle"==c?g.toggle():c&&g.setState(c)})}var k=function(c,f){this.$element=b(c);this.options=b.extend({},k.DEFAULTS,f);this.isLoading=!1};k.VERSION="3.3.7";k.DEFAULTS={loadingText:"loading..."};k.prototype.setState=function(c){var f=this.$element,g=f.is("input")?"val":"html",e=f.data();c+="Text";null==e.resetText&&f.data("resetText",f[g]());setTimeout(b.proxy(function(){f[g](null==
e[c]?this.options[c]:e[c]);"loadingText"==c?(this.isLoading=!0,f.addClass("disabled").attr("disabled","disabled").prop("disabled",!0)):this.isLoading&&(this.isLoading=!1,f.removeClass("disabled").removeAttr("disabled").prop("disabled",!1))},this),0)};k.prototype.toggle=function(){var b=!0,f=this.$element.closest('[data-toggle="buttons"]');if(f.length){var g=this.$element.find("input");"radio"==g.prop("type")?(g.prop("checked")&&(b=!1),f.find(".active").removeClass("active"),this.$element.addClass("active")):
"checkbox"==g.prop("type")&&(g.prop("checked")!==this.$element.hasClass("active")&&(b=!1),this.$element.toggleClass("active"));g.prop("checked",this.$element.hasClass("active"));b&&g.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var g=b.fn.button;b.fn.button=l;b.fn.button.Constructor=k;b.fn.button.noConflict=function(){b.fn.button=g;return this};b(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var f=
b(c.target).closest(".btn");l.call(f,"toggle");b(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),f.is("input,button")?f.trigger("focus"):f.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(c){b(c.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(c.type))})}(jQuery);
+function(b){function l(c){return this.each(function(){var g=b(this),e=g.data("bs.carousel"),p=b.extend({},k.DEFAULTS,g.data(),"object"==typeof c&&c),m="string"==typeof c?c:p.slide;e||g.data("bs.carousel",e=new k(this,p));if("number"==typeof c)e.to(c);else if(m)e[m]();else p.interval&&e.pause().cycle()})}var k=function(c,g){this.$element=b(c);this.$indicators=this.$element.find(".carousel-indicators");this.options=g;this.$items=this.$active=this.interval=this.sliding=this.paused=null;this.options.keyboard&&
this.$element.on("keydown.bs.carousel",b.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",b.proxy(this.pause,this)).on("mouseleave.bs.carousel",b.proxy(this.cycle,this))};k.VERSION="3.3.7";k.TRANSITION_DURATION=600;k.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};k.prototype.keydown=function(b){if(!/input|textarea/i.test(b.target.tagName)){switch(b.which){case 37:this.prev();break;case 39:this.next();
break;default:return}b.preventDefault()}};k.prototype.cycle=function(c){c||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this};k.prototype.getItemIndex=function(b){this.$items=b.parent().children(".item");return this.$items.index(b||this.$active)};k.prototype.getItemForDirection=function(b,c){var e=this.getItemIndex(c);return("prev"==b&&0===e||"next"==b&&e==this.$items.length-
1)&&!this.options.wrap?c:this.$items.eq((e+("prev"==b?-1:1))%this.$items.length)};k.prototype.to=function(b){var c=this,e=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",this.$items.eq(b))};k.prototype.pause=function(c){c||(this.paused=!0);this.$element.find(".next, .prev").length&&b.support.transition&&(this.$element.trigger(b.support.transition.end),
this.cycle(!0));this.interval=clearInterval(this.interval);return this};k.prototype.next=function(){if(!this.sliding)return this.slide("next")};k.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};k.prototype.slide=function(c,g){var e=this.$element.find(".item.active"),p=g||this.getItemForDirection(c,e),m=this.interval,l="next"==c?"left":"right",s=this;if(p.hasClass("active"))return this.sliding=!1;var v=p[0],u=b.Event("slide.bs.carousel",{relatedTarget:v,direction:l});this.$element.trigger(u);
if(!u.isDefaultPrevented()){this.sliding=!0;m&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(u=b(this.$indicators.children()[this.getItemIndex(p)]))&&u.addClass("active"));var A=b.Event("slid.bs.carousel",{relatedTarget:v,direction:l});b.support.transition&&this.$element.hasClass("slide")?(p.addClass(c),p[0].offsetWidth,e.addClass(l),p.addClass(l),e.one("bsTransitionEnd",function(){p.removeClass([c,l].join(" ")).addClass("active");e.removeClass(["active",
l].join(" "));s.sliding=!1;setTimeout(function(){s.$element.trigger(A)},0)}).emulateTransitionEnd(k.TRANSITION_DURATION)):(e.removeClass("active"),p.addClass("active"),this.sliding=!1,this.$element.trigger(A));m&&this.cycle();return this}};var g=b.fn.carousel;b.fn.carousel=l;b.fn.carousel.Constructor=k;b.fn.carousel.noConflict=function(){b.fn.carousel=g;return this};var c=function(c){var g,e=b(this),k=b(e.attr("data-target")||(g=e.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,""));if(k.hasClass("carousel")){g=
b.extend({},k.data(),e.data());if(e=e.attr("data-slide-to"))g.interval=!1;l.call(k,g);e&&k.data("bs.carousel").to(e);c.preventDefault()}};b(document).on("click.bs.carousel.data-api","[data-slide]",c).on("click.bs.carousel.data-api","[data-slide-to]",c);b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var c=b(this);l.call(c,c.data())})})}(jQuery);
+function(b){function l(c){var g;c=c.attr("data-target")||(g=c.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");return b(c)}function k(c){return this.each(function(){var k=b(this),e=k.data("bs.collapse"),p=b.extend({},g.DEFAULTS,k.data(),"object"==typeof c&&c);!e&&p.toggle&&/show|hide/.test(c)&&(p.toggle=!1);e||k.data("bs.collapse",e=new g(this,p));if("string"==typeof c)e[c]()})}var g=function(c,k){this.$element=b(c);this.options=b.extend({},g.DEFAULTS,k);this.$trigger=b('[data-toggle="collapse"][href="#'+
c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};g.VERSION="3.3.7";g.TRANSITION_DURATION=350;g.DEFAULTS={toggle:!0};g.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};g.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");
if(n&&n.length&&(c=n.data("bs.collapse"))&&c.transitioning)return;var e=b.Event("show.bs.collapse");this.$element.trigger(e);if(!e.isDefaultPrevented()){n&&n.length&&(k.call(n,"hide"),c||n.data("bs.collapse",null));var p=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[p](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[p]("");this.transitioning=
0;this.$element.trigger("shown.bs.collapse")};if(!b.support.transition)return c.call(this);n=b.camelCase(["scroll",p].join("-"));this.$element.one("bsTransitionEnd",b.proxy(c,this)).emulateTransitionEnd(g.TRANSITION_DURATION)[p](this.$element[0][n])}}};g.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=b.Event("hide.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",
!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var k=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!b.support.transition)return k.call(this);this.$element[c](0).one("bsTransitionEnd",b.proxy(k,this)).emulateTransitionEnd(g.TRANSITION_DURATION)}}};g.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};g.prototype.getParent=function(){return b(this.options.parent).find('[data-toggle="collapse"][data-parent="'+
this.options.parent+'"]').each(b.proxy(function(c,g){var e=b(g);this.addAriaAndCollapsedClass(l(e),e)},this)).end()};g.prototype.addAriaAndCollapsedClass=function(b,c){var e=b.hasClass("in");b.attr("aria-expanded",e);c.toggleClass("collapsed",!e).attr("aria-expanded",e)};var c=b.fn.collapse;b.fn.collapse=k;b.fn.collapse.Constructor=g;b.fn.collapse.noConflict=function(){b.fn.collapse=c;return this};b(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var g=b(this);g.attr("data-target")||
c.preventDefault();c=l(g);g=c.data("bs.collapse")?"toggle":g.data();k.call(c,g)})}(jQuery);
+function(b){function l(c){var f=c.attr("data-target");f||(f=(f=c.attr("href"))&&/#[A-Za-z]/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));return(f=f&&b(f))&&f.length?f:c.parent()}function k(e){e&&3===e.which||(b(g).remove(),b(c).each(function(){var c=b(this),f=l(c),g={relatedTarget:this};!f.hasClass("open")||e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&b.contains(f[0],e.target)||(f.trigger(e=b.Event("hide.bs.dropdown",g)),e.isDefaultPrevented()||(c.attr("aria-expanded","false"),f.removeClass("open").trigger(b.Event("hidden.bs.dropdown",
g))))}))}var g=".dropdown-backdrop",c='[data-toggle="dropdown"]',f=function(c){b(c).on("click.bs.dropdown",this.toggle)};f.VERSION="3.3.7";f.prototype.toggle=function(c){var f=b(this);if(!f.is(".disabled, :disabled")){var g=l(f);c=g.hasClass("open");k();if(!c){if("ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length)b(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(b(this)).on("click",k);var n={relatedTarget:this};g.trigger(c=b.Event("show.bs.dropdown",
n));if(c.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");g.toggleClass("open").trigger(b.Event("shown.bs.dropdown",n))}return!1}};f.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var f=b(this);e.preventDefault();e.stopPropagation();if(!f.is(".disabled, :disabled")){var g=l(f),k=g.hasClass("open");if(!k&&27!=e.which||k&&27==e.which)return 27==e.which&&g.find(c).trigger("focus"),f.trigger("click");f=g.find(".dropdown-menu li:not(.disabled):visible a");
f.length&&(g=f.index(e.target),38==e.which&&0<g&&g--,40==e.which&&g<f.length-1&&g++,~g||(g=0),f.eq(g).trigger("focus"))}}};var n=b.fn.dropdown;b.fn.dropdown=function(c){return this.each(function(){var g=b(this),m=g.data("bs.dropdown");m||g.data("bs.dropdown",m=new f(this));"string"==typeof c&&m[c].call(g)})};b.fn.dropdown.Constructor=f;b.fn.dropdown.noConflict=function(){b.fn.dropdown=n;return this};b(document).on("click.bs.dropdown.data-api",k).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",
c,f.prototype.toggle).on("keydown.bs.dropdown.data-api",c,f.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",f.prototype.keydown)}(jQuery);
+function(b){function l(c,f){return this.each(function(){var g=b(this),e=g.data("bs.modal"),p=b.extend({},k.DEFAULTS,g.data(),"object"==typeof c&&c);e||g.data("bs.modal",e=new k(this,p));if("string"==typeof c)e[c](f);else p.show&&e.show(f)})}var k=function(c,f){this.options=f;this.$body=b(document.body);this.$element=b(c);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
b.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};k.VERSION="3.3.7";k.TRANSITION_DURATION=300;k.BACKDROP_TRANSITION_DURATION=150;k.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};k.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)};k.prototype.show=function(c){var f=this,g=b.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(g);this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',b.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){f.$element.one("mouseup.dismiss.bs.modal",function(c){b(c.target).is(f.$element)&&(f.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=b.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(f.$body);f.$element.show().scrollTop(0);f.adjustDialog();e&&f.$element[0].offsetWidth;
f.$element.addClass("in");f.enforceFocus();var g=b.Event("shown.bs.modal",{relatedTarget:c});e?f.$dialog.one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(g)}).emulateTransitionEnd(k.TRANSITION_DURATION):f.$element.trigger("focus").trigger(g)}))};k.prototype.hide=function(c){c&&c.preventDefault();c=b.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),b(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),b.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",b.proxy(this.hideModal,this)).emulateTransitionEnd(k.TRANSITION_DURATION):this.hideModal())};k.prototype.enforceFocus=function(){b(document).off("focusin.bs.modal").on("focusin.bs.modal",b.proxy(function(b){document===b.target||this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))};k.prototype.escape=function(){if(this.isShown&&
this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",b.proxy(function(b){27==b.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};k.prototype.resize=function(){if(this.isShown)b(window).on("resize.bs.modal",b.proxy(this.handleUpdate,this));else b(window).off("resize.bs.modal")};k.prototype.hideModal=function(){var b=this;this.$element.hide();this.backdrop(function(){b.$body.removeClass("modal-open");b.resetAdjustments();b.resetScrollbar();b.$element.trigger("hidden.bs.modal")})};
k.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};k.prototype.backdrop=function(c){var f=this,g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=b.support.transition&&g;this.$backdrop=b(document.createElement("div")).addClass("modal-backdrop "+g).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",b.proxy(function(b){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:b.target===b.currentTarget&&("static"==
this.options.backdrop?this.$element[0].focus():this.hide())},this));e&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c&&(e?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(k.BACKDROP_TRANSITION_DURATION):c())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),g=function(){f.removeBackdrop();c&&c()},b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(k.BACKDROP_TRANSITION_DURATION):g()):c&&c()};
k.prototype.handleUpdate=function(){this.adjustDialog()};k.prototype.adjustDialog=function(){var b=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&b?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!b?this.scrollbarWidth:""})};k.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};k.prototype.checkScrollbar=function(){var b=window.innerWidth;b||(b=document.documentElement.getBoundingClientRect(),
b=b.right-Math.abs(b.left));this.bodyIsOverflowing=document.body.clientWidth<b;this.scrollbarWidth=this.measureScrollbar()};k.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",b+this.scrollbarWidth)};k.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};k.prototype.measureScrollbar=function(){var b=document.createElement("div");
b.className="modal-scrollbar-measure";this.$body.append(b);var f=b.offsetWidth-b.clientWidth;this.$body[0].removeChild(b);return f};var g=b.fn.modal;b.fn.modal=l;b.fn.modal.Constructor=k;b.fn.modal.noConflict=function(){b.fn.modal=g;return this};b(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var f=b(this),g=f.attr("href"),e=b(f.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,"")),g=e.data("bs.modal")?"toggle":b.extend({remote:!/#/.test(g)&&g},e.data(),f.data());f.is("a")&&
c.preventDefault();e.one("show.bs.modal",function(b){if(!b.isDefaultPrevented())e.one("hidden.bs.modal",function(){f.is(":visible")&&f.trigger("focus")})});l.call(e,g,this)})}(jQuery);
+function(b){var l=function(b,c){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",b,c)};l.VERSION="3.3.7";l.TRANSITION_DURATION=150;l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};l.prototype.init=function(g,c,
f){this.enabled=!0;this.type=g;this.$element=b(c);this.options=this.getOptions(f);this.$viewport=this.options.viewport&&b(b.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:!1,hover:!1,focus:!1};if(this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");g=this.options.trigger.split(" ");
for(c=g.length;c--;)if(f=g[c],"click"==f)this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this));else if("manual"!=f){var k="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,b.proxy(this.enter,this));this.$element.on(k+"."+this.type,this.options.selector,b.proxy(this.leave,this))}this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};l.prototype.getDefaults=
function(){return l.DEFAULTS};l.prototype.getOptions=function(g){g=b.extend({},this.getDefaults(),this.$element.data(),g);g.delay&&"number"==typeof g.delay&&(g.delay={show:g.delay,hide:g.delay});return g};l.prototype.getDelegateOptions=function(){var g={},c=this.getDefaults();this._options&&b.each(this._options,function(b,k){c[b]!=k&&(g[b]=k)});return g};l.prototype.enter=function(g){var c=g instanceof this.constructor?g:b(g.currentTarget).data("bs."+this.type);c||(c=new this.constructor(g.currentTarget,
this.getDelegateOptions()),b(g.currentTarget).data("bs."+this.type,c));g instanceof b.Event&&(c.inState["focusin"==g.type?"focus":"hover"]=!0);if(c.tip().hasClass("in")||"in"==c.hoverState)c.hoverState="in";else{clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)}};l.prototype.isInStateTrue=function(){for(var b in this.inState)if(this.inState[b])return!0;return!1};l.prototype.leave=
function(g){var c=g instanceof this.constructor?g:b(g.currentTarget).data("bs."+this.type);c||(c=new this.constructor(g.currentTarget,this.getDelegateOptions()),b(g.currentTarget).data("bs."+this.type,c));g instanceof b.Event&&(c.inState["focusout"==g.type?"focus":"hover"]=!1);if(!c.isInStateTrue()){clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)}};l.prototype.show=
function(){var g=b.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(g);var c=b.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!g.isDefaultPrevented()&&c){var f=this,g=this.tip(),c=this.getUID(this.type);this.setContent();g.attr("id",c);this.$element.attr("aria-describedby",c);this.options.animation&&g.addClass("fade");var c="function"==typeof this.options.placement?this.options.placement.call(this,g[0],this.$element[0]):this.options.placement,
k=/\s?auto?\s?/i,e=k.test(c);e&&(c=c.replace(k,"")||"top");g.detach().css({top:0,left:0,display:"block"}).addClass(c).data("bs."+this.type,this);this.options.container?g.appendTo(this.options.container):g.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),p=g[0].offsetWidth,m=g[0].offsetHeight;if(e){var e=c,r=this.getPosition(this.$viewport),c="bottom"==c&&k.bottom+m>r.bottom?"top":"top"==c&&k.top-m<r.top?"bottom":"right"==c&&k.right+p>r.width?"left":
"left"==c&&k.left-p<r.left?"right":c;g.removeClass(e).addClass(c)}k=this.getCalculatedOffset(c,k,p,m);this.applyPlacement(k,c);c=function(){var b=f.hoverState;f.$element.trigger("shown.bs."+f.type);f.hoverState=null;"out"==b&&f.leave(f)};b.support.transition&&this.$tip.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(l.TRANSITION_DURATION):c()}}};l.prototype.applyPlacement=function(g,c){var f=this.tip(),k=f[0].offsetWidth,e=f[0].offsetHeight,p=parseInt(f.css("margin-top"),10),m=parseInt(f.css("margin-left"),
10);isNaN(p)&&(p=0);isNaN(m)&&(m=0);g.top+=p;g.left+=m;b.offset.setOffset(f[0],b.extend({using:function(b){f.css({top:Math.round(b.top),left:Math.round(b.left)})}},g),0);f.addClass("in");var m=f[0].offsetWidth,l=f[0].offsetHeight;"top"==c&&l!=e&&(g.top=g.top+e-l);var s=this.getViewportAdjustedDelta(c,g,m,l);s.left?g.left+=s.left:g.top+=s.top;k=(p=/top|bottom/.test(c))?2*s.left-k+m:2*s.top-e+l;e=p?"offsetWidth":"offsetHeight";f.offset(g);this.replaceArrow(k,f[0][e],p)};l.prototype.replaceArrow=function(b,
c,f){this.arrow().css(f?"left":"top",50*(1-b/c)+"%").css(f?"top":"left","")};l.prototype.setContent=function(){var b=this.tip(),c=this.getTitle();b.find(".tooltip-inner")[this.options.html?"html":"text"](c);b.removeClass("fade in top bottom left right")};l.prototype.hide=function(g){function c(){"in"!=f.hoverState&&k.detach();f.$element&&f.$element.removeAttr("aria-describedby").trigger("hidden.bs."+f.type);g&&g()}var f=this,k=b(this.$tip),e=b.Event("hide.bs."+this.type);this.$element.trigger(e);
if(!e.isDefaultPrevented())return k.removeClass("in"),b.support.transition&&k.hasClass("fade")?k.one("bsTransitionEnd",c).emulateTransitionEnd(l.TRANSITION_DURATION):c(),this.hoverState=null,this};l.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")};l.prototype.hasContent=function(){return this.getTitle()};l.prototype.getPosition=function(g){g=g||this.$element;var c=
g[0],f="BODY"==c.tagName,k=c.getBoundingClientRect();null==k.width&&(k=b.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));c=window.SVGElement&&c instanceof window.SVGElement;c=f?{top:0,left:0}:c?null:g.offset();g={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:g.scrollTop()};f=f?{width:b(window).width(),height:b(window).height()}:null;return b.extend({},k,g,f,c)};l.prototype.getCalculatedOffset=function(b,c,f,k){return"bottom"==b?{top:c.top+c.height,left:c.left+c.width/
2-f/2}:"top"==b?{top:c.top-k,left:c.left+c.width/2-f/2}:"left"==b?{top:c.top+c.height/2-k/2,left:c.left-f}:{top:c.top+c.height/2-k/2,left:c.left+c.width}};l.prototype.getViewportAdjustedDelta=function(b,c,f,k){var e={top:0,left:0};if(!this.$viewport)return e;var p=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(b)?(f=c.top-p-m.scroll,c=c.top+p-m.scroll+k,f<m.top?e.top=m.top-f:c>m.top+m.height&&(e.top=m.top+m.height-c)):(k=c.left-p,c=c.left+
p+f,k<m.left?e.left=m.left-k:c>m.right&&(e.left=m.left+m.width-c));return e};l.prototype.getTitle=function(){var b=this.$element,c=this.options;return b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)};l.prototype.getUID=function(b){do b+=~~(1E6*Math.random());while(document.getElementById(b));return b};l.prototype.tip=function(){if(!this.$tip&&(this.$tip=b(this.options.template),1!=this.$tip.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");
return this.$tip};l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};l.prototype.enable=function(){this.enabled=!0};l.prototype.disable=function(){this.enabled=!1};l.prototype.toggleEnabled=function(){this.enabled=!this.enabled};l.prototype.toggle=function(g){var c=this;g&&(c=b(g.currentTarget).data("bs."+this.type),c||(c=new this.constructor(g.currentTarget,this.getDelegateOptions()),b(g.currentTarget).data("bs."+this.type,c)));g?(c.inState.click=!c.inState.click,
c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)};l.prototype.destroy=function(){var b=this;clearTimeout(this.timeout);this.hide(function(){b.$element.off("."+b.type).removeData("bs."+b.type);b.$tip&&b.$tip.detach();b.$tip=null;b.$arrow=null;b.$viewport=null;b.$element=null})};var k=b.fn.tooltip;b.fn.tooltip=function(g){return this.each(function(){var c=b(this),f=c.data("bs.tooltip"),k="object"==typeof g&&g;if(f||!/destroy|hide/.test(g))if(f||c.data("bs.tooltip",
f=new l(this,k)),"string"==typeof g)f[g]()})};b.fn.tooltip.Constructor=l;b.fn.tooltip.noConflict=function(){b.fn.tooltip=k;return this}}(jQuery);
+function(b){var l=function(b,c){this.init("popover",b,c)};if(!b.fn.tooltip)throw Error("Popover requires tooltip.js");l.VERSION="3.3.7";l.DEFAULTS=b.extend({},b.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});l.prototype=b.extend({},b.fn.tooltip.Constructor.prototype);l.prototype.constructor=l;l.prototype.getDefaults=function(){return l.DEFAULTS};
l.prototype.setContent=function(){var b=this.tip(),c=this.getTitle(),f=this.getContent();b.find(".popover-title")[this.options.html?"html":"text"](c);b.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof f?"html":"append":"text"](f);b.removeClass("fade top bottom left right in");b.find(".popover-title").html()||b.find(".popover-title").hide()};l.prototype.hasContent=function(){return this.getTitle()||this.getContent()};l.prototype.getContent=function(){var b=this.$element,
c=this.options;return b.attr("data-content")||("function"==typeof c.content?c.content.call(b[0]):c.content)};l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var k=b.fn.popover;b.fn.popover=function(g){return this.each(function(){var c=b(this),f=c.data("bs.popover"),k="object"==typeof g&&g;if(f||!/destroy|hide/.test(g))if(f||c.data("bs.popover",f=new l(this,k)),"string"==typeof g)f[g]()})};b.fn.popover.Constructor=l;b.fn.popover.noConflict=function(){b.fn.popover=
k;return this}}(jQuery);
+function(b){function l(c,f){this.$body=b(document.body);this.$scrollElement=b(c).is(document.body)?b(window):b(c);this.options=b.extend({},l.DEFAULTS,f);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",b.proxy(this.process,this));this.refresh();this.process()}function k(c){return this.each(function(){var f=b(this),g=f.data("bs.scrollspy"),e="object"==typeof c&&c;g||f.data("bs.scrollspy",
g=new l(this,e));if("string"==typeof c)g[c]()})}l.VERSION="3.3.7";l.DEFAULTS={offset:10};l.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};l.prototype.refresh=function(){var c=this,f="offset",g=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();b.isWindow(this.$scrollElement[0])||(f="position",g=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var c=
b(this),c=c.data("target")||c.attr("href"),k=/^#./.test(c)&&b(c);return k&&k.length&&k.is(":visible")&&[[k[f]().top+g,c]]||null}).sort(function(b,c){return b[0]-c[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};l.prototype.process=function(){var b=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),g=this.options.offset+f-this.$scrollElement.height(),e=this.offsets,k=this.targets,m=this.activeTarget,l;this.scrollHeight!=f&&this.refresh();if(b>=g)return m!=
(l=k[k.length-1])&&this.activate(l);if(m&&b<e[0])return this.activeTarget=null,this.clear();for(l=e.length;l--;)m!=k[l]&&b>=e[l]&&(void 0===e[l+1]||b<e[l+1])&&this.activate(k[l])};l.prototype.activate=function(c){this.activeTarget=c;this.clear();c=b(this.selector+'[data-target="'+c+'"],'+this.selector+'[href="'+c+'"]').parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active"));c.trigger("activate.bs.scrollspy")};l.prototype.clear=function(){b(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var g=b.fn.scrollspy;b.fn.scrollspy=k;b.fn.scrollspy.Constructor=l;b.fn.scrollspy.noConflict=function(){b.fn.scrollspy=g;return this};b(window).on("load.bs.scrollspy.data-api",function(){b('[data-spy="scroll"]').each(function(){var c=b(this);k.call(c,c.data())})})}(jQuery);
+function(b){function l(c){return this.each(function(){var g=b(this),e=g.data("bs.tab");e||g.data("bs.tab",e=new k(this));if("string"==typeof c)e[c]()})}var k=function(c){this.element=b(c)};k.VERSION="3.3.7";k.TRANSITION_DURATION=150;k.prototype.show=function(){var c=this.element,g=c.closest("ul:not(.dropdown-menu)"),e=c.data("target");e||(e=(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]*$)/,""));if(!c.parent("li").hasClass("active")){var k=g.find(".active:last a"),m=b.Event("hide.bs.tab",{relatedTarget:c[0]}),
l=b.Event("show.bs.tab",{relatedTarget:k[0]});k.trigger(m);c.trigger(l);l.isDefaultPrevented()||m.isDefaultPrevented()||(e=b(e),this.activate(c.closest("li"),g),this.activate(e,e.parent(),function(){k.trigger({type:"hidden.bs.tab",relatedTarget:c[0]});c.trigger({type:"shown.bs.tab",relatedTarget:k[0]})}))}};k.prototype.activate=function(c,g,e){function p(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);c.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);l?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu").length&&c.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);e&&e()}var m=g.find("> .active"),l=e&&b.support.transition&&(m.length&&m.hasClass("fade")||!!g.find("> .fade").length);m.length&&l?m.one("bsTransitionEnd",p).emulateTransitionEnd(k.TRANSITION_DURATION):p();m.removeClass("in")};var g=b.fn.tab;b.fn.tab=l;b.fn.tab.Constructor=k;b.fn.tab.noConflict=function(){b.fn.tab=
g;return this};var c=function(c){c.preventDefault();l.call(b(this),"show")};b(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',c).on("click.bs.tab.data-api",'[data-toggle="pill"]',c)}(jQuery);
+function(b){function l(c){return this.each(function(){var f=b(this),g=f.data("bs.affix"),e="object"==typeof c&&c;g||f.data("bs.affix",g=new k(this,e));if("string"==typeof c)g[c]()})}var k=function(c,f){this.options=b.extend({},k.DEFAULTS,f);this.$target=b(this.options.target).on("scroll.bs.affix.data-api",b.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",b.proxy(this.checkPositionWithEventLoop,this));this.$element=b(c);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};
k.VERSION="3.3.7";k.RESET="affix affix-top affix-bottom";k.DEFAULTS={offset:0,target:window};k.prototype.getState=function(b,f,g,e){var k=this.$target.scrollTop(),m=this.$element.offset(),l=this.$target.height();if(null!=g&&"top"==this.affixed)return k<g?"top":!1;if("bottom"==this.affixed)return null!=g?k+this.unpin<=m.top?!1:"bottom":k+l<=b-e?!1:"bottom";var s=null==this.affixed,m=s?k:m.top;return null!=g&&k<=g?"top":null!=e&&m+(s?l:f)>=b-e?"bottom":!1};k.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(k.RESET).addClass("affix");var b=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-b};k.prototype.checkPositionWithEventLoop=function(){setTimeout(b.proxy(this.checkPosition,this),1)};k.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=this.$element.height(),f=this.options.offset,g=f.top,e=f.bottom,p=Math.max(b(document).height(),b(document.body).height());"object"!=typeof f&&(e=g=f);"function"==typeof g&&(g=f.top(this.$element));
"function"==typeof e&&(e=f.bottom(this.$element));f=this.getState(p,c,g,e);if(this.affixed!=f){null!=this.unpin&&this.$element.css("top","");var g="affix"+(f?"-"+f:""),m=b.Event(g+".bs.affix");this.$element.trigger(m);if(m.isDefaultPrevented())return;this.affixed=f;this.unpin="bottom"==f?this.getPinnedOffset():null;this.$element.removeClass(k.RESET).addClass(g).trigger(g.replace("affix","affixed")+".bs.affix")}"bottom"==f&&this.$element.offset({top:p-c-e})}};var g=b.fn.affix;b.fn.affix=l;b.fn.affix.Constructor=
k;b.fn.affix.noConflict=function(){b.fn.affix=g;return this};b(window).on("load",function(){b('[data-spy="affix"]').each(function(){var c=b(this),f=c.data();f.offset=f.offset||{};null!=f.offsetBottom&&(f.offset.bottom=f.offsetBottom);null!=f.offsetTop&&(f.offset.top=f.offsetTop);l.call(c,f)})})}(jQuery);
(function(b,l){if("function"===typeof define&&define.amd)define(["../../../.","jquery","exports"],function(g,c,f){b.Backbone=l(b,f,g,c)});else if("undefined"!==typeof exports){var k=require("underscore");l(b,exports,k)}else b.Backbone=l(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)})(this,function(b,l,k,g){var c=b.Backbone,f=[].slice;l.VERSION="1.1.2";l.$=g;l.noConflict=function(){b.Backbone=c;return this};l.emulateHTTP=!1;l.emulateJSON=!1;var n=l.Events={on:function(a,b,c){if(!p(this,"on",a,[b,c])||
!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!p(this,"once",a,[b,c])||!b)return this;var d=this,e=k.once(function(){d.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,c)},off:function(a,b,c){var d,e,h,f,g,m,n,l;if(!this._events||!p(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;f=a?[a]:k.keys(this._events);g=0;for(m=f.length;g<m;g++)if(a=
f[g],h=this._events[a]){this._events[a]=d=[];if(b||c)for(n=0,l=h.length;n<l;n++)e=h[n],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!p(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&m(c,b);d&&m(d,arguments);return this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!==
typeof b||(c=this);a&&((d={})[a._listenId]=a);for(var h in d)a=d[h],a.off(b,c,this),(e||k.isEmpty(a._events))&&delete this._listeningTo[h];return this}},e=/\s+/,p=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var h in c)a[b].apply(a,[h,c[h]].concat(d));return!1}if(e.test(c)){c=c.split(e);h=0;for(var f=c.length;h<f;h++)a[b].apply(a,[c[h]].concat(d));return!1}return!0},m=function(a,b){var c,d=-1,e=a.length,h=b[0],f=b[1],g=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);
break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,h);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,h,f);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,h,f,g);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};k.each({listenTo:"on",listenToOnce:"once"},function(a,b){n[b]=function(b,c,d){var e=this._listeningTo||(this._listeningTo={}),h=b._listenId||(b._listenId=k.uniqueId("l"));e[h]=b;d||"object"!==typeof c||(d=this);b[a](c,d,this);return this}});n.bind=n.on;n.unbind=n.off;
k.extend(l,n);var r=l.Model=function(a,b){var c=a||{};b||(b={});this.cid=k.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});c=k.defaults({},c,k.result(this,"defaults"));this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};k.extend(r.prototype,n,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return k.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return k.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,h,f,g,m,p;if(null==a)return this;"object"===typeof a?(e=a,c=b):(e={})[a]=b;c||(c={});if(!this._validate(e,c))return!1;h=c.unset;f=c.silent;a=[];g=this._changing;this._changing=!0;g||(this._previousAttributes=k.clone(this.attributes),this.changed={});p=this.attributes;m=this._previousAttributes;this.idAttribute in e&&(this.id=e[this.idAttribute]);
for(d in e)b=e[d],k.isEqual(p[d],b)||a.push(d),k.isEqual(m[d],b)?delete this.changed[d]:this.changed[d]=b,h?delete p[d]:p[d]=b;if(!f)for(a.length&&(this._pending=c),b=0,d=a.length;b<d;b++)this.trigger("change:"+a[b],this,p[a[b]],c);if(g)return this;if(!f)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,k.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=
void 0;return this.set(b,k.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!k.isEmpty(this.changed):k.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?k.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes,e;for(e in a)k.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return k.clone(this._previousAttributes)},
fetch:function(a){a=a?k.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};U(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,e=this.attributes;null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;c=k.extend({validate:!0},c);if(d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=k.extend({},e,d));void 0===c.parse&&(c.parse=
!0);var h=this,f=c.success;c.success=function(a){h.attributes=e;var b=h.parse(a,c);c.wait&&(b=k.extend(d||{},b));if(k.isObject(b)&&!h.set(b,c))return!1;f&&f(h,a,c);h.trigger("sync",h,a,c)};U(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=e);return a},destroy:function(a){a=a?k.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&c(b,
e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;U(this,a);var e=this.sync("delete",this,a);a.wait||d();return e},url:function(){var a=k.result(this,"urlRoot")||k.result(this.collection,"url")||J();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},k.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=k.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,k.extend(b,{validationError:c}));return!1}});k.each("keys values pairs invert pick omit".split(" "),function(a){r.prototype[a]=function(){var b=f.call(arguments);b.unshift(this.attributes);return k[a].apply(k,b)}});var s=l.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);
void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,k.extend({silent:!0},b))},v={add:!0,remove:!0,merge:!0},u={add:!0,remove:!1};k.extend(s.prototype,n,{model:r,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return l.sync.apply(this,arguments)},add:function(a,b){return this.set(a,k.extend({merge:!1},b,u))},remove:function(a,b){var c=!k.isArray(a);a=c?[a]:k.clone(a);b||
(b={});var d,e,h,f;d=0;for(e=a.length;d<e;d++)if(f=a[d]=this.get(a[d]))delete this._byId[f.id],delete this._byId[f.cid],h=this.indexOf(f),this.models.splice(h,1),this.length--,b.silent||(b.index=h,f.trigger("remove",f,this,b)),this._removeReference(f,b);return c?a[0]:a},set:function(a,b){b=k.defaults({},b,v);b.parse&&(a=this.parse(a,b));var c=!k.isArray(a);a=c?a?[a]:[]:k.clone(a);var d,e,h,f,g,m,p=b.at,n=this.model,l=this.comparator&&null==p&&!1!==b.sort,s=k.isString(this.comparator)?this.comparator:
null,q=[],u=[],A={},w=b.add,y=b.merge,U=b.remove,B=!l&&w&&U?[]:!1;d=0;for(e=a.length;d<e;d++){g=a[d]||{};h=g instanceof r?f=g:g[n.prototype.idAttribute||"id"];if(h=this.get(h))U&&(A[h.cid]=!0),y&&(g=g===f?f.attributes:g,b.parse&&(g=h.parse(g,b)),h.set(g,b),l&&!m&&h.hasChanged(s)&&(m=!0)),a[d]=h;else if(w){f=a[d]=this._prepareModel(g,b);if(!f)continue;q.push(f);this._addReference(f,b)}f=h||f;!B||!f.isNew()&&A[f.id]||B.push(f);A[f.id]=!0}if(U){d=0;for(e=this.length;d<e;++d)A[(f=this.models[d]).cid]||
u.push(f);u.length&&this.remove(u,b)}if(q.length||B&&B.length)if(l&&(m=!0),this.length+=q.length,null!=p)for(d=0,e=q.length;d<e;d++)this.models.splice(p+d,0,q[d]);else for(B&&(this.models.length=0),g=B||q,d=0,e=g.length;d<e;d++)this.models.push(g[d]);m&&this.sort({silent:!0});if(!b.silent){d=0;for(e=q.length;d<e;d++)(f=q[d]).trigger("add",f,this,b);(m||B&&B.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c],
b);b.previousModels=this.models;this._reset();a=this.add(a,k.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,k.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,k.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return f.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return k.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});k.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(k.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return k.invoke(this.models,"get",a)},fetch:function(a){a=a?k.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};U(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?k.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(a,e){b.wait&&c.add(a,
b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof r)return a;b=b?k.clone(b):{};b.collection=this;var c=new this.model(a,b);if(!c.validationError)return c;this.trigger("invalid",this,c.validationError,b);return!1},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.collection||(a.collection=
this);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});k.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),
function(a){s.prototype[a]=function(){var b=f.call(arguments);b.unshift(this.models);return k[a].apply(k,b)}});k.each(["groupBy","countBy","sortBy","indexBy"],function(a){s.prototype[a]=function(b,c){var d=k.isFunction(b)?b:function(a){return a.get(b)};return k[a](this.models,d,c)}});g=l.View=function(b){this.cid=k.uniqueId("view");b||(b={});k.extend(this,k.pick(b,a));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var A=/^(\S+)\s*(.*)$/,a="model collection el id attributes className tagName events".split(" ");
k.extend(g.prototype,n,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof l.$?a:l.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=k.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];k.isFunction(c)||
(c=this[a[b]]);if(c){var d=b.match(A),e=d[1],d=d[2],c=k.bind(c,this),e=e+(".delegateEvents"+this.cid);if(""===d)this.$el.on(e,c);else this.$el.on(e,d,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(k.result(this,"el"),!1);else{var a=k.extend({},k.result(this,"attributes"));this.id&&(a.id=k.result(this,"id"));this.className&&(a["class"]=k.result(this,"className"));a=l.$("<"+k.result(this,"tagName")+
">").attr(a);this.setElement(a,!1)}}});l.sync=function(a,b,c){var e=h[a];k.defaults(c||(c={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var f={type:e,dataType:"json"};c.url||(f.url=k.result(b,"url")||J());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===
e)){f.type="POST";c.emulateJSON&&(f.data._method=e);var g=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(g)return g.apply(this,arguments)}}"GET"===f.type||c.emulateJSON||(f.processData=!1);"PATCH"===f.type&&d&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=c.xhr=l.ajax(k.extend(f,c));b.trigger("request",b,a,c);return a};var d="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),
h={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var q=l.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},w=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,y=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;k.extend(q.prototype,n,{initialize:function(){},route:function(a,b,c){k.isRegExp(a)||(a=this._routeToRegExp(a));k.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;l.history.route(a,
function(e){e=d._extractParameters(a,e);d.execute(c,e);d.trigger.apply(d,["route:"+b].concat(e));d.trigger("route",b,e);l.history.trigger("route",d,b,e)});return this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){l.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=k.result(this,"routes");for(var a,b=k.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(P,"\\$&").replace(w,"(?:$1)?").replace(B,
function(a,b){return b?a:"([^/?]+)"}).replace(y,"([^?]*?)");return RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return k.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var O=l.History=function(){this.handlers=[];k.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},W=/^[#\/]|\s+$/g,ca=/^\/+|\/+$/g,R=/msie [\w.]+/,V=/\/$/,Y=/#.*$/;O.started=!1;k.extend(O.prototype,
n,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(V,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(W,"")},start:function(a){if(O.started)throw Error("Backbone.history has already been started");
O.started=!0;this.options=k.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=R.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(ca,"/");b&&this._wantsHashChange&&(this.iframe=l.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,
this.navigate(a));if(this._hasPushState)l.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)l.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&
this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(W,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){l.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);O.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));
if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return k.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!O.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));a=a.replace(Y,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},
document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});l.history=new O;r.extend=s.extend=q.extend=g.extend=O.extend=function(a,
b){var c=this,d;d=a&&k.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};k.extend(d,c,b);var e=function(){this.constructor=d};e.prototype=c.prototype;d.prototype=new e;a&&k.extend(d.prototype,a);d.__super__=c.prototype;return d};var J=function(){throw Error('A "url" property or function must be specified');},U=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return l});
(function(){var b,l,k,g,c,f,n,e,p=[].indexOf||function(b){for(var c=0,e=this.length;c<e;c++)if(c in this&&this[c]===b)return c;return-1};Backbone.DualStorage={offlineStatusCodes:[408,502]};Backbone.Model.prototype.hasTempId=function(){return _.isString(this.id)&&36===this.id.length&&0===this.id.indexOf("t")};g=function(b,c){c||(c=b.model.prototype);return _.result(b,"storeName")||_.result(c,"storeName")||_.result(b,"url")||_.result(c,"urlRoot")||_.result(c,"url")};Backbone.Collection.prototype.syncDirty=
function(b){var c,e,f,k,p,a;e=(c=localStorage.getItem(""+g(this)+"_dirty"))&&c.split(",")||[];a=[];f=0;for(k=e.length;f<k;f++)c=e[f],a.push(null!=(p=this.get(c))?p.save(null,b):void 0);return a};Backbone.Collection.prototype.dirtyModels=function(){var b,c;c=(b=localStorage.getItem(""+g(this)+"_dirty"))&&b.split(",")||[];var e,f,k;k=[];e=0;for(f=c.length;e<f;e++)b=c[e],k.push(this.get(b));return _.compact(k)};Backbone.Collection.prototype.syncDestroyed=function(b){var c,e,f,k,p,a;e=(c=localStorage.getItem(""+
g(this)+"_destroyed"))&&c.split(",")||[];a=[];k=0;for(p=e.length;k<p;k++)c=e[k],f=new this.model,f.set(f.idAttribute,c),f.collection=this,a.push(f.destroy(b));return a};Backbone.Collection.prototype.destroyedModelIds=function(){var b;return(b=localStorage.getItem(""+g(this)+"_destroyed"))&&b.split(",")||[]};Backbone.Collection.prototype.syncDirtyAndDestroyed=function(b){this.syncDirty(b);return this.syncDestroyed(b)};b=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};window.Store=
function(){function c(b){this.name=b;this.records=this.recordsOn(this.name)}c.prototype.sep="";c.prototype.generateId=function(){return"t"+b().substring(1)+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()};c.prototype.save=function(){return localStorage.setItem(this.name,this.records.join(","))};c.prototype.recordsOn=function(b){return(b=localStorage.getItem(b))&&b.split(",")||[]};c.prototype.dirty=function(b){var c;c=this.recordsOn(this.name+"_dirty");_.include(c,b.id.toString())||(c.push(b.id),localStorage.setItem(this.name+
"_dirty",c.join(",")));return b};c.prototype.clean=function(b,c){var e,f;f=""+this.name+"_"+c;e=this.recordsOn(f);_.include(e,b.id.toString())&&localStorage.setItem(f,_.without(e,b.id.toString()).join(","));return b};c.prototype.destroyed=function(b){var c;c=this.recordsOn(this.name+"_destroyed");_.include(c,b.id.toString())||(c.push(b.id),localStorage.setItem(this.name+"_destroyed",c.join(",")));return b};c.prototype.create=function(b){if(!_.isObject(b))return b;b.id||b.set(b.idAttribute,this.generateId());
localStorage.setItem(this.name+this.sep+b.id,JSON.stringify(b));this.records.push(b.id.toString());this.save();return b};c.prototype.update=function(b){localStorage.setItem(this.name+this.sep+b.id,JSON.stringify(b));_.include(this.records,b.id.toString())||this.records.push(b.id.toString());this.save();return b};c.prototype.clear=function(){var b,c,e,f;f=this.records;c=0;for(e=f.length;c<e;c++)b=f[c],localStorage.removeItem(this.name+this.sep+b);this.records=[];return this.save()};c.prototype.hasDirtyOrDestroyed=
function(){return!_.isEmpty(localStorage.getItem(this.name+"_dirty"))||!_.isEmpty(localStorage.getItem(this.name+"_destroyed"))};c.prototype.find=function(b){b=localStorage.getItem(this.name+this.sep+b.id);return null===b?null:JSON.parse(b)};c.prototype.findAll=function(){var b,c,e,f,g;f=this.records;g=[];c=0;for(e=f.length;c<e;c++)b=f[c],g.push(JSON.parse(localStorage.getItem(this.name+this.sep+b)));return g};c.prototype.destroy=function(b){localStorage.removeItem(this.name+this.sep+b.id);this.records=
_.reject(this.records,function(c){return c===b.id.toString()});this.save();return b};return c}();window.Store.exists=function(b){return null!==localStorage.getItem(b)};k={needsTranslation:"0.9.10"===Backbone.VERSION,forBackboneCaller:function(b){return this.needsTranslation?function(c,e,f){return b.call(null,e)}:b},forDualstorageCaller:function(b,c,e){return this.needsTranslation?function(f){return b.call(null,c,f,e)}:b}};c=function(b,c,e){var f,g,k;(f="clear"===b||"hasDirtyOrDestroyed"===b)||(f=
c instanceof Backbone.Model);f||(f=c instanceof Backbone.Collection);if(!f)throw Error("model parameter is required to be a backbone model or collection.");k=new Store(e.storeName);f=function(){switch(b){case "read":return c instanceof Backbone.Model?k.find(c):k.findAll();case "hasDirtyOrDestroyed":return k.hasDirtyOrDestroyed();case "clear":return k.clear();case "create":if(e.add&&!e.merge&&(g=k.find(c)))return g;c=k.create(c);e.dirty&&k.dirty(c);return c;case "update":return k.update(c),e.dirty?
k.dirty(c):k.clean(c,"dirty");case "delete":return k.destroy(c),e.dirty&&!c.hasTempId()?k.destroyed(c):c.hasTempId()?k.clean(c,"dirty"):k.clean(c,"destroyed")}}();null!=f&&f.attributes&&(f=f.attributes);e.ignoreCallbacks||(f?e.success(f):e.error("Record not found"));return f};e=function(b,c){if(!b||!b.parseBeforeLocalSave)return c;if(_.isFunction(b.parseBeforeLocalSave))return b.parseBeforeLocalSave(c)};f=function(b,c){var e;e=new Backbone.Model;e.idAttribute=b.idAttribute;e.set(b.attributes);e.set(b.parse(c));
return e};l=Backbone.sync;n=function(b,c,e){e.success=k.forBackboneCaller(e.success);e.error=k.forBackboneCaller(e.error);return l(b,c,e)};Backbone.sync=function(b,l,s){var v,u,A,a,d,h,q;s.storeName=g(l.collection,l);s.storeExists=Store.exists(s.storeName);s.success=k.forDualstorageCaller(s.success,l,s);s.error=k.forDualstorageCaller(s.error,l,s);if(_.result(l,"remote")||_.result(l.collection,"remote"))return n(b,l,s);A=_.result(l,"local")||_.result(l.collection,"local");s.dirty=!1===s.remote&&!A;
if(!1===s.remote||A)return c(b,l,s);s.ignoreCallbacks=!0;d=s.success;v=s.error;q=function(){s.dirty=!0;return d(c(b,l,s))};u=function(a){var b,c;b=Backbone.DualStorage.offlineStatusCodes;_.isFunction(b)&&(b=b(a));return 0===a.status||(c=a.status,0<=p.call(b,c))};a=function(a){return!u(a)||"read"===b&&!s.storeExists?v(a):q()};switch(b){case "read":if(c("hasDirtyOrDestroyed",l,s))return q();s.success=function(a,b,h){var g,m,k,p,n;if(u(s.xhr))return q();a=e(l,a);if(l instanceof Backbone.Collection)for(g=
l,m=g.model.prototype.idAttribute,s.add||c("clear",g,s),p=0,n=a.length;p<n;p++)k=a[p],k=(l=g.get(k[m]))?f(l,k):new g.model(k),c("update",k,s);else k=f(l,a),c("update",k,s);return d(a,b,h)};s.error=function(b){return a(b)};return s.xhr=n(b,l,s);case "create":return s.success=function(a,e,h){var g;if(u(s.xhr))return q();g=f(l,a);c(b,g,s);return d(a,e,h)},s.error=function(b){return a(b)},s.xhr=n(b,l,s);case "update":if(l.hasTempId())return h=l.id,s.success=function(a,b,e){var g;if(u(s.xhr))return q();
g=f(l,a);l.set(l.idAttribute,h,{silent:!0});c("delete",l,s);c("create",g,s);return d(a,b,e)},s.error=function(b){l.set(l.idAttribute,h,{silent:!0});return a(b)},l.set(l.idAttribute,null,{silent:!0}),s.xhr=n("create",l,s);s.success=function(a,e,h){var g;if(u(s.xhr))return q();g=f(l,a);c(b,g,s);return d(a,e,h)};s.error=function(b){return a(b)};return s.xhr=n(b,l,s);case "delete":if(l.hasTempId())return s.ignoreCallbacks=!1,c(b,l,s);s.success=function(a,e,h){if(u(s.xhr))return q();c(b,l,s);return d(a,
e,h)};s.error=function(b){return a(b)};return s.xhr=n(b,l,s)}}}).call(this);
(function(b,l){if("function"===typeof define&&define.amd)define(["underscore","backbone"],function(c,f){return l(b,f,c)});else if("undefined"!==typeof exports){var k=require("underscore"),g=require("backbone");l(b,g,k);"undefined"!==typeof module&&module.exports&&(module.exports=g);exports=g}else l(b,b.Backbone,b._)})(this,function(b,l,k){var g,c,f,n,e,p,m,r,s,v,u,A={};g=l.Model;c=l.Collection;f=g.prototype;e=c.prototype;n=l.Events;l.Associations={VERSION:"0.6.1"};l.Associations.scopes=[];var a=function(){return s},
d=function(a){if(!k.isString(a)||1>k.size(a))a=".";s=a;m=RegExp("[\\"+s+"\\[\\]]+","g");r=RegExp("[^\\"+s+"\\[\\]]+","g")};try{Object.defineProperty(l.Associations,"SEPARATOR",{enumerable:!0,get:a,set:d})}catch(h){}l.Associations.Many=l.Many="Many";l.Associations.One=l.One="One";l.Associations.Self=l.Self="Self";l.Associations.SEPARATOR=".";l.Associations.getSeparator=a;l.Associations.setSeparator=d;l.Associations.EVENTS_BUBBLE=!0;l.Associations.EVENTS_WILDCARD=!0;l.Associations.EVENTS_NC=!1;d();
l.Collection.prototype.toJSONFull=function(a){return this.map(function(b){return b.toJSONFull?b.toJSONFull(a):b.toJSON(a)})};p=l.AssociatedModel=l.Associations.AssociatedModel=g.extend({relations:void 0,_proxyCalls:void 0,constructor:function(a,b){b&&b.__parents__&&(this.parents=[b.__parents__]);g.apply(this,arguments)},on:function(a,b,c){var d=n.on.apply(this,arguments);if(l.Associations.EVENTS_NC)return d;var e=/\s+/;k.isString(a)&&a&&!e.test(a)&&b&&(e=w(a))&&(A[e]="undefined"===typeof A[e]?1:A[e]+
1);return d},off:function(a,b,c){if(l.Associations.EVENTS_NC)return n.off.apply(this,arguments);var d=/\s+/,e=this._events,h={},f=e?k.keys(e):[],g=!a&&!b&&!c,m=k.isString(a)&&!d.test(a);if(g||m)for(var d=0,p=f.length;d<p;d++)h[f[d]]=e[f[d]]?e[f[d]].length:0;var r=n.off.apply(this,arguments);if(g||m)for(d=0,p=f.length;d<p;d++)(g=w(f[d]))&&(A[g]=e[f[d]]?A[g]-(h[f[d]]-e[f[d]].length):A[g]-h[f[d]]);return r},get:function(a){var b=this.__attributes__,c=f.get.call(this,a);return(b=b?c||b[a]:c)?b:this._getAttr.apply(this,
arguments)},set:function(a,b,c){var d;k.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b);a=this._set(d,c);this._processPendingEvents();return a},_set:function(a,b){var c,d,e,h,f=this;if(!a)return this;this.__attributes__=a;for(c in a)if(d||(d={}),c.match(m)){var p=q(c);h=k.initial(p);p=p[p.length-1];h=this.get(h);h instanceof g&&(h=d[h.cid]||(d[h.cid]={model:h,data:{}}),h.data[p]=a[c])}else h=d[this.cid]||(d[this.cid]={model:this,data:{}}),h.data[c]=a[c];if(d)for(e in d)h=d[e],this._setAttr.call(h.model,
h.data,b)||(f=!1);else f=this._setAttr.call(this,a,b);delete this.__attributes__;return f},_setAttr:function(a,d){var e;d||(d={});if(d.unset)for(e in a)a[e]=void 0;this.parents=this.parents||[];this.relations&&k.each(this.relations,function(e){var h=e.key,f=e.scope||b,m=this._transformRelatedModel(e,a),p=this._transformCollectionType(e,m,a),n=k.isString(e.map)?B(e.map,f):e.map,r=this.attributes[h],q=r&&r.idAttribute,u,s,v=!1;u=e.options?k.extend({},e.options,d):d;if(a[h]){f=k.result(a,h);f=n?n.call(this,
f,p?p:m):f;if(!f){a[h]=f;return}if(e.type===l.Many)r?(r._deferEvents=!0,r[u.reset?"reset":"set"](f instanceof c?f.models:f,u),m=r):(v=!0,f instanceof c?m=f:(m=this._createCollection(p||c,e.collectionOptions||(m?{model:m}:{})),m[u.reset?"reset":"set"](f,u)));else if(e.type===l.One)e=f instanceof g?f.attributes.hasOwnProperty(q):f.hasOwnProperty(q),p=f instanceof g?f.attributes[q]:f[q],r&&e&&r.attributes[q]===p?(r._deferEvents=!0,r._set(f instanceof g?f.attributes:f,u),m=r):(v=!0,f instanceof g?m=f:
(u.__parents__=this,m=new m(f,u),delete u.__parents__));else throw Error("type attribute must be specified and have the values Backbone.One or Backbone.Many");s=a[h]=m;if(v||s&&!s._proxyCallback)s._proxyCallback||(s._proxyCallback=function(){return l.Associations.EVENTS_BUBBLE&&this._bubbleEvent.call(this,h,s,arguments)}),s.on("all",s._proxyCallback,this)}a.hasOwnProperty(h)&&this._setupParents(a[h],this.attributes[h])},this);return f.set.call(this,a,d)},_bubbleEvent:function(a,b,d){var e=d[0].split(":"),
h=e[0],f="nested-change"==d[0],m="change"===h,k=d[1],p=-1,n=b._proxyCalls,e=e[1],r=!e||-1==e.indexOf(s),q;if(!f&&(r&&(u=w(d[0])||a),l.Associations.EVENTS_NC||A[u])){if(l.Associations.EVENTS_WILDCARD&&/\[\*\]/g.test(e))return this;b instanceof c&&(m||e)&&(p=b.indexOf(v||k));this instanceof g&&(v=this);e=a+(-1!==p&&(m||e)?"["+p+"]":"")+(e?s+e:"");l.Associations.EVENTS_WILDCARD&&(q=e.replace(/\[\d+\]/g,"[*]"));f=[];f.push.apply(f,d);f[0]=h+":"+e;l.Associations.EVENTS_WILDCARD&&e!==q&&(f[0]=f[0]+" "+
h+":"+q);n=b._proxyCalls=n||{};if(this._isEventAvailable.call(this,n,e))return this;n[e]=!0;m&&(this._previousAttributes[a]=b._previousAttributes,this.changed[a]=b);this.trigger.apply(this,f);l.Associations.EVENTS_NC&&m&&this.get(e)!=d[2]&&(a=["nested-change",e,d[1]],d[2]&&a.push(d[2]),this.trigger.apply(this,a));n&&e&&delete n[e];v=void 0;return this}},_isEventAvailable:function(a,b){return k.find(a,function(a,c){return-1!==b.indexOf(c,b.length-c.length)})},_setupParents:function(a,b){a&&(a.parents=
a.parents||[],-1==k.indexOf(a.parents,this)&&a.parents.push(this));b&&0<b.parents.length&&b!=a&&(b.parents=k.difference(b.parents,[this]),b._proxyCallback&&b.off("all",b._proxyCallback,this))},_createCollection:function(a,b){b=k.defaults(b,{model:a.model});var c=new a([],k.isFunction(b)?b.call(this):b);c.parents=[this];return c},_processPendingEvents:function(){this._processedEvents||(this._processedEvents=!0,this._deferEvents=!1,k.each(this._pendingEvents,function(a){a.c.trigger.apply(a.c,a.a)}),
this._pendingEvents=[],k.each(this.relations,function(a){(a=this.attributes[a.key])&&a._processPendingEvents&&a._processPendingEvents()},this),delete this._processedEvents)},_transformRelatedModel:function(a,c){var d=a.relatedModel,e=a.scope||b;!d||d.prototype instanceof g||(d=k.isFunction(d)?d.call(this,a,c):d);d&&k.isString(d)&&(d=d===l.Self?this.constructor:B(d,e));if(a.type===l.One){if(!d)throw Error("specify a relatedModel for Backbone.One type");if(!(d.prototype instanceof l.Model))throw Error("specify an AssociatedModel or Backbone.Model for Backbone.One type");
}return d},_transformCollectionType:function(a,d,e){var h=a.collectionType,f=a.scope||b;if(h&&k.isFunction(h)&&h.prototype instanceof g)throw Error("type is of Backbone.Model. Specify derivatives of Backbone.Collection");!h||h.prototype instanceof c||(h=k.isFunction(h)?h.call(this,a,e):h);h&&k.isString(h)&&(h=B(h,f));if(h&&!h.prototype instanceof c)throw Error("collectionType must inherit from Backbone.Collection");if(a.type===l.Many&&!d&&!h)throw Error("specify either a relatedModel or collectionType");
return h},trigger:function(a){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):f.trigger.apply(this,arguments)},toJSONFull:function(a){var b={},c;b[this.idAttribute]=this.id;this.visited||(this.visited=!0,b=f.toJSON.apply(this,arguments),a&&a.serialize_keys&&(b=k.pick(b,a.serialize_keys)),this.relations&&k.each(this.relations,function(d){var e=d.key,h=d.remoteKey,f=this.attributes[e],g=!d.isTransient;d=d.serialize||[];var m=k.clone(a);
delete b[e];g&&(d.length&&m&&(m.serialize_keys=d),c=null,c=f&&f.toJSONFull?f.toJSONFull():f&&f.toJSON?f.toJSON():f,b[h||e]=k.isArray(c)?k.compact(c):c)},this),delete this.visited);return b},toJSON:function(a){var b={},c;b[this.idAttribute]=this.id;this.visited||(this.visited=!0,b=f.toJSON.apply(this,arguments),a&&a.serialize_keys&&(b=k.pick(b,a.serialize_keys)),this.relations&&k.each(this.relations,function(d){var e=d.key,h=d.remoteKey,f=this.attributes[e],g=!d.isTransient,m=d.serialize||[];d=d.customSerialize;
var p=k.clone(a);delete b[e];g&&(d?b[h||e]=d(f):(m.length&&(p?p.serialize_keys=m:p={serialize_keys:m}),c=f&&f.toJSON?f.toJSON(p):f,b[h||e]=k.isArray(c)?k.compact(c):c))},this),delete this.visited);return b},clone:function(a){return new this.constructor(this.toJSON(a))},cleanup:function(a){a=a||{};k.each(this.relations,function(a){if(a=this.attributes[a.key])a._proxyCallback&&a.off("all",a._proxyCallback,this),a.parents=k.difference(a.parents,[this])},this);!a.listen&&this.off()},destroy:function(a){a=
a?k.clone(a):{};a=k.defaults(a,{remove_references:!0,listen:!0});var b=this;if(a.remove_references&&a.wait){var c=a.success;a.success=function(d){c&&c(b,d,a);b.cleanup(a)}}var d=f.destroy.apply(this,[a]);a.remove_references&&!a.wait&&b.cleanup(a);return d},_getAttr:function(a){var b=this,d=this.__attributes__;a=q(a);var e,h;if(!(1>k.size(a))){for(h=0;h<a.length;h++){e=a[h];if(!b)break;b=b instanceof c?isNaN(e)?void 0:b.at(e):d?b.attributes[e]||d[e]:b.attributes[e]}return b}}});var q=function(a){return""===
a?[""]:k.isString(a)?a.match(r):a||[]},w=function(a){if(!a)return a;a=a.split(":");return 1<a.length?(a=a[a.length-1],a=a.split(s),1<a.length?a[a.length-1].split("[")[0]:a[0].split("[")[0]):""},B=function(a,b){var c,d=[b];d.push.apply(d,l.Associations.scopes);for(var e,h=0,f=d.length;h<f;++h)if(e=d[h])if(c=k.reduce(a.split(s),function(a,b){return a[b]},e))break;return c},y=function(a,b,c){var d,e;k.find(a,function(a){if(d=k.find(a.relations,function(c){return a.get(c.key)===b},this))return e=a,!0},
this);return d&&d.map?d.map.call(e,c,b):c},P={};k.each(["set","remove","reset"],function(a){P[a]=c.prototype[a];e[a]=function(b,c){this.model.prototype instanceof p&&this.parents&&(arguments[0]=y(this.parents,this,b));return P[a].apply(this,arguments)}});P.trigger=e.trigger;e.trigger=function(a){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):P.trigger.apply(this,arguments)};e._processPendingEvents=p.prototype._processPendingEvents;e.on=
p.prototype.on;e.off=p.prototype.off;return l});
(function(b){function l(c,f){var g=this,e=c.attr("name")||f.name||"";this.options=f;this.$el=c.hide();this.$label=this.$el.closest("label");0===this.$label.length&&this.$el.attr("id")&&(this.$label=b(k('label[for="%s"]',this.$el.attr("id").replace(/:/g,"\\:"))));this.$parent=b(k('<div class="ms-parent %s" %s/>',"",k('title="%s"',c.attr("title"))));this.$choice=b(k('<button type="button" class="ms-choice form-control"><span class="placeholder">%s</span><div></div></button>',this.options.placeholder));
this.$drop=b(k('<div class="ms-drop %s"%s></div>',this.options.position,k(' style="width: %s"',this.options.dropWidth)));this.$el.after(this.$parent);this.$parent.append(this.$choice);this.$parent.append(this.$drop);this.$el.prop("disabled")&&this.$choice.addClass("disabled");this.$parent.css("width",this.options.width||this.$el.css("width")||this.$el.outerWidth()+20);this.selectAllName='data-name="selectAll'+e+'"';this.selectGroupName='data-name="selectGroup'+e+'"';this.selectItemName='data-name="selectItem'+
e+'"';this.options.keepOpen||b(document).click(function(e){b(e.target)[0]!==g.$choice[0]&&b(e.target).parents(".ms-choice")[0]!==g.$choice[0]&&(b(e.target)[0]===g.$drop[0]||b(e.target).parents(".ms-drop")[0]!==g.$drop[0]&&e.target!==c[0])&&g.options.isOpen&&g.close()})}var k=function(b){var f=arguments,g=!0,e=1;b=b.replace(/%s/g,function(){var b=f[e++];return"undefined"===typeof b?(g=!1,""):b});return g?b:""},g=function(b){for(var f=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},
{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",
letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},
{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},
{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},
{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",
letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},
{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},
{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},
{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},
{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},
{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},
{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},
{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},
{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],g=0;g<f.length;g++)b=b.replace(f[g].letters,f[g].base);return b};l.prototype={constructor:l,init:function(){var c=this,f=b("<ul></ul>");this.$drop.html("");this.options.filter&&this.$drop.append('<div class="ms-search"><input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false"></div>');
this.options.selectAll&&!this.options.single&&f.append(['<li class="ms-select-all"><label>',k('<input type="checkbox" %s /> ',this.selectAllName),this.options.selectAllDelimiter[0],this.options.selectAllText,this.options.selectAllDelimiter[1],"</label></li>"].join(""));b.each(this.$el.children(),function(b,e){f.append(c.optionToHtml(b,e))});f.append(k('<li class="ms-no-results">%s</li>',this.options.noMatchesFound));this.$drop.append(f);this.$drop.find("ul").css("max-height",this.options.maxHeight+
"px");this.$drop.find(".multiple").css("width",this.options.multipleWidth+"px");this.$searchInput=this.$drop.find(".ms-search input");this.$selectAll=this.$drop.find("input["+this.selectAllName+"]");this.$selectGroups=this.$drop.find("input["+this.selectGroupName+"]");this.$selectItems=this.$drop.find("input["+this.selectItemName+"]:enabled");this.$disableItems=this.$drop.find("input["+this.selectItemName+"]:disabled");this.$noResults=this.$drop.find(".ms-no-results");this.events();this.updateSelectAll(!0);
this.update(!0);this.options.isOpen&&this.open()},optionToHtml:function(c,f,g,e){var p=this;f=b(f);var m=f.attr("class")||"",l=k('title="%s"',f.attr("title")),s=this.options.multiple?"multiple":"",v,u=this.options.single?"radio":"checkbox";if(f.is("option")){c=f.val();var A=p.options.textTemplate(f),a=f.prop("selected"),d=k('style="%s"',this.options.styler(c));v=e||f.prop("disabled");e=b([k('<li class="%s %s" %s %s>',s,m,l,d),k('<label class="%s">',v?"disabled":""),k('<input type="%s" %s%s%s%s>',
u,this.selectItemName,a?' checked="checked"':"",v?' disabled="disabled"':"",k(' data-group="%s"',g)),k("<span>%s</span>",A),"</label></li>"].join(""));e.find("input").val(c);return e}if(f.is("optgroup")){e=p.options.labelTemplate(f);var h=b("<div/>");g="group_"+c;v=f.prop("disabled");h.append(['<li class="group">',k('<label class="optgroup %s" data-group="%s">',v?"disabled":"",g),this.options.hideOptgroupCheckboxes||this.options.single?"":k('<input type="checkbox" %s %s>',this.selectGroupName,v?'disabled="disabled"':
""),e,"</label></li>"].join(""));b.each(f.children(),function(a,b){h.append(p.optionToHtml(a,b,g,v))});return h.html()}},events:function(){var c=this,f=function(b){b.preventDefault();c[c.options.isOpen?"close":"open"]()};if(this.$label)this.$label.off("click").on("click",function(b){"label"===b.target.nodeName.toLowerCase()&&b.target===this&&(f(b),c.options.filter&&c.options.isOpen||c.focus(),b.stopPropagation())});this.$choice.off("click").on("click",f).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",
this.options.onBlur);this.$parent.off("keydown").on("keydown",function(b){switch(b.which){case 27:c.close(),c.$choice.focus()}});this.$searchInput.off("keydown").on("keydown",function(b){9===b.keyCode&&b.shiftKey&&c.close()}).off("keyup").on("keyup",function(b){c.options.filterAcceptOnEnter&&(13===b.which||32==b.which)&&c.$searchInput.val()?(c.$selectAll.click(),c.close(),c.focus()):c.filter()});this.$selectAll.off("click").on("click",function(){var f=b(this).prop("checked"),e=c.$selectItems.filter(":visible");
if(e.length===c.$selectItems.length)c[f?"checkAll":"uncheckAll"]();else c.$selectGroups.prop("checked",f),e.prop("checked",f),c.options[f?"onCheckAll":"onUncheckAll"](),c.update()});this.$selectGroups.off("click").on("click",function(){var f=b(this).parent().attr("data-group"),f=c.$selectItems.filter(":visible").filter(k('[data-group="%s"]',f)),e=f.length!==f.filter(":checked").length;f.prop("checked",e);c.updateSelectAll();c.update();c.options.onOptgroupClick({label:b(this).parent().text(),checked:e,
children:f.get(),instance:c})});this.$selectItems.off("click").on("click",function(){c.updateSelectAll();c.update();c.updateOptGroupSelect();c.options.onClick({label:b(this).parent().text(),value:b(this).val(),checked:b(this).prop("checked"),instance:c});c.options.single&&c.options.isOpen&&!c.options.keepOpen&&c.close();if(c.options.single){var f=b(this).val();c.$selectItems.filter(function(){return b(this).val()!==f}).each(function(){b(this).prop("checked",!1)});c.update()}})},open:function(){if(!this.$choice.hasClass("disabled")){this.options.isOpen=
!0;this.$choice.find(">div").addClass("open");this.$drop[this.animateMethod("show")]();this.$selectAll.parent().show();this.$noResults.hide();this.$el.children().length||(this.$selectAll.parent().hide(),this.$noResults.show());if(this.options.container){var c=this.$drop.offset();this.$drop.appendTo(b(this.options.container));this.$drop.offset({top:c.top,left:c.left})}this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter());this.options.onOpen()}},close:function(){this.options.isOpen=
!1;this.$choice.find(">div").removeClass("open");this.$drop[this.animateMethod("hide")]();this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"}));this.options.onClose()},animateMethod:function(b){return{show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}}[b][this.options.animate]||b},update:function(c){var f=this.options.displayValues?this.getSelects():this.getSelects("text"),g=this.$choice.find(">span"),e=f.length;0===e?g.addClass("placeholder").html(this.options.placeholder):
this.options.allSelected&&e===this.$selectItems.length+this.$disableItems.length?g.removeClass("placeholder").html(this.options.allSelected):this.options.ellipsis&&e>this.options.minimumCountSelected?g.removeClass("placeholder").text(f.slice(0,this.options.minimumCountSelected).join(this.options.delimiter)+"..."):this.options.countSelected&&e>this.options.minimumCountSelected?g.removeClass("placeholder").html(this.options.countSelected.replace("#",f.length).replace("%",this.$selectItems.length+this.$disableItems.length)):
g.removeClass("placeholder").text(f.join(this.options.delimiter));this.options.addTitle&&g.prop("title",this.getSelects("text"));this.$el.val(this.getSelects()).trigger("change");this.$drop.find("li").removeClass("selected");this.$drop.find("input:checked").each(function(){b(this).parents("li").first().addClass("selected")});c||this.$el.trigger("change")},updateSelectAll:function(b){var f=this.$selectItems;b||(f=f.filter(":visible"));this.$selectAll.prop("checked",f.length&&f.length===f.filter(":checked").length);
if(!b&&this.$selectAll.prop("checked"))this.options.onCheckAll()},updateOptGroupSelect:function(){var c=this.$selectItems.filter(":visible");b.each(this.$selectGroups,function(f,g){var e=b(g).parent().attr("data-group"),e=c.filter(k('[data-group="%s"]',e));b(g).prop("checked",e.length&&e.length===e.filter(":checked").length)})},getSelects:function(c){var f=this,g=[],e=[];this.$drop.find(k("input[%s]:checked",this.selectItemName)).each(function(){g.push(b(this).parents("li").first().text());e.push(b(this).val())});
"text"===c&&this.$selectGroups.length&&(g=[],this.$selectGroups.each(function(){var c=[],e=b.trim(b(this).parent().text()),l=b(this).parent().data("group"),l=f.$drop.find(k('[%s][data-group="%s"]',f.selectItemName,l)),s=l.filter(":checked");if(s.length){c.push("[");c.push(e);if(l.length>s.length){var v=[];s.each(function(){v.push(b(this).parent().text())});c.push(": "+v.join(", "))}c.push("]");g.push(c.join(""))}}));return"text"===c?g:e},setSelects:function(c){var f=this;console.log(this);this.$selectItems.prop("checked",
!1);this.$disableItems.prop("checked",!1);b.each(c,function(b,c){f.$selectItems.filter(k('[value="%s"]',c)).prop("checked",!0);f.$disableItems.filter(k('[value="%s"]',c)).prop("checked",!0)});this.$selectAll.prop("checked",this.$selectItems.length===this.$selectItems.filter(":checked").length+this.$disableItems.filter(":checked").length);b.each(f.$selectGroups,function(c,e){var g=b(e).parent().attr("data-group"),g=f.$selectItems.filter('[data-group="'+g+'"]');b(e).prop("checked",g.length&&g.length===
g.filter(":checked").length)});this.update()},enable:function(){this.$choice.removeClass("disabled")},disable:function(){this.$choice.addClass("disabled")},checkAll:function(){this.$selectItems.prop("checked",!0);this.$selectGroups.prop("checked",!0);this.$selectAll.prop("checked",!0);this.update();this.options.onCheckAll()},uncheckAll:function(){this.$selectItems.prop("checked",!1);this.$selectGroups.prop("checked",!1);this.$selectAll.prop("checked",!1);this.update();this.options.onUncheckAll()},
focus:function(){this.$choice.focus();this.options.onFocus()},blur:function(){this.$choice.blur();this.options.onBlur()},refresh:function(){this.init()},filter:function(){var c=this,f=b.trim(this.$searchInput.val()).toLowerCase();0===f.length?(this.$selectAll.parent().show(),this.$selectItems.parent().show(),this.$disableItems.parent().show(),this.$selectGroups.parent().show(),this.$noResults.hide()):(this.$selectItems.each(function(){var c=b(this).parent();c[0>g(c.text().toLowerCase()).indexOf(g(f))?
"hide":"show"]()}),this.$disableItems.parent().hide(),this.$selectGroups.each(function(){var f=b(this).parent(),e=f.attr("data-group"),g=c.$selectItems.filter(":visible");f[g.filter(k('[data-group="%s"]',e)).length?"show":"hide"]()}),this.$selectItems.parent().filter(":visible").length?(this.$selectAll.parent().show(),this.$noResults.hide()):(this.$selectAll.parent().hide(),this.$noResults.show()));this.updateOptGroupSelect();this.updateSelectAll();this.options.onFilter(f)}};b.fn.multipleSelect=function(){var c=
arguments[0],f=arguments,g,e="getSelects setSelects enable disable open close checkAll uncheckAll focus blur refresh close".split(" ");this.each(function(){var k=b(this),m=k.data("multipleSelect"),r=b.extend({},b.fn.multipleSelect.defaults,k.data(),"object"===typeof c&&c);m||(m=new l(k,r),k.data("multipleSelect",m));if("string"===typeof c){if(0>b.inArray(c,e))throw"Unknown method: "+c;g=m[c](f[1])}else m.init(),f[1]&&(g=m[f[1]].apply(m,[].slice.call(f,2)))});return"undefined"!==typeof g?g:this};b.fn.multipleSelect.defaults=
{name:"",isOpen:!1,placeholder:"",selectAll:!0,selectAllDelimiter:["[","]"],minimumCountSelected:3,ellipsis:!1,multiple:!1,multipleWidth:80,single:!1,filter:!1,width:void 0,dropWidth:void 0,maxHeight:250,container:null,position:"bottom",keepOpen:!1,animate:"none",displayValues:!1,delimiter:", ",addTitle:!1,filterAcceptOnEnter:!1,hideOptgroupCheckboxes:!1,selectAllText:"Select all",allSelected:"All selected",countSelected:"# of % selected",noMatchesFound:"No matches found",styler:function(){return!1},
textTemplate:function(b){return b.html()},labelTemplate:function(b){return b.attr("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1}}})(jQuery);
(function(b,l){"function"===typeof define&&define.amd?define(["underscore","backbone","jquery"],l):"undefined"!==typeof exports?module.exports=l(require("underscore"),require("backbone"),require("backbone").$):l(b._,b.Backbone,b.jQuery||b.Zepto||b.$)})(this,function(b,l,k){function g(c){var f=[];if(!b.isArray(c))throw Error("Option declarations must be an array.");b.each(c,function(c){var e,g,k;g=!1;k=void 0;if(b.isString(c))e=c;else if(b.isObject(c))e=b.first(b.keys(c)),k=b.clone(c[e]);else throw Error("Each element in the option declarations array must be either a string or an object.");
"!"===e[e.length-1]&&(g=!0,e=e.slice(0,e.length-1));f.push({name:e,required:g,defaultValue:k})});return f}var c=l.View,f="collection modelView modelViewOptions itemTemplate selectableModelsFilter sortableModelsFilter visibleModelsFilter itemTemplateFunction detachedRendering sortableOptions".split(" "),n={background:"transparent",border:"none","box-shadow":"none"};l.CollectionView=l.View.extend({tagName:"ul",events:{"mousedown li, td":"_listItem_onMousedown","dblclick li, td":"_listItem_onDoubleClick",
click:"_listBackground_onClick","click ul.collection-list, table.collection-list":"_listBackground_onClick",keydown:"_onKeydown"},spawnMessages:{focus:"focus"},passMessages:{"*":"."},initializationOptions:[{collection:new l.Collection},{modelView:null},{modelViewOptions:{}},{itemTemplate:null},{itemTemplateFunction:null},{selectable:!0},{clickToSelect:!0},{selectableModelsFilter:null},{visibleModelsFilter:null},{sortableModelsFilter:null},{selectMultiple:!1},{clickToToggle:!1},{processKeyEvents:!0},
{sortable:!1},{sortableOptions:null},{detachedRendering:!1},{emptyListCaption:null}],initialize:function(b){l.ViewOptions.add(this,"initializationOptions");this.setOptions(b);this._hasBeenRendered=!1;this._isBackboneCourierAvailable()&&l.Courier.add(this);this.$el.data("view",this);this.$el.addClass("collection-list");this.selectable&&this.$el.addClass("selectable");this.processKeyEvents&&this.$el.attr("tabindex",0);this.selectedItems=[];this._updateItemTemplate();this.collection&&this._registerCollectionEvents();
this.viewManager=new ChildViewContainer},onOptionsChanged:function(c,g){var m=!1,k=this;b.each(b.keys(c),function(l){var n=c[l],u=g[l];switch(l){case "collection":n!==u&&(k.stopListening(u),k._registerCollectionEvents());break;case "selectMultiple":!n&&1<k.selectedItems.length&&k.setSelectedModel(b.first(k.selectedItems),{by:"cid"});break;case "selectable":!n&&0<k.selectedItems.length&&k.setSelectedModels([]);break;case "selectableModelsFilter":n&&b.isFunction(n)&&k._validateSelection();break;case "itemTemplate":k._updateItemTemplate();
break;case "processKeyEvents":n&&k.$el.attr("tabindex",0);break;case "modelView":k.viewManager.each(function(b){k.viewManager.remove(b);b.remove()})}b.contains(f,l)&&(m=!0)});this._hasBeenRendered&&m&&this.render()},setOption:function(b,c){var f={};f[b]=c;this.setOptions(f)},getSelectedModel:function(c){return b.first(this.getSelectedModels(c))},getSelectedModels:function(c){var f=this;c=b.extend({},{by:"model"},c);var g=[];switch(c.by){case "id":b.each(this.selectedItems,function(b){g.push(f.collection.get(b).id)});
break;case "cid":g=g.concat(this.selectedItems);break;case "offset":var l=0;this._getVisibleItemEls().each(function(){k(this).is(".selected")&&g.push(l);l++});break;case "model":b.each(this.selectedItems,function(b){g.push(f.collection.get(b))});break;case "view":b.each(this.selectedItems,function(b){g.push(f.viewManager.findByModel(f.collection.get(b)))})}return g},setSelectedModels:function(c,f){if(!b.isArray(c))throw"Invalid parameter value";if(this.selectable||!(0<c.length)){f=b.extend({},{silent:!1,
by:"model"},f);var g=[];switch(f.by){case "cid":g=c;break;case "id":this.collection.each(function(f){b.contains(c,f.id)&&g.push(f.cid)});break;case "model":g=b.pluck(c,"cid");break;case "view":b.each(c,function(b){g.push(b.model.cid)});break;case "offset":var l=0;this._getVisibleItemEls().each(function(){var f=k(this);b.contains(c,l)&&g.push(f.attr("data-model-cid"));l++})}var n=this.getSelectedModels(),v=b.clone(this.selectedItems);this.selectedItems=this._convertStringsToInts(g);this._validateSelection();
var u=this.getSelectedModels();this._containSameElements(v,this.selectedItems)||(this._addSelectedClassToSelectedItems(v),f.silent||(this.trigger("selectionChanged",u,n),this._isBackboneCourierAvailable()&&this.spawn("selectionChanged",{selectedModels:u,oldSelectedModels:n})),this.updateDependentControls())}},setSelectedModel:function(b,c){b||0===b?this.setSelectedModels([b],c):this.setSelectedModels([],c)},render:function(){var c=this;this._hasBeenRendered=!0;this.selectable&&this._saveSelection();
var f;f=this._getContainerEl();var g=this.viewManager;this.viewManager=new ChildViewContainer;g.each(function(b){c.collection.get(b.model.cid)?b.$el.detach():b.remove()});f.empty();var k;this.detachedRendering&&(k=document.createDocumentFragment());this.collection.each(function(c){var e=g.findByModelCid(c.cid);b.isUndefined(e)&&(e=this._createNewModelView(c,this._getModelViewOptions(c)));this._insertAndRenderModelView(e,k||f)},this);this.detachedRendering&&f.append(k);if(this.sortable){var l=b.extend({distance:10,
forcePlaceholderSize:!0,start:b.bind(this._sortStart,this),change:b.bind(this._sortChange,this),stop:b.bind(this._sortStop,this),receive:b.bind(this._receive,this),over:b.bind(this._over,this)},b.result(this,"sortableOptions"));c._isRenderedAsTable()?l.items="> tbody > tr:not(.not-sortable)":c._isRenderedAsList()&&(l.items="> li:not(.not-sortable)");this.$el=this.$el.sortable(l)}this._showEmptyListCaptionIfAppropriate();this.trigger("render");this._isBackboneCourierAvailable()&&this.spawn("render");
this.selectable&&(this._restoreSelection(),this.updateDependentControls());if(b.isFunction(this.onAfterRender))this.onAfterRender()},_showEmptyListCaptionIfAppropriate:function(){if(this.emptyListCaption&&0===this._getVisibleItemEls().length){var c;c=b.isFunction(this.emptyListCaption)?this.emptyListCaption():this.emptyListCaption;c=k("<var class='empty-list-caption'>"+c+"</var>");$emptyListCaptionEl=this._isRenderedAsList()?c.wrapAll("<li class='not-sortable'></li>").parent().css(n):c.wrapAll("<tr class='not-sortable'><td></td></tr>").parent().parent().css(n);
this._getContainerEl().append($emptyListCaptionEl)}},_removeEmptyListCaption:function(){this._isRenderedAsList()?this._getContainerEl().find("> li > var.empty-list-caption").parent().remove():this._getContainerEl().find("> tr > td > var.empty-list-caption").parent().parent().remove()},_insertAndRenderModelView:function(c,f,g){var k=this._wrapModelView(c);11===f.nodeType?f.appendChild(k.get(0)):!b.isUndefined(g)&&0<=g&&g<this.collection.length-1?f.children().eq(g).before(k):f.append(k);!1===c.render()&&
(k.hide(),k.addClass("not-visible"));f=!1;b.isFunction(this.visibleModelsFilter)&&(f=!this.visibleModelsFilter(c.model))&&(1===k.children().length?k.hide():c.$el.hide(),k.addClass("not-visible"));!f&&this.emptyListCaption&&this._removeEmptyListCaption();this.viewManager.add(c)},updateDependentControls:function(){this.trigger("updateDependentControls",this.getSelectedModels());this._isBackboneCourierAvailable()&&this.spawn("updateDependentControls",{selectedModels:this.getSelectedModels()})},remove:function(){this.viewManager.each(function(b){b.remove()});
l.View.prototype.remove.apply(this,arguments)},_removeModelView:function(b){var c=this.viewManager,f=c.findByModelCid(b.cid);this.selectable&&this._saveSelection();c.remove(f);f.remove();this._getContainerEl().children("[data-model-cid="+b.cid+"]").remove();this.selectable&&this._restoreSelection();this._showEmptyListCaptionIfAppropriate()},_validateSelectionAndRender:function(){this._validateSelection();this.render()},_registerCollectionEvents:function(){this.listenTo(this.collection,"add",function(b){this.trigger("before:add");
if(this._hasBeenRendered){var c=this._createNewModelView(b,this._getModelViewOptions(b));this._insertAndRenderModelView(c,this._getContainerEl(),this.collection.indexOf(b))}this._isBackboneCourierAvailable()&&this.spawn("add")});this.listenTo(this.collection,"remove",function(b){this.trigger("before:remove");this._hasBeenRendered&&this._removeModelView(b);this._isBackboneCourierAvailable()&&this.spawn("remove")});this.listenTo(this.collection,"reset",function(){this.trigger("before:reset");this._hasBeenRendered&&
this.render();this._isBackboneCourierAvailable()&&this.spawn("reset")});this.listenTo(this.collection,"sort",function(b,c){this.trigger("before:sort");this._hasBeenRendered&&!0!==c.add&&this.render();this._isBackboneCourierAvailable()&&this.spawn("sort")})},_getContainerEl:function(){if(this._isRenderedAsTable()){var b=this.$el.find("> tbody");if(0<b.length)return b}return this.$el},_getClickedItemId:function(b){var c=null;b=k(b.currentTarget);if(b.closest(".collection-list").get(0)===this.$el.get(0))return b=
b.closest("[data-model-cid]"),0<b.length&&(c=b.attr("data-model-cid"),k.isNumeric(c)&&(c=parseInt(c,10))),c},_updateItemTemplate:function(){var c;if(this.itemTemplate){if(0===k(this.itemTemplate).length)throw"Could not find item template from selector: "+this.itemTemplate;c=k(this.itemTemplate).html()}else c=this.$(".item-template").html();c&&(this.itemTemplateFunction=b.template(c))},_validateSelection:function(){var c=b.pluck(this.collection.models,"cid");this.selectedItems=b.intersection(c,this.selectedItems);
b.isFunction(this.selectableModelsFilter)&&(this.selectedItems=b.filter(this.selectedItems,function(b){return this.selectableModelsFilter.call(this,this.collection.get(b))},this))},_saveSelection:function(){if(!this.selectable)throw"Attempt to save selection on non-selectable list";this.savedSelection={items:b.clone(this.selectedItems),offset:this.getSelectedModel({by:"offset"})}},_restoreSelection:function(){if(!this.savedSelection)throw"Attempt to restore selection but no selection has been saved!";
this.setSelectedModels([],{silent:!0});0<this.savedSelection.items.length&&(this.setSelectedModels(this.savedSelection.items,{by:"cid",silent:!0}),0===this.selectedItems.length&&this.setSelectedModel(this.savedSelection.offset,{by:"offset"}),this.selectedItems.length!==this.savedSelection.items.length&&(this.trigger("selectionChanged",this.getSelectedModels(),[]),this._isBackboneCourierAvailable()&&this.spawn("selectionChanged",{selectedModels:this.getSelectedModels(),oldSelectedModels:[]})));delete this.savedSelection},
_addSelectedClassToSelectedItems:function(c){b.isUndefined(c)&&(c=[]);var f;f=b.without(c,this.selectedItems);b.each(f,function(b){this._getContainerEl().find("[data-model-cid="+b+"]").removeClass("selected")},this);f=this.selectedItems;f=b.without(f,c);b.each(f,function(b){this._getContainerEl().find("[data-model-cid="+b+"]").addClass("selected")},this)},_reorderCollectionBasedOnHTML:function(){var b=this;this._getContainerEl().children().each(function(){var c=k(this).attr("data-model-cid");c&&(c=
b.collection.get(c))&&(b.collection.remove(c,{silent:!0}),b.collection.add(c,{silent:!0,sort:!b.collection.comparator}))});this.collection.trigger("reorder");this._isBackboneCourierAvailable()&&this.spawn("reorder");this.collection.comparator&&this.collection.sort()},_getModelViewConstructor:function(b){return this.modelView||c},_getModelViewOptions:function(c){return b.extend({model:c},this.modelViewOptions)},_createNewModelView:function(c,f){var g=this._getModelViewConstructor(c);if(b.isUndefined(g))throw"Could not find modelView constructor for model";
g=new g(f);g.collectionListView=this;return g},_wrapModelView:function(c){var f;this._isRenderedAsTable()?f=c.$el.attr("data-model-cid",c.model.cid):this._isRenderedAsList()&&(f="li"===c.$el.prop("tagName").toLowerCase()?c.$el.attr("data-model-cid",c.model.cid):c.$el.wrapAll("<li data-model-cid='"+c.model.cid+"'></li>").parent());b.isFunction(this.sortableModelsFilter)&&(this.sortableModelsFilter.call(this,c.model)||f.addClass("not-sortable"));b.isFunction(this.selectableModelsFilter)&&(this.selectableModelsFilter.call(this,
c.model)||f.addClass("not-selectable"));return f},_convertStringsToInts:function(c){return b.map(c,function(c){if(!b.isString(c))return c;var e=parseInt(c,10);return e==c?e:c})},_containSameElements:function(c,f){return c.length!=f.length?!1:b.intersection(c,f).length==c.length},_isRenderedAsTable:function(){return"table"===this.$el.prop("tagName").toLowerCase()},_isRenderedAsList:function(){return!this._isRenderedAsTable()},_getVisibleItemEls:function(){var b=[];return b=this._getContainerEl().find("> [data-model-cid]:not(.not-visible)")},
_charCodes:{upArrow:38,downArrow:40},_isBackboneCourierAvailable:function(){return!b.isUndefined(l.Courier)},_sortStart:function(b,c){c.item.tooltip("hide");c.item.tooltip("disable");c.placeholder.height(c.item.outerHeight());var f=this.collection.get(c.item.attr("data-model-cid"));this.trigger("sortStart",f);this._isBackboneCourierAvailable()&&this.spawn("sortStart",{modelBeingSorted:f})},_sortChange:function(b,c){var f=this.collection.get(c.item.attr("data-model-cid"));this.trigger("sortChange",
f);this._isBackboneCourierAvailable()&&this.spawn("sortChange",{modelBeingSorted:f})},_sortStop:function(b,c){c.item.tooltip("enable");var f=this.collection.get(c.item.attr("data-model-cid")),g=this._getContainerEl().children().index(c.item);-1==g&&this.collection.remove(f);this._reorderCollectionBasedOnHTML();this.updateDependentControls();this.trigger("sortStop",f,g);this._isBackboneCourierAvailable()&&this.spawn("sortStop",{modelBeingSorted:f,newIndex:g})},_receive:function(b,c){var f=c.sender,
g=this._getContainerEl(),k=null,l=null,k=this.collection.useCustomAdd?this.collection.useCustomAdd(c):!1;if(this.collection.customAdd&&k&&"function"===typeof this.collection.customAdd){f=this.collection.customAdd(g);if(!f)return;k=f.modelToAdd;l=f.newIndex;this.collection.add(k,{at:l})}else{f=f.data("view");if(!f||!f.collection)return;l=this._getContainerEl().children().index(c.item);k=f.collection.get(c.item.attr("data-model-cid"));this.collection.add(k,{at:l});f.collection.remove(k)}k.collection=
this.collection;this.setSelectedModel(k);this.trigger("sortReceive")},_over:function(b,c){this._getContainerEl().find("> var.empty-list-caption").hide()},_onKeydown:function(b){if(!this.processKeyEvents)return!0;var c=!1;if(1==this.getSelectedModels({by:"offset"}).length){var f=this.getSelectedModel({by:"offset"});b.which===this._charCodes.upArrow&&0!==f?(this.setSelectedModel(f-1,{by:"offset"}),c=!0):b.which===this._charCodes.downArrow&&f!==this.collection.length-1&&(this.setSelectedModel(f+1,{by:"offset"}),
c=!0)}return!c},_listItem_onMousedown:function(c){if(this.selectable&&this.clickToSelect){var f=this._getClickedItemId(c);if(f){if(!b.isFunction(this.selectableModelsFilter)||this.selectableModelsFilter.call(this,this.collection.get(f)))if(this.selectMultiple&&c.shiftKey){var g=-1;0<this.selectedItems.length&&this.collection.find(function(c){g++;return b.contains(this.selectedItems,c.cid)},this);var k=-1;this.collection.find(function(b){k++;return b.cid==f},this);var l=-1==g?k:g;c=Math.min(k,l);for(var l=
Math.max(k,l),n=[];c<=l;c++)n.push(this.collection.at(c).cid);this.setSelectedModels(n,{by:"cid"});document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(c=window.getSelection())&&c.removeAllRanges&&c.removeAllRanges()}else this.selectMultiple&&(this.clickToToggle||c.metaKey)?b.contains(this.selectedItems,f)?this.setSelectedModels(b.without(this.selectedItems,f),{by:"cid"}):this.setSelectedModels(b.union(this.selectedItems,f),{by:"cid"}):this.setSelectedModels([f],
{by:"cid"})}else this.setSelectedModels([])}},_listItem_onDoubleClick:function(b){if(b=this._getClickedItemId(b))b=this.collection.get(b),this.trigger("doubleClick",b),this._isBackboneCourierAvailable()&&this.spawn("doubleClick",{clickedModel:b})},_listBackground_onClick:function(b){this.selectable&&k(b.target).is(".collection-list")&&this.setSelectedModels([])}},{setDefaultModelViewConstructor:function(b){c=b}});l.ViewOptions={};l.ViewOptions.add=function(c,f){b.isUndefined(f)&&(f="options");c.setOptions=
function(c){var e=this,k={},l={},n=b.result(this,f);b.isUndefined(n)||(n=g(n),b.each(n,function(f){thisOptionName=f.name;thisOptionRequired=f.required;thisOptionDefaultValue=f.defaultValue;if(thisOptionRequired&&(!c||!b.contains(b.keys(c),thisOptionName)&&b.isUndefined(e[thisOptionName])||b.isUndefined(c[thisOptionName])))throw Error('Required option "'+thisOptionName+'" was not supplied.');c&&thisOptionName in c?(b.isUndefined(e[thisOptionName])||(l[thisOptionName]=e[thisOptionName],k[thisOptionName]=
c[thisOptionName]),e[thisOptionName]=c[thisOptionName]):!b.isUndefined(thisOptionDefaultValue)&&b.isUndefined(e[thisOptionName])&&(e[thisOptionName]=thisOptionDefaultValue)}));if(0<b.keys(k).length)if(b.isFunction(e.onOptionsChanged))e.onOptionsChanged(k,l);else b.isFunction(e._onOptionsChanged)&&e._onOptionsChanged(k,l)};c.getOptions=function(){var c=b.result(this,f);if(b.isUndefined(c))return[];c=g(c);c=b.pluck(c,"name");return b.pick(this,c)}};ChildViewContainer=function(b,c){var f=function(b){this._views=
{};this._indexByModel={};this._indexByCustom={};this._updateLength();c.each(b,this.add,this)};c.extend(f.prototype,{add:function(b,c){var e=b.cid;this._views[e]=b;b.model&&(this._indexByModel[b.model.cid]=e);c&&(this._indexByCustom[c]=e);this._updateLength()},findByModel:function(b){return this.findByModelCid(b.cid)},findByModelCid:function(b){return this.findByCid(this._indexByModel[b])},findByCustom:function(b){return this.findByCid(this._indexByCustom[b])},findByIndex:function(b){return c.values(this._views)[b]},
findByCid:function(b){return this._views[b]},findIndexByCid:function(b){var e=-1;return c.find(this._views,function(c){e++;if(c.model.cid==b)return c})?e:-1},remove:function(b){var e=b.cid;b.model&&delete this._indexByModel[b.model.cid];c.any(this._indexByCustom,function(b,c){if(b===e)return delete this._indexByCustom[c],!0},this);delete this._views[e];this._updateLength()},call:function(b){this.apply(b,c.tail(arguments))},apply:function(b,e){c.each(this._views,function(f){c.isFunction(f[b])&&f[b].apply(f,
e||[])})},_updateLength:function(){this.length=c.size(this._views)}});c.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(b){f.prototype[b]=function(){var e=[c.values(this._views)].concat(c.toArray(arguments));return c[b].apply(c,e)}});return f}(l,b);return l.CollectionView});
Backbone.Validation=function(b){var l={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},k={formatLabel:function(b,c){return p[l.labelFormatter](b,c)},format:function(){var b=Array.prototype.slice.call(arguments);return b.shift().replace(/\{(\d+)\}/g,function(c,e){return"undefined"!=typeof b[e]?b[e]:c})}},g=function(c,e,f){return e=e||{},f=f||"",b.each(c,function(b,m){c.hasOwnProperty(m)&&(!b||"object"!=typeof b||b instanceof Array||
b instanceof Date||b instanceof RegExp||b instanceof Backbone.Model||b instanceof Backbone.Collection?e[f+m]=b:g(b,e,f+m+"."))}),e},c=function(){var c=function(a){return b.reduce(b.keys(b.result(a,"validation")||{}),function(a,b){return a[b]=void 0,a},{})},e=function(a,c){var d=a.validation?b.result(a,"validation")[c]||{}:{};return(b.isFunction(d)||b.isString(d))&&(d={fn:d}),b.isArray(d)||(d=[d]),b.reduce(d,function(a,c){return b.each(b.without(b.keys(c),"msg"),function(b){a.push({fn:m[b],val:c[b],
msg:c.msg})}),a},[])},p=function(a,c,d,h){return b.reduce(e(a,c),function(e,f){var g=b.extend({},k,m),g=f.fn.call(g,d,c,f.val,a,h);return!1===g||!1===e?!1:g&&!e?b.result(f,"msg")||g:e},"")},n=function(a,c){var d,e={},h=!0,f=b.clone(c),m=g(c);return b.each(m,function(b,c){(d=p(a,c,b,f))&&(e[c]=d,h=!1)}),{invalidAttrs:e,isValid:h}},A=function(a,d){return{preValidate:function(a,c){var d,e=this,h={};return b.isObject(a)?(b.each(a,function(a,b){(d=e.preValidate(b,a))&&(h[b]=d)}),b.isEmpty(h)?void 0:h):
p(this,a,c,b.extend({},this.attributes))},isValid:function(a){var c=g(this.attributes);return b.isString(a)?!p(this,a,c[a],b.extend({},this.attributes)):b.isArray(a)?b.reduce(a,function(a,d){return a&&!p(this,d,c[d],b.extend({},this.attributes))},!0,this):(!0===a&&this.validate(),this.validation?this._isValid:!0)},validate:function(e,h){var f=this,m=!e,k=b.extend({},d,h),p=c(f),l=b.extend({},p,f.attributes,e),s=g(e||l),v=n(f,l);return f._isValid=v.isValid,b.each(p,function(b,c){v.invalidAttrs.hasOwnProperty(c)||
k.valid(a,c,k.selector)}),b.each(p,function(b,c){var d=v.invalidAttrs.hasOwnProperty(c),e=s.hasOwnProperty(c);d&&(e||m)&&k.invalid(a,c,v.invalidAttrs[c],k.selector)}),b.defer(function(){f.trigger("validated",f._isValid,f,v.invalidAttrs);f.trigger("validated:"+(f._isValid?"valid":"invalid"),f,v.invalidAttrs)}),!k.forceUpdate&&0<b.intersection(b.keys(v.invalidAttrs),b.keys(s)).length?v.invalidAttrs:void 0}}},a=function(a){delete a.validate;delete a.preValidate;delete a.isValid},d=function(a){b.extend(a,
A(this.view,this.options))},h=function(b){a(b)};return{version:"0.9.1",configure:function(a){b.extend(l,a)},bind:function(a,c){c=b.extend({},l,f,c);var e=c.model||a.model,g=c.collection||a.collection;if("undefined"==typeof e&&"undefined"==typeof g)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";e?b.extend(e,A(a,c)):g&&(g.each(function(d){b.extend(d,A(a,c))}),
g.bind("add",d,{view:a,options:c}),g.bind("remove",h))},unbind:function(c,e){e=b.extend({},e);var f=e.model||c.model,g=e.collection||c.collection;f?a(f):g&&(g.each(function(b){a(b)}),g.unbind("add",d),g.unbind("remove",h))},mixin:A(null,l)}}(),f=c.callbacks={valid:function(b,c,e){b.$("["+e+'~="'+c+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(b,c,e,f){b.$("["+f+'~="'+c+'"]').addClass("invalid").attr("data-error",e)}},n=c.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,
email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},
e=c.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",
number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},p=c.labelFormatters={none:function(b){return b},sentenceCase:function(b){return b.replace(/(?:^\w|[A-Z]|\b\w)/g,function(b,c){return 0===c?b.toUpperCase():" "+b.toLowerCase()}).replace(/_/g," ")},label:function(b,c){return c.labels&&c.labels[b]||p.sentenceCase(b,c)}},m=c.validators=function(){var c=String.prototype.trim?function(b){return null===b?"":String.prototype.trim.call(b)}:
function(b){var c=/^\s+/,a=/\s+$/;return null===b?"":b.toString().replace(c,"").replace(a,"")},f=function(c){return b.isNumber(c)||b.isString(c)&&c.match(n.number)},g=function(e){return!(b.isNull(e)||b.isUndefined(e)||b.isString(e)&&""===c(e)||b.isArray(e)&&b.isEmpty(e))};return{fn:function(c,e,a,d,h){return b.isString(a)&&(a=d[a]),a.call(d,c,e,h)},required:function(c,f,a,d,h){return(a=b.isFunction(a)?a.call(d,c,f,h):a)||g(c)?a&&!g(c)?this.format(e.required,this.formatLabel(f,d)):void 0:!1},acceptance:function(c,
f,a,d){return"true"===c||b.isBoolean(c)&&!1!==c?void 0:this.format(e.acceptance,this.formatLabel(f,d))},min:function(b,c,a,d){return!f(b)||a>b?this.format(e.min,this.formatLabel(c,d),a):void 0},max:function(b,c,a,d){return!f(b)||b>a?this.format(e.max,this.formatLabel(c,d),a):void 0},range:function(b,c,a,d){return!f(b)||b<a[0]||b>a[1]?this.format(e.range,this.formatLabel(c,d),a[0],a[1]):void 0},length:function(c,f,a,d){return b.isString(c)&&c.length===a?void 0:this.format(e.length,this.formatLabel(f,
d),a)},minLength:function(c,f,a,d){return!b.isString(c)||c.length<a?this.format(e.minLength,this.formatLabel(f,d),a):void 0},maxLength:function(c,f,a,d){return!b.isString(c)||c.length>a?this.format(e.maxLength,this.formatLabel(f,d),a):void 0},rangeLength:function(c,f,a,d){return!b.isString(c)||c.length<a[0]||c.length>a[1]?this.format(e.rangeLength,this.formatLabel(f,d),a[0],a[1]):void 0},oneOf:function(c,f,a,d){return b.include(a,c)?void 0:this.format(e.oneOf,this.formatLabel(f,d),a.join(", "))},
equalTo:function(b,c,a,d,h){return b!==h[a]?this.format(e.equalTo,this.formatLabel(c,d),this.formatLabel(a,d)):void 0},pattern:function(b,c,a,d){return g(b)&&b.toString().match(n[a]||a)?void 0:this.format(e[a]||e.inlinePattern,this.formatLabel(c,d),a)}}}();return b.each(m,function(c,e){m[e]=b.bind(m[e],b.extend({},k,m))}),c}(_);
(function(b,l){"function"===typeof define&&define.amd?define(["exports","backbone","underscore"],l):"undefined"!==typeof exports?l(exports,require("backbone"),require("underscore")):l(b,b.Backbone,b._)})(this,function(b,l,k){l.Tastypie={doGetOnEmptyPostResponse:!0,doGetOnEmptyPutResponse:!1,apiKey:{username:"",key:""},csrfToken:""};l.oldSync=l.sync;l.sync=function(b,f,g){var e={};l.Tastypie.apiKey&&l.Tastypie.apiKey.username&&(e.Authorization="ApiKey "+l.Tastypie.apiKey.username+":"+l.Tastypie.apiKey.key);
l.Tastypie.csrfToken&&(e["X-CSRFToken"]=l.Tastypie.csrfToken);e=k.extend(e,g.headers);g.headers=e;if("create"===b&&l.Tastypie.doGetOnEmptyPostResponse||"update"===b&&l.Tastypie.doGetOnEmptyPutResponse){var p=new $.Deferred,m=g.success;p.done(function(b,c,e){k.isFunction(m)&&m(b)});g.success=function(b,c,m){if(b||201!==m.status&&202!==m.status&&204!==m.status)return p.resolveWith(g.context||g,[b,c,m]);b=m.getResponseHeader("Location")||f.url();return l.ajax({url:b,headers:e,success:p.resolve,error:p.reject})};
var r=g.error;p.fail(function(b,c,e){k.isFunction(r)&&r(b.responseText)});g.error=function(b,c,e){p.rejectWith(g.context||g,[b,c,b.responseText])};p.request=l.oldSync(b,f,g);return p}return l.oldSync(b,f,g)};l.Model.prototype.idAttribute="resource_uri";l.Model.prototype.url=function(){var b=this.get("resource_uri");b||(b=k.result(this,"urlRoot")||this.collection&&k.result(this.collection,"url"))&&this.has("id")&&(b=g(b)+this.get("id"));return(b=b&&g(b))||null};l.Model.prototype.parse=function(b){return b&&
b.objects&&(k.isArray(b.objects)?b.objects[0]:b.objects)||b};l.Collection.prototype.parse=function(b){b&&b.meta&&(this.meta=b.meta);return b&&b.objects||b};l.Collection.prototype.url=function(b){var f=k.result(this,"urlRoot");f||(f=(f=b&&b.length&&b[0])&&k.result(f,"urlRoot"));f=f&&g(f);b&&b.length&&(b=k.map(b,function(b){b=k.compact(b.url().split("/"));return b[b.length-1]}),f+="set/"+b.join(";")+"/");return f||null};var g=function(b){return b+(0<b.length&&"/"===b.charAt(b.length-1)?"":"/")}});
Backbone.Flash={};
_.extend(Backbone.Flash,{initialize:function(b){this.config=_.extend({el:"body",template:_.template('<div class="container alert alert-<%= type %> alert-dismissable flash_alert"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><%= message %></div>'),stayDuration:15E3},b);Backbone.on("flash",this.handleFlash,this)},handleFlash:function(b,l){var k=_.extend({},this.config,l),g=new this.flashModel(b,{config:k});view=new this.flashView({model:g,config:k});$(k.el).append(view.render().el)},
flashModel:Backbone.Model.extend({initialize:function(b,l){this.config=l.config;this.get("persist")||this.setTimer()},defaults:{persist:!1,type:"success",message:""},setTimer:function(){var b=this;this.set("timeoutHandle",window.setTimeout(function(){b.destroy()},this.config.stayDuration))},clearTimeout:function(){this.get("timeoutHandle")&&window.clearTimeout(this.get("timeoutHandle"))}}),flashView:Backbone.View.extend({tagName:"div",className:"flash",initialize:function(b){this.config=b.config;
this.listenTo(this.model,"destroy",this.remove,this)},events:{"click button":"close"},render:function(){this.$el.append(this.config.template(this.model.attributes));return this},close:function(){this.model.clearTimeout();this.model.destroy()},remove:function(){var b=this;this.stopListening();this.$el.hide("slow",function(){b.$el.remove()})}})});
!function(b,l,k,g){function c(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return"[object Function]"===Object.prototype.toString.call(a)}function n(a){var b=Object.prototype.toString.call(a);return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(b)&&a.length!==g&&(0===a.length||"object"==typeof a[0]&&0<a[0].nodeType)}function e(b,c){var d=b;return A(b)?h.Easings[b]||(d=!1):d=a(b)&&2===b.length?w.apply(null,b.concat([c])):a(b)&&
4===b.length?q.apply(null,b):!1,!1===d&&(d=h.Easings[h.defaults.easing]?h.defaults.easing:s),d}function p(a){if(a){a=(new Date).getTime();for(var b=0,c=h.State.calls.length;c>b;b++)if(h.State.calls[b]){var e=h.State.calls[b],f=e[0],k=e[2],l=e[3];l||(l=h.State.calls[b][3]=a-16);for(var n=Math.min((a-l)/k.duration,1),r=0,q=f.length;q>r;r++){var s=f[r],x=s.element;if(d.data(x,m)){var v=!1;k.display&&"none"!==k.display&&B.setPropertyValue(x,"display",k.display);for(var w in s)if("element"!==w){var F,
L=s[w],Q=A(L.easing)?h.Easings[L.easing]:L.easing;if(F=1===n?L.endValue:L.startValue+(L.endValue-L.startValue)*Q(n),L.currentValue=F,B.Hooks.registered[w]){var ha=B.Hooks.getRoot(w);(Q=d.data(x,m).rootPropertyValueCache[ha])&&(L.rootPropertyValue=Q)}L=B.setPropertyValue(x,w,L.currentValue+(0===parseFloat(F)?"":L.unitType),L.rootPropertyValue,L.scrollData);B.Hooks.registered[w]&&(d.data(x,m).rootPropertyValueCache[ha]=B.Normalizations.registered[ha]?B.Normalizations.registered[ha]("extract",null,L[1]):
L[1]);"transform"===L[0]&&(v=!0)}k.mobileHA&&d.data(x,m).transformCache.translate3d===g&&(d.data(x,m).transformCache.translate3d="(0px, 0px, 0px)",v=!0);v&&B.flushTransformCache(x)}}k.display&&"none"!==k.display&&(h.State.calls[b][2].display=!1);k.progress&&k.progress.call(e[1],e[1],n,Math.max(0,l+k.duration-a),l);if(1===n){f=b;k=h.State.calls[f][0];l=h.State.calls[f][1];n=h.State.calls[f][2];e=!1;r=0;for(q=k.length;q>r;r++){s=k[r].element;if("none"!==n.display||n.loop||B.setPropertyValue(s,"display",
n.display),(d.queue(s)[1]===g||!/\.velocityQueueEntryFlag/i.test(d.queue(s)[1]))&&d.data(s,m)){d.data(s,m).isAnimating=!1;d.data(s,m).rootPropertyValueCache={};var v=["transformPerspective","translateZ","rotateX","rotateY"],L=!1,na;for(na in v)x=v[na],/^\(0[^.]/.test(d.data(s,m).transformCache[x])&&(L=!0,delete d.data(s,m).transformCache[x]);n.mobileHA&&(L=!0,delete d.data(s,m).transformCache.translate3d);L&&B.flushTransformCache(s)}n.complete&&!n.loop&&r===q-1&&n.complete.call(l,l);!1!==n.queue&&
d.dequeue(s,n.queue)}h.State.calls[f]=!1;f=0;for(k=h.State.calls.length;k>f;f++)if(!1!==h.State.calls[f]){e=!0;break}!1===e&&(h.State.isTicking=!1,delete h.State.calls,h.State.calls=[])}}}h.State.isTicking&&u(p)}var m="velocity",r=400,s="swing",v=function(){if(k.documentMode)return k.documentMode;for(var a=7;4<a;a--){var b=k.createElement("div");if(b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e",b.getElementsByTagName("span").length)return a}return g}(),u=l.requestAnimationFrame||
function(){var a=0;return l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),A=function(a){return"string"==typeof a},a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=l.jQuery||b.Velocity&&b.Velocity.Utilities;if(!d)throw Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(b.Velocity!==g&&!b.Velocity.Utilities)throw Error("Velocity: Namespace is occupied.");
if(7>=v){if(l.jQuery)return void(l.jQuery.fn.velocity=l.jQuery.fn.animate);throw Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.");}if(8===v&&!l.jQuery)throw Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var h=b.Velocity=b.velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),
prefixElement:k.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:l.jQuery?{}:d,Sequences:{},Easings:{},defaults:{queue:"",duration:r,easing:s,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},debug:!1};l.pageYOffset!==g?(h.State.scrollAnchor=l,h.State.scrollPropertyLeft="pageXOffset",h.State.scrollPropertyTop="pageYOffset"):(h.State.scrollAnchor=
k.documentElement||k.body.parentNode||k.body,h.State.scrollPropertyLeft="scrollLeft",h.State.scrollPropertyTop="scrollTop");var q=function(){return function(a,b,c,d){if(4!==arguments.length)return!1;for(var e=0;4>e;++e)if("number"!=typeof arguments[e]||isNaN(arguments[e])||!isFinite(arguments[e]))return!1;return a=Math.min(a,1),c=Math.min(c,1),a=Math.max(a,0),c=Math.max(c,0),function(e){if(a!==b||c!==d){a:{for(var h=e,f=0;8>f;++f){var g=3*(1-3*c+3*a)*h*h+2*(3*c-6*a)*h+3*a;if(0===g){e=h;break a}h-=
((((1-3*c+3*a)*h+(3*c-6*a))*h+3*a)*h-e)/g}e=h}e*=((1-3*d+3*b)*e+(3*d-6*b))*e+3*b}return e}}}(),w=function(){function a(b,c,d){var e=b.v+d.dv*c;return{dx:e,dv:-b.tension*(b.x+d.dx*c)-b.friction*e}}function b(c,d){var e={dx:c.v,dv:-c.tension*c.x-c.friction*c.v},h=a(c,0.5*d,e),f=a(c,0.5*d,h),g=a(c,d,f),m=1/6*(e.dv+2*(h.dv+f.dv)+g.dv);return c.x+=1/6*(e.dx+2*(h.dx+f.dx)+g.dx)*d,c.v+=m*d,c}return function W(a,c,d){var e,h,f,g={x:-1,v:0,tension:null,friction:null},m=[0],k=0;a=parseFloat(a)||600;c=parseFloat(c)||
20;d=d||null;g.tension=a;g.friction=c;for((e=null!==d)?(k=W(a,c),h=0.016*(k/d)):h=0.016;f=b(f||g,h),m.push(1+f.x),k+=16,1E-4<Math.abs(f.x)&&1E-4<Math.abs(f.v););return e?function(a){return m[a*(m.length-1)|0]}:k}}();!function(){h.Easings.linear=function(a){return a};h.Easings.swing=function(a){return 0.5-Math.cos(a*Math.PI)/2};h.Easings.ease=q(0.25,0.1,0.25,1);h.Easings["ease-in"]=q(0.42,0,1,1);h.Easings["ease-out"]=q(0,0,0.58,1);h.Easings["ease-in-out"]=q(0.42,0,0.58,1);var a={};d.each(["Quad","Cubic",
"Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}});d.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});d.each(a,function(a,b){h.Easings["easeIn"+a]=b;h.Easings["easeOut"+
a]=function(a){return 1-b(1-a)};h.Easings["easeInOut"+a]=function(a){return 0.5>a?b(2*a)/2:1-b(-2*a+2)/2}});h.Easings.spring=function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}}();var B=h.CSS={RegEx:{valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Hooks:{templates:{color:["Red Green Blue Alpha","255 255 255 1"],backgroundColor:["Red Green Blue Alpha","255 255 255 1"],borderColor:["Red Green Blue Alpha",
"255 255 255 1"],borderTopColor:["Red Green Blue Alpha","255 255 255 1"],borderRightColor:["Red Green Blue Alpha","255 255 255 1"],borderBottomColor:["Red Green Blue Alpha","255 255 255 1"],borderLeftColor:["Red Green Blue Alpha","255 255 255 1"],outlineColor:["Red Green Blue Alpha","255 255 255 1"],textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z",
"50% 50% 0%"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){var a,b,c;if(v)for(a in B.Hooks.templates)b=B.Hooks.templates[a],c=b[0].split(" "),b=b[1].match(B.RegEx.valueSplit),"Color"===c[0]&&(c.push(c.shift()),b.push(b.shift()),B.Hooks.templates[a]=[c.join(" "),b.join(" ")]);for(a in B.Hooks.templates){b=B.Hooks.templates[a];c=b[0].split(" ");for(var d in c)B.Hooks.registered[a+c[d]]=[a,d]}},getRoot:function(a){var b=B.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,
b){return B.RegEx.valueUnwrap.test(b)&&(b=b.match(B.Hooks.RegEx.valueUnwrap)[1]),B.Values.isCSSNullValue(b)&&(b=B.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=B.Hooks.registered[a];if(c){var d=c[1];return b=B.Hooks.cleanRootPropertyValue(c[0],b),b.toString().match(B.RegEx.valueSplit)[d]}return b},injectValue:function(a,b,c){if(a=B.Hooks.registered[a]){var d,e=a[1];return c=B.Hooks.cleanRootPropertyValue(a[0],c),d=c.toString().match(B.RegEx.valueSplit),d[e]=b,d.join(" ")}return c}},Normalizations:{registered:{clip:function(a,
b,c){switch(a){case "name":return"clip";case "extract":var d;return B.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(B.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case "inject":return"rect("+c+")"}},opacity:function(a,b,c){if(8>=v)switch(a){case "name":return"filter";case "extract":return(a=c.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=1,1<=parseFloat(c)?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case "name":return"opacity";
case "extract":return c;case "inject":return c}}},register:function(){function a(b){var c;return b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d}),c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b),c?"rgb("+(parseInt(c[1],16)+" "+parseInt(c[2],16)+" "+parseInt(c[3],16))+")":"rgb(0 0 0)"}var b="translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" ");9>=v||h.State.isGingerbread||(b=b.concat(["transformPerspective","translateZ","scaleZ","rotateX",
"rotateY"]));for(var c=0,e=b.length;e>c;c++)!function(){var a=b[c];B.Normalizations.registered[a]=function(b,c,e){switch(b){case "name":return"transform";case "extract":return d.data(c,m).transformCache[a]===g?/^scale/i.test(a)?1:0:d.data(c,m).transformCache[a].replace(/[()]/g,"");case "inject":b=!1;switch(a.substr(0,a.length-1)){case "translate":b=!/(%|px|em|rem|\d)$/i.test(e);break;case "scal":case "scale":h.State.isAndroid&&d.data(c,m).transformCache[a]===g&&(e=1);b=!/(\d)$/i.test(e);break;case "skew":b=
!/(deg|\d)$/i.test(e);break;case "rotate":b=!/(deg|\d)$/i.test(e)}return b||(d.data(c,m).transformCache[a]="("+e+")"),d.data(c,m).transformCache[a]}}}();for(var f="color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),c=0,e=f.length;e>c;c++)!function(){var b=f[c];B.Normalizations.registered[b]=function(c,d,e){switch(c){case "name":return b;case "extract":if(!B.RegEx.wrappedValueAlreadyExtracted.test(e)){var h;c={aqua:"rgb(0, 255, 255);",
black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",white:"rgb(255, 255, 255)",yellow:"rgb(255, 255, 0)"};/^[A-z]+$/i.test(e)?h=c[e]!==g?c[e]:c.black:/^#([A-f\d]{3}){1,2}$/i.test(e)?h=a(e):/^rgba?\(/i.test(e)||(h=c.black);e=(h||e).toString().match(B.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return 8>=v||3!==e.split(" ").length||(e+=" 1"),e;case "inject":return 8>=v?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=v?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},prefixCheck:function(a){if(h.State.prefixMatches[a])return[h.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>
c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),A(h.State.prefixElement.style[e]))return h.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|opacity|alpha|fillOpacity|flexGrow|flexHeight|zIndex|fontWeight)$)|color/i.test(a)?"":"px"},getDisplayType:function(a){a=a.tagName.toString().toLowerCase();
return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":"block"}},getPropertyValue:function(a,b,c,e){function f(a,b){var c=0;if(8>=v)c=d.css(a,b);else{if(!e){if("height"===b&&"border-box"!==B.getPropertyValue(a,"boxSizing").toString().toLowerCase())return a.offsetHeight-(parseFloat(B.getPropertyValue(a,"borderTopWidth"))||
0)-(parseFloat(B.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(B.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(B.getPropertyValue(a,"paddingBottom"))||0);if("width"===b&&"border-box"!==B.getPropertyValue(a,"boxSizing").toString().toLowerCase())return a.offsetWidth-(parseFloat(B.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(B.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(B.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(B.getPropertyValue(a,"paddingRight"))||0)}c=
d.data(a,m)===g?l.getComputedStyle(a,null):d.data(a,m).computedStyle?d.data(a,m).computedStyle:d.data(a,m).computedStyle=l.getComputedStyle(a,null);v&&"borderColor"===b&&(b="borderTopColor");c=9===v&&"filter"===b?c.getPropertyValue(b):c[b];""!==c&&null!==c||(c=a.style[b])}if("auto"===c&&/^(top|right|bottom|left)$/i.test(b)){var h=f(a,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(b))&&(c=d(a).position()[b]+"px")}return c}var k;if(B.Hooks.registered[b]){var p=B.Hooks.getRoot(b);c===g&&
(c=B.getPropertyValue(a,B.Names.prefixCheck(p)[0]));B.Normalizations.registered[p]&&(c=B.Normalizations.registered[p]("extract",a,c));k=B.Hooks.extractValue(b,c)}else B.Normalizations.registered[b]&&(c=B.Normalizations.registered[b]("name",a),"transform"!==c&&(p=f(a,B.Names.prefixCheck(c)[0]),B.Values.isCSSNullValue(p)&&B.Hooks.templates[b]&&(p=B.Hooks.templates[b][1])),k=B.Normalizations.registered[b]("extract",a,p));return/^[\d-]/.test(k)||(k=f(a,B.Names.prefixCheck(b)[0])),B.Values.isCSSNullValue(k)&&
(k=0),2<=h.debug&&console.log("Get "+b+": "+k),k},setPropertyValue:function(a,b,c,e,f){var g=b;if("scroll"===b)f.container?f.container["scroll"+f.direction]=c:"Left"===f.direction?l.scrollTo(c,f.alternateValue):l.scrollTo(f.alternateValue,c);else if(B.Normalizations.registered[b]&&"transform"===B.Normalizations.registered[b]("name",a))B.Normalizations.registered[b]("inject",a,c),g="transform",c=d.data(a,m).transformCache[b];else{B.Hooks.registered[b]&&(f=b,b=B.Hooks.getRoot(b),e=e||B.getPropertyValue(a,
b),c=B.Hooks.injectValue(f,c,e));if(B.Normalizations.registered[b]&&(c=B.Normalizations.registered[b]("inject",a,c),b=B.Normalizations.registered[b]("name",a)),g=B.Names.prefixCheck(b)[0],8>=v)try{a.style[g]=c}catch(k){console.log("Error setting ["+g+"] to ["+c+"]")}else a.style[g]=c;2<=h.debug&&console.log("Set "+b+" ("+g+"): "+c)}return[g,c]},flushTransformCache:function(a){var b,c,e,h="";for(b in d.data(a,m).transformCache)c=d.data(a,m).transformCache[b],"transformPerspective"!==b?(9===v&&"rotateZ"===
b&&(b="rotate"),h+=b+c+" "):e=c;e&&(h="perspective"+e+" "+h);B.setPropertyValue(a,"transform",h)}};B.Hooks.register();B.Normalizations.register();h.animate=function(){function b(){function l(){function b(c){var d=g,h=g,m=g;return a(c)?(d=c[0],!a(c[1])&&/^[\d-]/.test(c[1])||f(c[1])?m=c[1]:(A(c[1])||a(c[1]))&&(h=e(c[1],q.duration),c[2]&&(m=c[2]))):d=c,h=h||q.easing,f(d)&&(d=d.call(n,J,Y)),f(m)&&(m=m.call(n,J,Y)),[d||0,h,m]}function r(a,b){var c,d;return d=(b||0).toString().toLowerCase().replace(/[%A-z]+$/,
function(a){return c=a,""}),c||(c=B.Values.getUnitType(a)),[d,c]}function y(){var a=n.parentNode,b=B.getPropertyValue(n,"position"),c=B.getPropertyValue(n,"fontSize"),d=b===x.lastPosition&&a===x.lastParent,e=c===x.lastFontSize&&a===x.lastParent;x.lastParent=a;x.lastPosition=b;x.lastFontSize=c;null===x.remToPxRatio&&(x.remToPxRatio=parseFloat(B.getPropertyValue(k.body,"fontSize"))||16);a={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,
maxHeight:null,paddingLeft:null};b={};if(b.remToPxRatio=x.remToPxRatio,v)var f=/^auto$/i.test(n.currentStyle.width),g=/^auto$/i.test(n.currentStyle.height);d&&e||(a.overflowX=B.getPropertyValue(n,"overflowX"),a.overflowY=B.getPropertyValue(n,"overflowY"),a.boxSizing=B.getPropertyValue(n,"boxSizing"),a.width=B.getPropertyValue(n,"width",null,!0),a.minWidth=B.getPropertyValue(n,"minWidth"),a.maxWidth=B.getPropertyValue(n,"maxWidth")||"none",a.height=B.getPropertyValue(n,"height",null,!0),a.minHeight=
B.getPropertyValue(n,"minHeight"),a.maxHeight=B.getPropertyValue(n,"maxHeight")||"none",a.paddingLeft=B.getPropertyValue(n,"paddingLeft"));d?(b.percentToPxRatioWidth=x.lastPercentToPxWidth,b.percentToPxRatioHeight=x.lastPercentToPxHeight):(B.setPropertyValue(n,"overflowX","hidden"),B.setPropertyValue(n,"overflowY","hidden"),B.setPropertyValue(n,"boxSizing","content-box"),B.setPropertyValue(n,"width","10%"),B.setPropertyValue(n,"minWidth","10%"),B.setPropertyValue(n,"maxWidth","10%"),B.setPropertyValue(n,
"height","10%"),B.setPropertyValue(n,"minHeight","10%"),B.setPropertyValue(n,"maxHeight","10%"));e?b.emToPxRatio=x.lastEmToPx:B.setPropertyValue(n,"paddingLeft","10em");d||(b.percentToPxRatioWidth=x.lastPercentToPxWidth=(parseFloat(B.getPropertyValue(n,"width",null,!0))||1)/10,b.percentToPxRatioHeight=x.lastPercentToPxHeight=(parseFloat(B.getPropertyValue(n,"height",null,!0))||1)/10);e||(b.emToPxRatio=x.lastEmToPx=(parseFloat(B.getPropertyValue(n,"paddingLeft"))||1)/10);for(var m in a)null!==a[m]&&
B.setPropertyValue(n,m,a[m]);return v?(f&&B.setPropertyValue(n,"width","auto"),g&&B.setPropertyValue(n,"height","auto")):(B.setPropertyValue(n,"height","auto"),a.height!==B.getPropertyValue(n,"height",null,!0)&&B.setPropertyValue(n,"height",a.height),B.setPropertyValue(n,"width","auto"),a.width!==B.getPropertyValue(n,"width",null,!0)&&B.setPropertyValue(n,"width",a.width)),1<=h.debug&&console.log("Unit ratios: "+JSON.stringify(b),n),b}if(q.begin&&0===J&&q.begin.call(u,u),"scroll"===U){var C,K,F,H=
/^x$/i.test(q.axis)?"Left":"Top",L=parseFloat(q.offset)||0;q.container?q.container.jquery||q.container.nodeType?(q.container=q.container[0]||q.container,C=q.container["scroll"+H],F=C+d(n).position()[H.toLowerCase()]+L):q.container=null:(C=h.State.scrollAnchor[h.State["scrollProperty"+H]],K=h.State.scrollAnchor[h.State["scrollProperty"+("Left"===H?"Top":"Left")]],F=d(n).offset()[H.toLowerCase()]+L);s={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:F,unitType:"",easing:q.easing,scrollData:{container:q.container,
direction:H,alternateValue:K}},element:n}}else if("reverse"===U){if(!d.data(n,m).tweensContainer)return void d.dequeue(n,q.queue);"none"===d.data(n,m).opts.display&&(d.data(n,m).opts.display="block");d.data(n,m).opts.loop=!1;d.data(n,m).opts.begin=null;d.data(n,m).opts.complete=null;R.easing||delete q.easing;R.duration||delete q.duration;q=d.extend({},d.data(n,m).opts,q);var H=d.extend(!0,{},d.data(n,m).tweensContainer),P;for(P in H)"element"!==P&&(L=H[P].startValue,H[P].startValue=H[P].currentValue=
H[P].endValue,H[P].endValue=L,R&&(H[P].easing=q.easing));s=H}else if("start"===U){d.data(n,m).tweensContainer&&!0===d.data(n,m).isAnimating&&(H=d.data(n,m).tweensContainer);for(L in w){F=b(w[L]);C=F[0];K=F[1];F=F[2];var L=B.Names.camelCase(L),E=B.Hooks.getRoot(L);P=!1;if(!1!==B.Names.prefixCheck(E)[1]||B.Normalizations.registered[E]!==g){q.display&&"none"!==q.display&&/opacity|filter/.test(L)&&!F&&0!==C&&(F=0);q._cacheValues&&H&&H[L]?(F===g&&(F=H[L].endValue+H[L].unitType),P=d.data(n,m).rootPropertyValueCache[E]):
B.Hooks.registered[L]?F===g?(P=B.getPropertyValue(n,E),F=B.getPropertyValue(n,L,P)):P=B.Hooks.templates[E][1]:F===g&&(F=B.getPropertyValue(n,L));var O,M;O=r(L,F);F=O[0];E=O[1];O=r(L,C);C=O[0].replace(/^([+-\/*])=/,function(a,b){return M=b,""});O=O[1];F=parseFloat(F)||0;C=parseFloat(C)||0;var V;if("%"===O&&(/^(fontSize|lineHeight)$/.test(L)?(C/=100,O="em"):/^scale/.test(L)?(C/=100,O=""):/(Red|Green|Blue)$/i.test(L)&&(C=255*(C/100),O="")),/[\/*]/.test(M))O=E;else if(E!==O&&0!==F)if(0===C)O=E;else{V=
V||y();var ia=/margin|padding|left|right|width|text|word|letter/i.test(L)||/X$/.test(L)?"x":"y";switch(E){case "%":F*="x"===ia?V.percentToPxRatioWidth:V.percentToPxRatioHeight;break;case "em":F*=V.emToPxRatio;break;case "rem":F*=V.remToPxRatio}switch(O){case "%":F*=1/("x"===ia?V.percentToPxRatioWidth:V.percentToPxRatioHeight);break;case "em":F*=1/V.emToPxRatio;break;case "rem":F*=1/V.remToPxRatio}}switch(M){case "+":C=F+C;break;case "-":C=F-C;break;case "*":C*=F;break;case "/":C=F/C}s[L]={rootPropertyValue:P,
startValue:F,currentValue:F,endValue:C,unitType:O,easing:K};h.debug&&console.log("tweensContainer ("+L+"): "+JSON.stringify(s[L]),n)}else h.debug&&console.log("Skipping ["+E+"] due to a lack of browser support.")}s.element=n}s.element&&(D.push(s),d.data(n,m).tweensContainer=s,d.data(n,m).opts=q,d.data(n,m).isAnimating=!0,J===Y-1?(1E4<h.State.calls.length&&(h.State.calls=c(h.State.calls)),h.State.calls.push([D,u,q]),!1===h.State.isTicking&&(h.State.isTicking=!0,p())):J++)}var n=this,q=d.extend({},
h.defaults,R),s={};if("stop"===U)return d.queue(n,A(R)?R:"",[]),!0;switch(d.data(n,m)===g&&d.data(n,m,{isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),/^\d/.test(q.delay)&&!1!==q.queue&&d.queue(n,q.queue,function(a){h.velocityQueueEntryFlag=!0;setTimeout(a,parseFloat(q.delay))}),q.duration.toString().toLowerCase()){case "fast":q.duration=200;break;case "normal":q.duration=r;break;case "slow":q.duration=600;break;default:q.duration=parseFloat(q.duration)||
1}q.easing=e(q.easing,q.duration);q.begin&&!f(q.begin)&&(q.begin=null);q.progress&&!f(q.progress)&&(q.progress=null);q.complete&&!f(q.complete)&&(q.complete=null);q.display&&(q.display=q.display.toString().toLowerCase());q.mobileHA=q.mobileHA&&h.State.isMobile&&!h.State.isGingerbread;!1===q.queue?q.delay?setTimeout(l,q.delay):l():d.queue(n,q.queue,function(a){h.velocityQueueEntryFlag=!0;l(a)});""!==q.queue&&"fx"!==q.queue||"inprogress"===d.queue(n)[0]||d.dequeue(n)}var q,s,u,w,R,V=arguments[0]&&(d.isPlainObject(arguments[0].properties)&&
!arguments[0].properties.names||A(arguments[0].properties));if(this&&(this.jquery||l.Zepto&&l.Zepto.zepto.isZ(this))?(s=0,u=this,q=this):(s=1,u=V?arguments[0].elements:arguments[0]),u=u&&(u.jquery||l.Zepto&&l.Zepto.zepto.isZ(u))?[].slice.call(u):u){V?(w=arguments[0].properties,R=arguments[0].options):(w=arguments[s],R=arguments[s+1]);var Y=n(u)||a(u)?u.length:1,J=0;if("stop"!==w&&!d.isPlainObject(R))for(R={},s+=1;s<arguments.length;s++)!a(arguments[s])&&/^\d/.test(arguments[s])?R.duration=parseFloat(arguments[s]):
A(arguments[s])?R.easing=arguments[s]:!a(arguments[s])||2!==arguments[s].length&&4!==arguments[s].length?f(arguments[s])&&(R.complete=arguments[s]):R.easing=arguments[s];var U;switch(w){case "scroll":U="scroll";break;case "reverse":U="reverse";break;case "stop":U="stop";break;default:if(!d.isPlainObject(w)||d.isEmptyObject(w)){if(A(w)&&h.Sequences[w]){s=u;var H=R.duration;return!0===R.backwards&&(u=(u.jquery?[].slice.call(u):u).reverse()),d.each(u,function(a,b){parseFloat(R.stagger)&&(R.delay=parseFloat(R.stagger)*
a);R.drag&&(R.duration=parseFloat(H)||(/^(callout|transition)/.test(w)?1E3:r),R.duration=Math.max(R.duration*(R.backwards?1-a/Y:(a+1)/Y),0.75*R.duration,200));h.Sequences[w].call(b,b,R||{},a,Y)}),q||s}return console.log("First argument was not a property map, a known action, or a registered sequence. Aborting."),q||u}U="start"}var x={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPxRatio:null},D=[];u.nodeType?b.call(u):
d.each(u,function(a,c){c.nodeType&&b.call(c)});V=d.extend({},h.defaults,R);if(V.loop=parseInt(V.loop),s=2*V.loop-1,V.loop)for(var K=0;s>K;K++){var F={delay:V.delay};V.complete&&K===s-1&&(F.complete=V.complete);h.animate(u,"reverse",F)}return q||u}};(b=l.jQuery||l.Zepto)&&(b.fn.velocity=h.animate,b.fn.velocity.defaults=h.defaults);"undefined"!=typeof define&&define.amd?define(function(){return h}):"undefined"!=typeof module&&module.exports&&(module.exports=h);d.each(["Down","Up"],function(a,b){h.Sequences["slide"+
b]=function(a,c){var e=d.extend({},c),f={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},g=e.begin,m=e.complete,k=!1;null!==e.display&&(e.display="Down"===b?e.display||h.CSS.Values.getDisplayType(a):e.display||"none");e.begin=function(){function c(){a.style.display="block";f.height=h.CSS.getPropertyValue(a,"height");a.style.height="auto";h.CSS.getPropertyValue(a,"height")===f.height&&(k=!0);h.CSS.setPropertyValue(a,"height",
f.height+"px")}if("Down"===b){f.overflow=[h.CSS.getPropertyValue(a,"overflow"),0];f.overflowX=[h.CSS.getPropertyValue(a,"overflowX"),0];f.overflowY=[h.CSS.getPropertyValue(a,"overflowY"),0];a.style.overflow="hidden";a.style.overflowX="visible";a.style.overflowY="hidden";c();for(var d in f)/^overflow/.test(d)||(f[d]=[h.CSS.getPropertyValue(a,d),0]);a.style.display="none"}else{c();for(d in f)f[d]=[0,h.CSS.getPropertyValue(a,d)];a.style.overflow="hidden";a.style.overflowX="visible";a.style.overflowY=
"hidden"}g&&g.call(a,a)};e.complete=function(a){var c="Down"===b?0:1;!0===k?f.height[c]="auto":f.height[c]+="px";for(var d in f)a.style[d]=f[d][c];m&&m.call(a,a)};h.animate(a,f,e)}});d.each(["In","Out"],function(a,b){h.Sequences["fade"+b]=function(a,c,e,f){c=d.extend({},c);var g={opacity:"In"===b?1:0};e!==f-1&&(c.complete=c.begin=null);null!==c.display&&(c.display="In"===b?h.CSS.Values.getDisplayType(a):"none");h.animate(this,g,c)}})}(window.jQuery||window.Zepto||window,window,document);
(function(b,l){"function"===typeof define&&define.amd?define(["jquery"],l):l(b.jQuery)})(this,function(b){var l=function(k){this.origHtmlMargin=parseFloat(b("html").css("margin-top"));this.options=b.extend({},b.smartbanner.defaults,k);k=navigator.standalone;var g=navigator.userAgent;this.options.force?this.type=this.options.force:null!==g.match(/Windows Phone/i)&&null!==g.match(/Edge|Touch/i)?this.type="windows":null!==g.match(/iPhone|iPod/i)||g.match(/iPad/)&&this.options.iOSUniversalApp?null!==
g.match(/Safari/i)&&(null!==g.match(/CriOS/i)||6>window.Number(g.substr(g.indexOf("OS ")+3,3).replace("_",".")))&&(this.type="ios"):g.match(/\bSilk\/(.*\bMobile Safari\b)?/)||g.match(/\bKF\w/)||g.match("Kindle Fire")?this.type="kindle":null!==g.match(/Android/i)&&(this.type="android");if(this.type&&!(k||this.getCookie("sb-closed")||this.getCookie("sb-installed"))&&(this.scale="auto"==this.options.scale?b(window).width()/window.screen.width:this.options.scale,1>this.scale&&(this.scale=1),k=b("android"==
this.type?'meta[name="google-play-app"]':"ios"==this.type?'meta[name="apple-itunes-app"]':"kindle"==this.type?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]'),0!==k.length)){if("windows"==this.type)this.appId=b('meta[name="msApplication-PackageFamilyName"]').attr("content");else if(g=/app-id=([^\s,]+)/.exec(k.attr("content")))this.appId=g[1];else return;this.title=this.options.title?this.options.title:k.data("title")||b("title").text().replace(/\s*[|\-\u00b7].*$/,"");this.author=this.options.author?
this.options.author:k.data("author")||(b('meta[name="author"]').length?b('meta[name="author"]').attr("content"):window.location.hostname);this.iconUrl=k.data("icon-url");this.price=k.data("price");this.options.onInstall="function"===typeof this.options.onInstall?this.options.onInstall:function(){};this.options.onClose="function"===typeof this.options.onClose?this.options.onClose:function(){};this.create();this.show();this.listen()}};l.prototype={constructor:l,create:function(){var k,g=this.options.url?
this.options.url:("windows"==this.type?"ms-windows-store:navigate?appid=":"android"==this.type?"market://details?id=":"kindle"==this.type?"amzn://apps/android?asin=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,c=this.price||this.options.price,f=c?c+" - "+("android"==this.type?this.options.inGooglePlay:"kindle"==this.type?this.options.inAmazonAppStore:"ios"==this.type?this.options.inAppStore:this.options.inWindowsStore):"",c=null===this.options.iconGloss?"ios"==
this.type:this.options.iconGloss;"android"==this.type&&this.options.GooglePlayParams&&(g=g+"&referrer="+this.options.GooglePlayParams);g='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+f+'</span></div><a href="'+g+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";this.options.layer?b(this.options.appendToSelector).append(g):
b(this.options.appendToSelector).prepend(g);this.options.icon?k=this.options.icon:this.iconUrl?k=this.iconUrl:0<b('link[rel="apple-touch-icon-precomposed"]').length?(k=b('link[rel="apple-touch-icon-precomposed"]').attr("href"),null===this.options.iconGloss&&(c=!1)):0<b('link[rel="apple-touch-icon"]').length?k=b('link[rel="apple-touch-icon"]').attr("href"):0<b('meta[name="msApplication-TileImage"]').length?k=b('meta[name="msApplication-TileImage"]').attr("content"):0<b('meta[name="msapplication-TileImage"]').length&&
(k=b('meta[name="msapplication-TileImage"]').attr("content"));k?(b("#smartbanner .sb-icon").css("background-image","url("+k+")"),c&&b("#smartbanner .sb-icon").addClass("gloss")):b("#smartbanner").addClass("no-icon");this.bannerHeight=b("#smartbanner").outerHeight()+2;1<this.scale&&(b("#smartbanner").css("top",parseFloat(b("#smartbanner").css("top"))*this.scale).css("height",parseFloat(b("#smartbanner").css("height"))*this.scale).hide(),b("#smartbanner .sb-container").css("-webkit-transform","scale("+
this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",b(window).width()/this.scale));b("#smartbanner").css("position",this.options.layer?"absolute":"relative")},listen:function(){b("#smartbanner .sb-close").on("click",b.proxy(this.close,this));b("#smartbanner .sb-button").on("click",b.proxy(this.install,this))},show:function(k){var g=b("#smartbanner");g.stop();this.options.layer?(g.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show(),
b(this.pushSelector).animate({paddingTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",k)):b.support.transition?(g.animate({top:0},this.options.speedIn).addClass("shown"),b(this.pushSelector).addClass("sb-animation").one(b.support.transition.end,function(){b("html").removeClass("sb-animation");k&&k()}).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)):g.slideDown(this.options.speedIn).addClass("shown")},
hide:function(k){var g=b("#smartbanner");g.stop();this.options.layer?(g.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown"),b(this.pushSelector).animate({paddingTop:this.origHtmlMargin},this.options.speedIn,"swing",k)):b.support.transition?(g.css({display:"none"}).removeClass("shown"),b(this.pushSelector).addClass("sb-animation").one(b.support.transition.end,function(){b("html").removeClass("sb-animation");k&&k()}).emulateTransitionEnd(this.options.speedOut).css("margin-top",
this.origHtmlMargin)):g.slideUp(this.options.speedOut).removeClass("shown")},close:function(b){b.preventDefault();this.hide();this.setCookie("sb-closed","true",this.options.daysHidden);this.options.onClose(b)},install:function(b){this.options.hideOnInstall&&this.hide();this.setCookie("sb-installed","true",this.options.daysReminder);this.options.onInstall(b)},setCookie:function(b,g,c){var f=new Date;f.setDate(f.getDate()+c);g=encodeURI(g)+(null===c?"":"; expires="+f.toUTCString());document.cookie=
b+"="+g+"; path=/;"},getCookie:function(b){var g,c,f,n=document.cookie.split(";");for(g=0;g<n.length;g++)if(c=n[g].substr(0,n[g].indexOf("=")),f=n[g].substr(n[g].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==b)return decodeURI(f);return null},switchType:function(){var k=this;this.hide(function(){k.type="android"==k.type?"ios":"android";var g=b("android"==k.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");k.appId=/app-id=([^\s,]+)/.exec(g)[1];b("#smartbanner").detach();
k.create();k.show()})}};b.smartbanner=function(k){var g=b(window),c=g.data("smartbanner");c||g.data("smartbanner",c=new l("object"==typeof k&&k));if("string"==typeof k)c[k]()};b.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,
daysHidden:15,daysReminder:90,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body",pushSelector:"html"};b.smartbanner.Constructor=l;void 0===b.support.transition&&(b.fn.emulateTransitionEnd=function(k){var g=!1,c=this;b(this).one(b.support.transition.end,function(){g=!0});setTimeout(function(){g||b(c).trigger(b.support.transition.end)},k);return this},b(function(){var k=b.support,g;a:{g=document.createElement("smartbanner");var c={WebkitTransition:"webkitTransitionEnd",
MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in c)if(void 0!==g.style[f]){g={end:c[f]};break a}g=!1}k.transition=g}))});
(function(b){var l,k,g=function(b,g){if("function"===typeof document.addEventListener||f.isIE8()){var m=!1;try{m=b instanceof Element}catch(l){m=!!b&&1===m.nodeType}m||"string"===typeof b||(g=b);var s=this,v=s.classes,u=s.settings=f.merge(s.defaults,{attachTo:b},g||{}),m=s.container=f.make("div",{"class":v.container}),A=s.calendars=[],a=k().day(u.weekStart),d,h=[],q,w,B,y;q=[];var P;w=0;d=u.months;f.isIE8()&&f.addClassName(m,"ie8");for(w=7;w--;)h.push(a.format(u.columnHeaderFormat)),a.add("days",
1);n(s);if("object"===typeof u.subscribe)for(w in u.subscribe)u.subscribe.hasOwnProperty(w)&&s.subscribe(w,u.subscribe[w]);s._sel=[];u.selected&&s.setSelected(u.selected,!1);d=u.viewStartDate?k(u.viewStartDate,u.format):0<s._sel.length?k(s._sel[0]):k();s.viewStartDate=d.date(1);(d={past:u.months-1,"today-past":u.months-1,any:2<u.months?Math.floor(u.months/2):0,"today-future":0,future:0}[this.settings.direction])&&k().month()==k(s.viewStartDate).month()&&(s.viewStartDate=k(s.viewStartDate).subtract({M:d}).date(1));
if("function"===typeof u.blackout)s.blackout=u.blackout;else if(u.blackout){var O=c(u.blackout,u.parseSplitDelimiter,u.format);s.blackout=function(a){a=k(a).startOf("day").yearDay();if(1>a||!s._sel)return!1;for(var b=O.length;b--;)if(O[b].startOf("day").yearDay()===a)return!0;return!1}}else s.blackout=function(){return!1};s.direction=s.directions[u.direction]?s.directions[u.direction]:s.directions.any;for(d=Math.max(u.months,1);d--;){q=f.make("div",{"class":v.calendar},m);q.setAttribute("data-cal-index",
d);1<u.months&&(d==Math.max(u.months-1,1)?f.addClassName(q,v.monthFirst):0===d?f.addClassName(q,v.monthLast):f.addClassName(q,v.monthMiddle));w=f.make("div",{"class":v.title},q);u.useYearNav||f.addClassName(w,v.disableYearNav);f.make("a",{"class":v.previousYear},w);f.make("a",{"class":v.previousMonth},w);f.make("a",{"class":v.nextYear},w);f.make("a",{"class":v.nextMonth},w);a=f.make("span",{"class":v.caption},w);B=f.make("div",{"class":v.header},q);w=0;do P=f.make("span",{},B),P.innerHTML=h[w];while(7>
++w);B=f.make("div",{"class":v.days},q);w=0;q=[];do"week"==u.mode?(0===w%7&&(y=f.make("div",{"class":v.week+" clearfix"},B),q.push(y)),f.make("span",{},y)):q.push(f.make("span",{},B));while(42>++w);A.push({caption:a,days:q});d&&f.make("div",{"class":v.monthSeparator},m)}s.draw();f.addEvent(m,"mousedown",function(a,b){var c;if(f.hasClassName(b,v.nextMonth))s.disableNext||!1===s.publish("view-changed",s,["next-month"])||(s.viewStartDate.add("months",1),s.draw());else if(f.hasClassName(b,v.previousMonth))s.disablePreviousMonth||
!1===s.publish("view-changed",s,["previous-month"])||(s.viewStartDate.subtract("months",1),s.draw());else if(f.hasClassName(b,v.nextYear))s.disableNext||!1===s.publish("view-changed",s,["next-year"])||(s.viewStartDate.add("years",1),s.draw());else if(f.hasClassName(b,v.previousYear))s.disablePreviousMonth||!1===s.publish("view-changed",s,["previous-year"])||(s.viewStartDate.subtract("years",1),s.draw());else if((f.hasClassName(b.parentNode,v.days)||f.hasClassName(b.parentNode,v.week))&&f.hasClassName(b,
v.dayActive)&&(c=b.getAttribute("data-date"))){if(c=k(c,u.dayAttributeFormat).hours(12),!1!==s.publish("date-clicked",s,[c]))switch(u.mode){case "multiple":s.addSelected(c)||s.removeSelected(c);break;case "range":s.addSelected(c);break;case "week":s.weekSelected(c);break;default:s.addSelected(c)}}else f.hasClassName(b.parentNode,v.week)&&(c=b.getAttribute("data-date"))&&(c=k(c,u.dayAttributeFormat).hours(12),!1!==s.publish("date-clicked",s,[c])&&"week"==u.mode&&s.weekSelected(c));return!1});(u.attachTo=
f.$(u.attachTo))&&u.attachTo.appendChild(m)}};g.prototype={defaults:{attachTo:null,months:1,weekStart:0,direction:"any",directionScrolling:!0,viewStartDate:null,blackout:null,selected:null,mode:"single",dayOutOfMonthClickable:!1,format:null,subscribe:null,columnHeaderFormat:"dd",titleFormat:"MMMM, YYYY",dayNumberFormat:"D",dayAttributeFormat:"YYYY-MM-DD",parseSplitDelimiter:/,\s*|\s+-\s+/,rangeDelimiter:" - ",multipleDelimiter:", ",useYearNav:!0,dateClassMap:{}},classes:{container:"kalendae",calendar:"k-calendar",
monthFirst:"k-first-month",monthMiddle:"k-middle-month",monthLast:"k-last-month",title:"k-title",previousMonth:"k-btn-previous-month",nextMonth:"k-btn-next-month",previousYear:"k-btn-previous-year",nextYear:"k-btn-next-year",caption:"k-caption",header:"k-header",days:"k-days",week:"k-week",dayOutOfMonth:"k-out-of-month",dayInMonth:"k-in-month",dayActive:"k-active",daySelected:"k-selected",dayInRange:"k-range",dayToday:"k-today",monthSeparator:"k-separator",disablePreviousMonth:"k-disable-previous-month-btn",
disableNextMonth:"k-disable-next-month-btn",disablePreviousYear:"k-disable-previous-year-btn",disableNextYear:"k-disable-next-year-btn",disableYearNav:"k-disable-year-nav"},disablePreviousMonth:!1,disableNextMonth:!1,disablePreviousYear:!1,disableNextYear:!1,directions:{past:function(b){return k(b).startOf("day").yearDay()>=l.yearDay()},"today-past":function(b){return k(b).startOf("day").yearDay()>l.yearDay()},any:function(b){return!1},"today-future":function(b){return k(b).startOf("day").yearDay()<
l.yearDay()},future:function(b){return k(b).startOf("day").yearDay()<=l.yearDay()}},getSelectedAsDates:function(){for(var b=[],c=0,f=this._sel.length;c<f;c++)b.push(this._sel[c].toDate());return b},getSelectedAsText:function(b){for(var c=[],f=0,g=this._sel.length;f<g;f++)c.push(this._sel[f].format(b||this.settings.format||"YYYY-MM-DD"));return c},getSelectedRaw:function(){for(var b=[],c=0,f=this._sel.length;c<f;c++)b.push(k(this._sel[c]));return b},getSelected:function(b){b=this.getSelectedAsText(b);
switch(this.settings.mode){case "week":case "range":return b.splice(2),b.join(this.settings.rangeDelimiter);case "multiple":return b.join(this.settings.multipleDelimiter);default:return b[0]||null}},isSelected:function(b){b=k(b).startOf("day").yearDay();if(1>b||!this._sel||1>this._sel.length)return!1;switch(this.settings.mode){case "week":case "range":var c=this._sel[0]?this._sel[0].startOf("day").yearDay():0,f=this._sel[1]?this._sel[1].startOf("day").yearDay():0;return c===b||f===b?1:c&&f?b>c&&b<
f||c<f&&b<c&&b>f?-1:!1:0;case "multiple":for(c=this._sel.length;c--;)if(this._sel[c].startOf("day").yearDay()===b)return!0;return!1;default:return this._sel[0]&&this._sel[0].startOf("day").yearDay()===b}},setSelected:function(b,f){var g,n=c(b,this.settings.parseSplitDelimiter,this.settings.format),l=c(this.getSelected(),this.settings.parseSplitDelimiter,this.settings.format);for(g=l.length;g--;)this.removeSelected(l[g],!1);for(g=n.length;g--;)this.addSelected(n[g],!1);!1!==f&&(n[0]&&(this.viewStartDate=
k(n[0],this.settings.format)),this.draw())},addSelected:function(b,c){b=k(b,this.settings.format).hours(12);this.settings.dayOutOfMonthClickable&&"range"!==this.settings.mode&&this.makeSelectedDateVisible(b);switch(this.settings.mode){case "multiple":if(this.isSelected(b))return!1;this._sel.push(b);break;case "range":1!==this._sel.length?this._sel=[b]:b.startOf("day").yearDay()>this._sel[0].startOf("day").yearDay()?this._sel[1]=b:this._sel=[b,this._sel[0]];break;default:this._sel=[b]}this._sel.sort(function(b,
c){return b.startOf("day").yearDay()-c.startOf("day").yearDay()});this.publish("change",this,[b]);!1!==c&&this.draw();return!0},weekSelected:function(b){var c=b.toDate(),f=k(c).startOf("week"),c=k(c).endOf("week").subtract("day",1);this._sel=[f,c];this.publish("change",this,[b.day()]);this.draw()},makeSelectedDateVisible:function(b){outOfViewMonth=k(b).date("1").diff(this.viewStartDate,"months");0>outOfViewMonth?this.viewStartDate.subtract("months",1):0<outOfViewMonth&&outOfViewMonth>=this.settings.months&&
this.viewStartDate.add("months",1)},removeSelected:function(b,c){b=k(b,this.settings.format).hours(12);for(var f=this._sel.length;f--;)if(this._sel[f].startOf("day").yearDay()===b.startOf("day").yearDay())return this._sel.splice(f,1),this.publish("change",this,[b]),!1!==c&&this.draw(),!0;return!1},draw:function(){var b=k(this.viewStartDate).startOf("day").hours(12),c,g=this.classes,n,s,v,u=0,A,a=0,d,h,q=this.settings;A=this.calendars.length;do{c=k(b).date(1);c.day(c.day()<this.settings.weekStart?
this.settings.weekStart-7:this.settings.weekStart);n=this.calendars[u];n.caption.innerHTML=b.format(this.settings.titleFormat);d=a=0;do"week"==q.mode?(0===a%7&&0!==a&&d++,s=n.days[d].childNodes[a%7]):s=n.days[a],v=[],(h=this.isSelected(c))&&v.push({"-1":g.dayInRange,1:g.daySelected,"true":g.daySelected}[h]),c.month()!=b.month()?v.push(g.dayOutOfMonth):v.push(g.dayInMonth),(!(this.blackout(c)||this.direction(c)||c.month()!=b.month()&&!1===q.dayOutOfMonthClickable)||0<h)&&v.push(g.dayActive),c.startOf("day").yearDay()===
l.yearDay()&&v.push(g.dayToday),h=c.format(this.settings.dayAttributeFormat),q.dateClassMap[h]&&v.push(q.dateClassMap[h]),s.innerHTML=c.format(q.dayNumberFormat),s.className=v.join(" "),s.setAttribute("data-date",h),c.add("days",1);while(42>++a);b.add("months",1)}while(++u<A);if(q.directionScrolling){c=k().startOf("day").hours(12);b=b.diff(c,"months",!0);if("today-past"===q.direction||"past"===q.direction)0>=b?(this.disableNextMonth=!1,f.removeClassName(this.container,g.disableNextMonth)):(this.disableNextMonth=
!0,f.addClassName(this.container,g.disableNextMonth));else if("today-future"===q.direction||"future"===q.direction)b>q.months?(this.disablePreviousMonth=!1,f.removeClassName(this.container,g.disablePreviousMonth)):(this.disablePreviousMonth=!0,f.addClassName(this.container,g.disablePreviousMonth));if("today-past"===q.direction||"past"===q.direction)-11>=b?(this.disableNextYear=!1,f.removeClassName(this.container,g.disableNextYear)):(this.disableNextYear=!0,f.addClassName(this.container,g.disableNextYear));
else if("today-future"===q.direction||"future"===q.direction)b>11+q.months?(this.disablePreviousYear=!1,f.removeClassName(this.container,g.disablePreviousYear)):(this.disablePreviousYear=!0,f.addClassName(this.container,g.disablePreviousYear))}}};var c=function(b,c,g){var n=[];"string"===typeof b?b=b.split(c):f.isArray(b)||(b=[b]);c=b.length;var l=0,v;do b[l]&&(v=k(b[l],g).hours(12),v.isValid()&&n.push(v));while(++l<c);return n};window.Kalendae=g;var f=g.util={isIE8:function(){return!(!/msie 8./i.test(navigator.appVersion)||
/opera/i.test(navigator.userAgent)||!window.ActiveXObject||!XDomainRequest||window.msPerformance)},$:function(b){return"string"==typeof b?document.getElementById(b):b},$$:function(b){return document.querySelectorAll(b)},make:function(b,c,f){var g;b=document.createElement(b);if(c)for(g in c)c.hasOwnProperty(g)&&b.setAttribute(g,c[g]);f&&f.appendChild(b);return b},isVisible:function(b){return 0<b.offsetWidth||0<b.offsetHeight},getStyle:function(b,c){var f;b.currentStyle?f=b.currentStyle[c]:window.getComputedStyle&&
(f=(f=window.getComputedStyle(b,null))?f[c]:"");return f},domReady:function(b){var c=document.readyState;"complete"===c||"interactive"===c?b():setTimeout(function(){f.domReady(b)},9)},addEvent:function(b,c,f){var g=function(c){c=c||window.event;var g=f.apply(b,[c,c.target||c.srcElement]);!1===g&&(c.preventDefault?c.preventDefault():(c.returnValue=!1,c.cancelBubble=!0));return g};b.attachEvent?b.attachEvent("on"+c,g):b.addEventListener(c,g,!1);return g},removeEvent:function(b,c,f){b.detachEvent?b.detachEvent("on"+
c,f):b.removeEventListener(c,f,!1)},fireEvent:function(b,c){if(document.createEvent){var f=document.createEvent("HTMLEvents");f.initEvent(c,!1,!0);b.dispatchEvent(f)}else if(document.createEventObject)b.fireEvent("on"+c);else if("function"==typeof b["on"+c])b["on"+c]()},hasClassName:function(b,c){if(!(b=f.$(b)))return!1;var g=b.className;return 0<g.length&&(g==c||RegExp("(^|\\s)"+c+"(\\s|$)").test(g))},addClassName:function(b,c){(b=f.$(b))&&!f.hasClassName(b,c)&&(b.className+=(b.className?" ":"")+
c)},removeClassName:function(b,c){if(b=f.$(b))b.className=f.trimString(b.className.replace(RegExp("(^|\\s+)"+c+"(\\s+|$)")," "))},isFixed:function(b){do if("fixed"===f.getStyle(b,"position"))return!0;while(b=b.offsetParent);return!1},scrollContainer:function(b){do{var c=f.getStyle(b,"overflow");if("auto"===c||"scroll"===c)return b}while((b=b.parentNode)&&b!=window.document.body);return null},getPosition:function(b,c){var f=b.offsetLeft,g=b.offsetTop,k={};if(!c)for(;b=b.offsetParent;)f+=b.offsetLeft,
g+=b.offsetTop;k[0]=k.left=f;k[1]=k.top=g;return k},getHeight:function(b){return b.offsetHeight||b.scrollHeight},getWidth:function(b){return b.offsetWidth||b.scrollWidth},trimString:function(b){return b.replace(/^\s+/,"").replace(/\s+$/,"")},merge:function(){for(var b=!0===arguments[0],c={},f=b?1:0;f<arguments.length;f++){var g=c,k=arguments[f];if("object"===typeof k){var n=void 0;for(n in k)k.hasOwnProperty(n)&&(b&&"object"===typeof g[n]&&"object"===typeof k[n]?_update(g[n],k[n]):g[n]=k[n])}}return c},
isArray:function(b){return"[object Array]"==Object.prototype.toString.call(b)}};"function"===typeof document.addEventListener&&g.util.domReady(function(){for(var b=f.$$(".auto-kal"),c=b.length,k,n;c--;)k=b[c],n=k.getAttribute("data-kal"),n=null==n||""==n?{}:(new Function("return {"+n+"};"))(),"INPUT"===k.tagName?new g.Input(k,n):new g(f.merge(n,{attachTo:k}))});g.Input=function(b,c){if("function"===typeof document.addEventListener||f.isIE8()){var k=this.input=f.$(b),n,l,v=!1;if(!k||"INPUT"!==k.tagName)throw"First argument for Kalendae.Input must be an <input> element or a valid element id.";
var u=this,A=u.classes;l=u.settings=f.merge(u.defaults,c);this._events={};l.attachTo=window.document.body;l.selected?n=!0:l.selected=k.value;g.call(u,l);l.closeButton&&(l=f.make("a",{"class":A.closeButton},u.container),f.addEvent(l,"click",function(){k.blur()}));n&&(k.value=u.getSelected());n=u.container;var a=!1;n.style.display="none";f.addClassName(n,A.positioned);this._events.containerMouseDown=f.addEvent(n,"mousedown",function(b,c){a=!0});this._events.documentMousedown=f.addEvent(window.document,
"mousedown",function(b,c){a=!1});this._events.inputFocus=f.addEvent(k,"focus",function(){v=!0;u.setSelected(this.value);v=!1;u.show()});this._events.inputBlur=f.addEvent(k,"blur",function(){a&&f.isIE8()?(a=!1,k.focus()):u.hide()});this._events.inputKeyup=f.addEvent(k,"keyup",function(a){v=!0;u.setSelected(this.value);v=!1});(A=f.scrollContainer(k))&&f.addEvent(A,"scroll",function(a){k.blur()});u.subscribe("change",function(){v||(k.value=u.getSelected(),f.fireEvent(k,"change"))})}};g.Input.prototype=
f.merge(g.prototype,{defaults:f.merge(g.prototype.defaults,{format:"MM/DD/YYYY",side:"bottom",closeButton:!0,offsetLeft:0,offsetTop:0}),classes:f.merge(g.prototype.classes,{positioned:"k-floating",closeButton:"k-btn-close"}),show:function(){var b=this.container,c=b.style,g=this.input,k=f.getPosition(g),n=f.scrollContainer(g),n=n?n.scrollTop:0,l=this.settings;c.display="";switch(l.side){case "left":c.left=k.left-f.getWidth(b)+l.offsetLeft+"px";c.top=k.top+l.offsetTop-n+"px";break;case "right":c.left=
k.left+f.getWidth(g)+"px";c.top=k.top+l.offsetTop-n+"px";break;case "top":c.left=k.left+l.offsetLeft+"px";c.top=k.top-f.getHeight(b)+l.offsetTop-n+"px";break;default:c.left=k.left+l.offsetLeft+"px",c.top=k.top+f.getHeight(g)+l.offsetTop-n+"px"}c.position=f.isFixed(g)?"fixed":"absolute";this.publish("show",this)},hide:function(){this.container.style.display="none";this.publish("hide",this)},destroy:function(){var b=this.container,c=this.input;f.removeEvent(b,"mousedown",this._events.containerMousedown);
f.removeEvent(window.document,"mousedown",this._events.documentMousedown);f.removeEvent(c,"focus",this._events.inputFocus);f.removeEvent(c,"blur",this._events.inputBlur);f.removeEvent(c,"keyup",this._events.inputKeyup);b.remove()}});var n=function(b){b||(b=this);var c=b.c_||{};b.publish=function(b,e,f){for(var g=(b=c[b])?b.length:0,k;g--;)if(k=b[g].apply(e,f||[]),"boolean"===typeof k)return k};b.subscribe=function(b,e,f){c[b]||(c[b]=[]);f?c[b].push(e):c[b].unshift(e);return[b,e]};b.unsubscribe=function(b){var e=
c[b[0]];b=b[1];for(var f=e?e.length:0;f--;)e[f]===b&&e.splice(f,1)}};(function(b){function c(b,d){return function(c){return a(b.call(this,c),d)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function g(){}function k(a){l(this,a)}function n(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,h=a.minutes||a.minute||a.m||0,g=a.seconds||a.second||a.s||0,k=a.milliseconds||a.millisecond||
a.ms||0;this._input=a;this._milliseconds=k+1E3*g+6E4*h+36E5*f;this._days=e+7*d;this._months=c+12*b;this._data={};this._bubble()}function l(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function A(a){return 0>a?Math.ceil(a):Math.floor(a)}function a(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function d(a,b,c,d){var e=b._milliseconds,f=b._days;b=b._months;var h,g;e&&a._d.setTime(+a._d+e*c);if(f||b)h=a.minute(),g=a.hour();f&&a.date(a.date()+f*c);b&&a.month(a.month()+b*c);e&&!d&&
x.updateOffset(a);if(f||b)a.minute(h),a.hour(g)}function h(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function q(a){return a?Z[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function w(a){if(!a)return x.fn._lang;if(!F[a]&&L)try{require("./lang/"+a)}catch(b){return x.fn._lang}return F[a]}function B(a){var b=a.match(na),c,d;c=0;for(d=b.length;c<d;c++)b[c]=t[b[c]]?t[b[c]]:b[c].match(/\[.*\]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,
"");return function(e){var f="";for(c=0;c<d;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}function y(a,b){function c(b){return a.lang().longDateFormat(b)||b}for(var d=5;d--&&ua.test(b);)b=b.replace(ua,c);ra[b]||(ra[b]=B(b));return ra[b](a)}function P(a,b){switch(a){case "DDDD":return C;case "YYYY":return X;case "YYYYY":return ja;case "S":case "SS":case "SSS":case "DDD":return I;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return aa;case "a":case "A":return w(b._l)._meridiemParse;
case "X":return E;case "Z":case "ZZ":return G;case "T":return ka;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return qa;default:return RegExp(a.replace("\\",""))}}function O(a){a=((G.exec(a)||[])[0]+"").match(va)||["-",0,0];var b=+(60*a[1])+~~a[2];return"+"===a[0]?-b:b}function W(a){var b,c=[];if(!a._d){for(b=0;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[3]+=~~((a._tzm||0)/60);c[4]+=~~((a._tzm||0)%60);
b=new Date(0);a._useUTC?(b.setUTCFullYear(c[0],c[1],c[2]),b.setUTCHours(c[3],c[4],c[5],c[6])):(b.setFullYear(c[0],c[1],c[2]),b.setHours(c[3],c[4],c[5],c[6]));a._d=b}}function ca(a){var b=a._f.match(na),c=a._i,d,e;a._a=[];for(d=0;d<b.length;d++)if((e=(P(b[d],a).exec(c)||[])[0])&&(c=c.slice(c.indexOf(e)+e.length)),t[b[d]]){var f=a,h=void 0,g=f._a;switch(b[d]){case "M":case "MM":g[1]=null==e?0:~~e-1;break;case "MMM":case "MMMM":h=w(f._l).monthsParse(e);null!=h?g[1]=h:f._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=
e&&(g[2]=~~e);break;case "YY":g[0]=~~e+(68<~~e?1900:2E3);break;case "YYYY":case "YYYYY":g[0]=~~e;break;case "a":case "A":f._isPm=w(f._l).isPM(e);break;case "H":case "HH":case "h":case "hh":g[3]=~~e;break;case "m":case "mm":g[4]=~~e;break;case "s":case "ss":g[5]=~~e;break;case "S":case "SS":case "SSS":g[6]=~~(1E3*("0."+e));break;case "X":f._d=new Date(1E3*parseFloat(e));break;case "Z":case "ZZ":f._useUTC=!0,f._tzm=O(e)}null==e&&(f._isValid=!1)}c&&(a._il=c);a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&
12===a._a[3]&&(a._a[3]=0);W(a)}function R(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function V(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=x(a).add("d",c);return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Y(a){var c=a._i,d=a._f;if(null===c||""===c)return null;"string"===typeof c&&(a._i=c=w().preparse(c));if(x.isMoment(c))a=l({},c),a._d=new Date(+c._d);else if(d)if("[object Array]"===Object.prototype.toString.call(d)){var c=a,f,g,m=99,n;for(n=0;n<c._f.length;n++)f=l({},c),
f._f=c._f[n],ca(f),d=new k(f),f=h(f._a,d.toArray()),d._il&&(f+=d._il.length),f<m&&(m=f,g=d);l(c,g)}else ca(a);else if(g=a,c=g._i,d=Q.exec(c),c===b)g._d=new Date;else if(d)g._d=new Date(+d[1]);else if("string"===typeof c)if(c=g._i,d=ma.exec(c)){g._f="YYYY-MM-DD"+(d[2]||" ");for(d=0;4>d;d++)if(M[d][1].exec(c)){g._f+=M[d][0];break}G.exec(c)&&(g._f+=" Z");ca(g)}else g._d=new Date(c);else"[object Array]"===Object.prototype.toString.call(c)?(g._a=c.slice(0),W(g)):g._d=c instanceof Date?new Date(+c):new Date(c);
return new k(a)}function J(a,b){x.fn[a]=x.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),x.updateOffset(this),this):this._d["get"+c+b]()}}function U(a){x.duration.fn[a]=function(){return this._data[a]}}function H(a,b){x.duration.fn["as"+a]=function(){return+this/b}}for(var x,D=Math.round,K,F={},L="undefined"!==typeof module&&module.exports,Q=/^\/?Date\((\-?\d+)/i,ha=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,na=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,
ua=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,qa=/\d\d?/,I=/\d{1,3}/,C=/\d{3}/,X=/\d{1,4}/,ja=/[+\-]?\d{1,6}/,aa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,G=/Z|[\+\-]\d\d:?\d\d/i,ka=/T/i,E=/[\+\-]?\d+(\.\d{1,3})?/,ma=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,M=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],
va=/([\+\-]|\d\d)/gi,ia=["Date","Hours","Minutes","Seconds","Milliseconds"],oa={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Z={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},ra={},sa="DDD w W M D d".split(" "),la="MDHhmswW".split(""),t={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},
d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},YYYYY:function(){return a(this.year(),5)},gg:function(){return a(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return a(this.weekYear(),
5)},GG:function(){return a(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return a(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},
S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var b=-this.zone(),c="+";0>b&&(b=-b,c="-");return c+a(~~(b/60),2)+":"+a(~~b%60,2)},ZZ:function(){var b=-this.zone(),c="+";0>b&&(b=-b,c="-");return c+a(~~(10*b/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};sa.length;)K=sa.pop(),t[K+"o"]=f(t[K],K);for(;la.length;)K=la.pop(),
t[K+K]=c(t[K],2);t.DDDD=c(t.DDD,3);g.prototype={set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);
for(b=0;12>b;b++)if(this._monthsParse[b]||(c=x([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},
weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=x([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===
typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return V(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};x=function(a,b,c){return Y({_i:a,_f:b,_l:c,_isUTC:!1})};x.utc=function(a,b,c){return Y({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})};x.unix=function(a){return x(1E3*a)};x.duration=function(a,b){var c=x.isDuration(a),d="number"===typeof a,e=c?a._input:d?{}:a,f=ha.exec(a);d?b?e[b]=a:e.milliseconds=a:f&&(d="-"===f[1]?-1:1,e={y:0,d:~~f[2]*d,
h:~~f[3]*d,m:~~f[4]*d,s:~~f[5]*d,ms:~~f[6]*d});f=new n(e);c&&a.hasOwnProperty("_lang")&&(f._lang=a._lang);return f};x.version="2.1.0";x.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";x.updateOffset=function(){};x.lang=function(a,b){if(!a)return x.fn._lang._abbr;b?(b.abbr=a,F[a]||(F[a]=new g),F[a].set(b)):F[a]||w(a);x.duration.fn._lang=x.fn._lang=w(a)};x.langData=function(a){a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr);return w(a)};x.isMoment=function(a){return a instanceof k};x.isDuration=function(a){return a instanceof
n};x.fn=k.prototype={clone:function(){return x(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return y(x(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},
isValid:function(){null==this._isValid&&(this._isValid=this._a?!h(this._a,(this._isUTC?x.utc(this._a):x(this._a)).toArray()):!isNaN(this._d.getTime()));return!!this._isValid},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=y(this,a||x.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===typeof a?x.duration(+b,a):x.duration(a,b);d(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?
x.duration(+b,a):x.duration(a,b);d(this,c,-1);return this},diff:function(a,b,c){a=this._isUTC?x(a).zone(this._offset||0):x(a).local();var d=6E4*(this.zone()-a.zone()),e;b=q(b);"year"===b||"month"===b?(e=432E5*(this.daysInMonth()+a.daysInMonth()),d=12*(this.year()-a.year())+(this.month()-a.month()),d+=(this-x(this).startOf("month")-(a-x(a).startOf("month")))/e,d-=6E4*(this.zone()-x(this).startOf("month").zone()-(a.zone()-x(a).startOf("month").zone()))/e,"year"===b&&(d/=12)):(e=this-a,d="second"===
b?e/1E3:"minute"===b?e/6E4:"hour"===b?e/36E5:"day"===b?(e-d)/864E5:"week"===b?(e-d)/6048E5:e);return c?d:A(d)},from:function(a,b){return x.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(x(),a)},calendar:function(){var a=this.diff(x().startOf("day"),"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){var a=this.year();
return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"===typeof a&&(a=this.lang().weekdaysParse(a),"number"!==typeof a)?this:this.add({d:a-b}):b},month:function(a){var b=this._isUTC?"UTC":"",c;if(null!=a){if("string"===typeof a&&(a=this.lang().monthsParse(a),"number"!==typeof a))return this;c=this.date();this.date(1);
this._d["set"+b+"Month"](a);this.date(Math.min(c,this.daysInMonth()));x.updateOffset(this);return this}return this._d["get"+b+"Month"]()},startOf:function(a){a=q(a);switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);return this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==
typeof b?b:"millisecond";return+this.clone().startOf(b)>+x(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+x(a).startOf(b)},isSame:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)===+x(a).startOf(b)},min:function(a){a=x.apply(null,arguments);return a<this?this:a},max:function(a){a=x.apply(null,arguments);return a>this?this:a},zone:function(a){var b=this._offset||0;if(null!=a)"string"===typeof a&&(a=
O(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&d(this,x.duration(b-a,"m"),1,!0);else return this._isUTC?b:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return x.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=D((x(this).startOf("day")-x(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=
V(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=V(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=V(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||
7:this.day(this.day()%7?a:a-7)},lang:function(a){if(a===b)return this._lang;this._lang=w(a);return this}};for(K=0;K<ia.length;K++)J(ia[K].toLowerCase().replace(/s$/,""),ia[K]);J("year","FullYear");x.fn.days=x.fn.day;x.fn.months=x.fn.month;x.fn.weeks=x.fn.week;x.fn.isoWeeks=x.fn.isoWeek;x.fn.toJSON=x.fn.toISOString;x.duration.fn=n.prototype={_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;d.milliseconds=a%1E3;a=A(a/1E3);d.seconds=a%60;a=A(a/60);d.minutes=a%60;a=
A(a/60);d.hours=a%24;b+=A(a/24);d.days=b%30;c+=A(b/30);d.months=c%12;b=A(c/12);d.years=b},weeks:function(){return A(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=D(Math.abs(b)/1E3),f=D(e/60),h=D(f/60),g=D(h/24),k=D(g/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===h&&["h"]||22>h&&["hh",h]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",
D(g/30)]||1===k&&["y"]||["yy",k];e[2]=c;e[3]=0<b;e[4]=d;c=R.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=x.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=x.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=q(a);return this[a.toLowerCase()+"s"]()},
as:function(a){a=q(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:x.fn.lang};for(K in oa)oa.hasOwnProperty(K)&&(H(K,oa[K]),U(K.toLowerCase()));H("Weeks",6048E5);x.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};x.lang("en",{ordinal:function(a){var b=a%10;return a+(1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}});L&&(module.exports=x);"undefined"===typeof ender&&(this.moment=x);"function"===typeof define&&define.amd&&
define("moment",[],function(){return x});this.moment=x}).call("undefined"===typeof g?window:g);if(!g.moment)if(window.moment)g.moment=window.moment;else throw"Kalendae requires moment.js. You must use kalendae.standalone.js if moment is not available on the page.";k=g.moment;k.fn.yearDay=function(b){var c=Math.floor(this._d/864E5);return"undefined"===typeof b?c:this.add({d:b-c})};l=g.moment().startOf("day");"undefined"===typeof jQuery||"function"!==typeof document.addEventListener&&!f.isIE8()||(jQuery.fn.kalendae=
function(b){this.each(function(c,f){"INPUT"===f.tagName?$(f).data("kalendae",new g.Input(f,b)):$(f).data("kalendae",new g($.extend({},{attachTo:f},b)))});return this})})();
(function(b,l){"object"===typeof exports?l(exports):"function"===typeof define&&define.amd?define(["exports"],l):l(b)})(this,function(b){function l(a){this._targetElement=a;this._introItems=[];this._options={name:"",nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,
scrollToElement:!0,overlayOpacity:0.8,scrollPadding:30,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,require_diet:!0}}function k(a){var b=[],d=this;if(this._options.steps)for(var e=0,h=this._options.steps.length;e<h;e++){var k=g(this._options.steps[e]);k.step=b.length+1;"string"===typeof k.element&&(k.element=document.querySelector(k.element));if("undefined"===typeof k.element||null==k.element){var m=document.querySelector(".introjsFloatingElement");
null==m&&(m=document.createElement("div"),m.className="introjsFloatingElement",document.body.appendChild(m));k.element=m;k.position="floating"}null!=k.element&&b.push(k)}else{h=a.querySelectorAll("*[data-intro]");if(1>h.length)return!1;e=0;for(k=h.length;e<k;e++)if(m=h[e],"none"!=m.style.display){var l=parseInt(m.getAttribute("data-step"),10);0<l&&(b[l-1]={element:m,intro:m.getAttribute("data-intro"),step:parseInt(m.getAttribute("data-step"),10),tooltipClass:m.getAttribute("data-tooltipClass"),highlightClass:m.getAttribute("data-highlightClass"),
position:m.getAttribute("data-position")||this._options.tooltipPosition})}e=l=0;for(k=h.length;e<k;e++)if(m=h[e],null==m.getAttribute("data-step")){for(;"undefined"!=typeof b[l];)l++;b[l]={element:m,intro:m.getAttribute("data-intro"),step:l+1,tooltipClass:m.getAttribute("data-tooltipClass"),highlightClass:m.getAttribute("data-highlightClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition}}}e=[];for(h=0;h<b.length;h++)b[h]&&e.push(b[h]);b=e;b.sort(function(a,b){return a.step-
b.step});d._introItems=b;B.call(d,a)&&(c.call(d),a.querySelector(".introjs-skipbutton"),a.querySelector(".introjs-nextbutton"),d._onKeyDown=function(b){if(27===b.keyCode&&!0==d._options.exitOnEsc)void 0!=d._introExitCallback&&d._introExitCallback.call(d),n.call(d,a);else if(37===b.keyCode)f.call(d);else if(39===b.keyCode)c.call(d);else if(13===b.keyCode){var e=b.target||b.srcElement;e&&0<e.className.indexOf("introjs-prevbutton")?f.call(d):e&&0<e.className.indexOf("introjs-skipbutton")?(d._introItems.length-
1==d._currentStep&&"function"===typeof d._introCompleteCallback&&d._introCompleteCallback.call(d),void 0!=d._introExitCallback&&d._introExitCallback.call(d),n.call(d,a)):c.call(d);b.preventDefault?b.preventDefault():b.returnValue=!1}},d._onResize=function(a){s.call(d,document.querySelector(".introjs-helperLayer"));s.call(d,document.querySelector(".introjs-tooltipReferenceLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",d._onKeyDown,!0),window.addEventListener("resize",
d._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",d._onKeyDown),document.attachEvent("onresize",d._onResize)));return!1}function g(a){if(null==a||"object"!=typeof a||"undefined"!=typeof a.nodeType)return a;var b={},c;for(c in a)b[c]="undefined"!=typeof jQuery&&a[c]instanceof jQuery?a[c]:g(a[c]);return b}function c(){this._direction="forward";"undefined"===typeof this._currentStep?this._currentStep=0:++this._currentStep;if(this._introItems.length<=
this._currentStep)"function"===typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),n.call(this,this._targetElement);else{var b=this._introItems[this._currentStep];"undefined"!==typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,b.element);a.call(this,b)}}function f(){this._direction="backward";if(0===this._currentStep)return!1;var b=this._introItems[--this._currentStep];"undefined"!==typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,
b.element);a.call(this,b)}function n(a){var b=a.querySelector(".introjs-overlay");if(null!=b){b.style.opacity=0;setTimeout(function(){b.parentNode&&b.parentNode.removeChild(b)},500);var c=a.querySelector(".introjs-helperLayer");c&&c.parentNode.removeChild(c);(c=a.querySelector(".introjs-tooltipReferenceLayer"))&&c.parentNode.removeChild(c);(a=a.querySelector(".introjs-disableInteraction"))&&a.parentNode.removeChild(a);(a=document.querySelector(".introjsFloatingElement"))&&a.parentNode.removeChild(a);
if(a=document.querySelector(".introjs-showElement"))a.className=a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");if((a=document.querySelectorAll(".introjs-fixParent"))&&0<a.length)for(c=a.length-1;0<=c;c--)a[c].className=a[c].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown);this._currentStep=void 0}}function e(a,
b,c,d,e){var f="",h,g;e=e||!1;b.style.top=null;b.style.right=null;b.style.bottom=null;b.style.left=null;b.style.marginLeft=null;b.style.marginTop=null;c.style.display="inherit";"undefined"!=typeof d&&null!=d&&(d.style.top=null,d.style.left=null);if(this._introItems[this._currentStep]){f=this._introItems[this._currentStep];f="string"===typeof f.tooltipClass?f.tooltipClass:this._options.tooltipClass;b.className=("introjs-tooltip "+f).replace(/^\s+|\s+$/g,"");g=this._introItems[this._currentStep].position;
if(("auto"==g||"auto"==this._options.tooltipPosition)&&"floating"!=g){f=g;h=this._options.positionPrecedence.slice();g=q();var k=V(b).height+10,n=V(b).width+20,l=V(a),u="floating";l.left+n>g.width||0>l.left+l.width/2-n?(r(h,"bottom"),r(h,"top")):(l.height+l.top+k>g.height&&r(h,"bottom"),0>l.top-k&&r(h,"top"));l.width+l.left+n>g.width&&r(h,"right");0>l.left-n&&r(h,"left");0<h.length&&(u=h[0]);f&&"auto"!=f&&-1<h.indexOf(f)&&(u=f);g=u}f=V(a);a=V(b);h=q();switch(g){case "top":c.className="introjs-arrow bottom";
p(f,e?0:15,a,h,b);b.style.bottom=f.height+20+"px";break;case "right":b.style.left=f.width+20+"px";f.top+a.height>h.height?(c.className="introjs-arrow left-bottom",b.style.top="-"+(a.height-f.height-20)+"px"):c.className="introjs-arrow left";break;case "left":e||!0!=this._options.showStepNumbers||(b.style.top="15px");f.top+a.height>h.height?(b.style.top="-"+(a.height-f.height-20)+"px",c.className="introjs-arrow right-bottom"):c.className="introjs-arrow right";b.style.right=f.width+20+"px";break;case "floating":c.style.display=
"none";b.style.left="50%";b.style.top="50%";b.style.marginLeft="-"+a.width/2+"px";b.style.marginTop="-"+a.height/2+"px";"undefined"!=typeof d&&null!=d&&(d.style.left="-"+(a.width/2+18)+"px",d.style.top="-"+(a.height/2+18)+"px");break;case "bottom-right-aligned":c.className="introjs-arrow top-right";m(f,0,a,b);b.style.top=f.height+20+"px";break;case "bottom-middle-aligned":c.className="introjs-arrow top-middle";c=f.width/2-a.width/2;e&&(c+=5);m(f,c,a,b)&&(b.style.right=null,p(f,c,a,h,b));b.style.top=
f.height+20+"px";break;default:c.className="introjs-arrow top",p(f,0,a,h,b),b.style.top=f.height+20+"px"}}}function p(a,b,c,d,e){if(a.left+b+c.width>d.width)return e.style.left=d.width-c.width-a.left+"px",!1;e.style.left=b+"px";return!0}function m(a,b,c,d){if(0>a.left+a.width-b-c.width)return d.style.left=-a.left+"px",!1;d.style.right=b+"px";return!0}function r(a,b){-1<a.indexOf(b)&&a.splice(a.indexOf(b),1)}function s(a){if(a&&this._introItems[this._currentStep]){var b=this._introItems[this._currentStep],
c=V(b.element),d=10;h(b.element)?a.className+=" introjs-fixedTooltip":a.className=a.className.replace(" introjs-fixedTooltip","");"floating"==b.position&&(d=0);a.setAttribute("style","width: "+(c.width+d)+"px; height:"+(c.height+d)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;")}}function v(a){var b=this,c=document.querySelector(".introjs-tooltipReferenceLayer");V(a.element);var f=c.querySelector(".introjs-helperNumberLayer"),h=c.querySelector(".introjs-tooltiptext"),g=c.querySelector(".introjs-arrow"),
k=c.querySelector(".introjs-tooltip");c.querySelector(".introjs-skipbutton");c.querySelector(".introjs-prevbutton");var m=c.querySelector(".introjs-nextbutton");k.style.opacity=0;if(null!=f){var n=this._introItems[0<=a.step-2?a.step-2:0];if(null!=n&&"forward"==this._direction&&"floating"==n.position||"backward"==this._direction&&"floating"==a.position)f.style.opacity=0}s.call(b,c);if((n=document.querySelectorAll(".introjs-fixParent"))&&0<n.length)for(var l=n.length-1;0<=l;l--)n[l].className=n[l].className.replace(/introjs-fixParent/g,
"").replace(/^\s+|\s+$/g,"");if(n=document.querySelector(".introjs-showElement"))n.className=n.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");b._lastShowElementTimer&&clearTimeout(b._lastShowElementTimer);b._lastShowElementTimer=setTimeout(function(){null!=f&&(f.innerHTML=a.step);h.innerHTML=a.intro;e.call(b,a.element,k,g,f);c.querySelector(".introjs-bullets li > a.active").className="";c.querySelector('.introjs-bullets li > a[data-stepnumber="'+a.step+'"]').className="active";
k.style.opacity=1;f&&(f.style.opacity=1)},350);m&&m.focus();a.element.className+=" introjs-showElement";m=d(a.element,"position");"absolute"!==m&&"relative"!==m&&(a.element.className+=" introjs-relativePosition");for(m=a.element.parentNode;null!=m&&"body"!==m.tagName.toLowerCase();){n=d(m,"z-index");l=parseFloat(d(m,"opacity"));if(/[0-9]+/.test(n)||1>l)m.className+=" introjs-fixParent";m=m.parentNode}if(!w(a.element)&&!0===this._options.scrollToElement){var l=a.element.getBoundingClientRect(),m=q().height,
n=l.bottom-(l.bottom-l.top),l=l.bottom-m,p=k.getBoundingClientRect(),p=p.bottom-(p.bottom-p.top),n=p>n?n:p;0>n||a.element.clientHeight>m?window.scrollBy(0,n-160):window.scrollBy(0,l+160)}}function u(){var a=document.querySelector(".introjs-disableInteraction");null===a&&(a=document.createElement("div"),a.className="introjs-disableInteraction",this._targetElement.appendChild(a));s.call(this,a)}function A(a){a.setAttribute("role","button");a.tabIndex=0}function a(a){"undefined"!==typeof this._introChangeCallback&&
this._introChangeCallback.call(this,a.element);var b=this,h=document.querySelector(".introjs-helperLayer"),g=document.querySelector(".introjs-tooltipReferenceLayer"),k="introjs-helperLayer";V(a.element);"string"===typeof a.highlightClass&&(k+=" "+a.highlightClass);"string"===typeof this._options.highlightClass&&(k+=" "+this._options.highlightClass);if(null!=h){var m=g.querySelector(".introjs-helperNumberLayer"),l=g.querySelector(".introjs-tooltiptext"),p=g.querySelector(".introjs-arrow"),r=g.querySelector(".introjs-tooltip"),
v=g.querySelector(".introjs-skipbutton"),y=g.querySelector(".introjs-prevbutton"),B=g.querySelector(".introjs-nextbutton");h.className=k;r.style.opacity=0;r.style.display="none";if(null!=m){var J=this._introItems[0<=a.step-2?a.step-2:0];if(null!=J&&"forward"==this._direction&&"floating"==J.position||"backward"==this._direction&&"floating"==a.position)m.style.opacity=0}s.call(b,h);s.call(b,g);if((J=document.querySelectorAll(".introjs-fixParent"))&&0<J.length)for(k=J.length-1;0<=k;k--)J[k].className=
J[k].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");if(J=document.querySelector(".introjs-showElement"))J.className=J.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");b._lastShowElementTimer&&clearTimeout(b._lastShowElementTimer);b._lastShowElementTimer=setTimeout(function(){null!=m&&(m.innerHTML=a.step);l.innerHTML=a.intro;r.style.display="block";e.call(b,a.element,r,p,m);g.querySelector(".introjs-bullets li > a.active").className="";g.querySelector('.introjs-bullets li > a[data-stepnumber="'+
a.step+'"]').className="active";g.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+Y.call(b)+"%;");r.style.opacity=1;m&&(m.style.opacity=1);-1===B.tabIndex?v.focus():B.focus()},350)}else{var C=document.createElement("div"),y=document.createElement("div"),h=document.createElement("div"),X=document.createElement("div"),P=document.createElement("div"),aa=document.createElement("div"),G=document.createElement("div"),W=document.createElement("div");C.className=k;y.className=
"introjs-tooltipReferenceLayer";s.call(b,C);s.call(b,y);this._targetElement.appendChild(C);this._targetElement.appendChild(y);h.className="introjs-arrow";P.className="introjs-tooltiptext";P.innerHTML=a.intro;aa.className="introjs-bullets";!1===this._options.showBullets&&(aa.style.display="none");for(var C=document.createElement("ul"),k=0,E=this._introItems.length;k<E;k++){var O=document.createElement("li"),ca=document.createElement("a");ca.onclick=function(){b.goToStep(this.getAttribute("data-stepnumber"))};
k===a.step-1&&(ca.className="active");A(ca);ca.innerHTML="&nbsp;";ca.setAttribute("data-stepnumber",this._introItems[k].step);O.appendChild(ca);C.appendChild(O)}aa.appendChild(C);G.className="introjs-progress";!1===this._options.showProgress&&(G.style.display="none");k=document.createElement("div");k.className="introjs-progressbar";k.setAttribute("style","width:"+Y.call(this)+"%;");G.appendChild(k);W.className="introjs-tooltipbuttons";!1===this._options.showButtons&&(W.style.display="none");X.className=
"introjs-tooltip";X.appendChild(P);X.appendChild(aa);X.appendChild(G);!0==this._options.showStepNumbers&&(J=document.createElement("span"),J.className="introjs-helperNumberLayer",J.innerHTML=a.step,y.appendChild(J));X.appendChild(h);y.appendChild(X);B=document.createElement("a");B.onclick=function(){b._introItems.length-1!=b._currentStep&&c.call(b)};A(B);B.innerHTML=this._options.nextLabel;y=document.createElement("a");y.onclick=function(){0!=b._currentStep&&f.call(b)};A(y);y.innerHTML=this._options.prevLabel;
v=document.createElement("a");v.className="introjs-button introjs-skipbutton";A(v);v.innerHTML=this._options.skipLabel;v.onclick=function(){b._introItems.length-1==b._currentStep&&"function"===typeof b._introCompleteCallback&&b._introCompleteCallback.call(b);b._introItems.length-1!=b._currentStep&&"function"===typeof b._introExitCallback&&b._introExitCallback.call(b);n.call(b,b._targetElement)};W.appendChild(v);1<this._introItems.length&&(W.appendChild(y),W.appendChild(B));X.appendChild(W);e.call(b,
a.element,X,h,J)}!0===this._options.disableInteraction&&u.call(b);y.removeAttribute("tabIndex");B.removeAttribute("tabIndex");0==this._currentStep&&1<this._introItems.length?(B.className="introjs-button introjs-nextbutton",!0==this._options.hidePrev?(y.className="introjs-button introjs-prevbutton introjs-hidden",B.className+=" introjs-fullbutton"):y.className="introjs-button introjs-prevbutton introjs-disabled",y.tabIndex="-1",v.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||
1==this._introItems.length?(v.innerHTML=this._options.doneLabel,y.className="introjs-button introjs-prevbutton",!0==this._options.hideNext?(B.className="introjs-button introjs-nextbutton introjs-hidden",y.className+=" introjs-fullbutton"):B.className="introjs-button introjs-nextbutton introjs-disabled",B.tabIndex="-1"):(y.className="introjs-button introjs-prevbutton",B.className="introjs-button introjs-nextbutton",v.innerHTML=this._options.skipLabel);B&&B.focus();a.element.className+=" introjs-showElement";
J=d(a.element,"position");"absolute"!==J&&"relative"!==J&&"fixed"!==J&&(a.element.className+=" introjs-relativePosition");for(J=a.element.parentNode;null!=J&&J.tagName&&"body"!==J.tagName.toLowerCase();){h=d(J,"z-index");X=parseFloat(d(J,"opacity"));W=d(J,"transform")||d(J,"-webkit-transform")||d(J,"-moz-transform")||d(J,"-ms-transform")||d(J,"-o-transform");if(/[0-9]+/.test(h)||1>X||"none"!==W&&void 0!==W)J.className+=" introjs-fixParent";J=J.parentNode}w(a.element)||!0!==this._options.scrollToElement||
(X=a.element.getBoundingClientRect(),J=q().height,h=X.bottom-(X.bottom-X.top),X=X.bottom-J,0>h||a.element.clientHeight>J?window.scrollBy(0,h-this._options.scrollPadding):window.scrollBy(0,X+70+this._options.scrollPadding));"undefined"!==typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,a.element)}function d(a,b){var c="";a.currentStyle?c=a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));
return c&&c.toLowerCase?c.toLowerCase():c}function h(a){var b=a.parentNode;return b&&"HTML"!==b.nodeName?"fixed"==d(a,"position")?!0:h(b):!1}function q(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;return{width:a.clientWidth,height:a.clientHeight}}function w(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom+80<=window.innerHeight&&a.right<=window.innerWidth}function B(a){var b=document.createElement("div"),
c="",d=this;b.className="introjs-overlay";if(a.tagName&&"body"!==a.tagName.toLowerCase()){var e=V(a);e&&(c+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",b.setAttribute("style",c))}else c+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",b.setAttribute("style",c);a.appendChild(b);b.onclick=function(){!0==d._options.exitOnOverlayClick&&(void 0!=d._introExitCallback&&d._introExitCallback.call(d),n.call(d,a))};setTimeout(function(){c+="opacity: "+d._options.overlayOpacity.toString()+
";";b.setAttribute("style",c)},10);return!0}function y(){var a=this._targetElement.querySelector(".introjs-hintReference");if(a){var b=a.getAttribute("data-step");a.parentNode.removeChild(a);return b}}function P(){for(var a=0,b=this._introItems.length;a<b;a++){var c=this._introItems[a];"undefined"!=typeof c.targetElement&&ca.call(this,c.hintPosition,c.element,c.targetElement)}}function O(a){y.call(this);var b=this._targetElement.querySelector('.introjs-hint[data-step="'+a+'"]');b&&(b.className+=" introjs-hidehint");
"undefined"!==typeof this._hintCloseCallback&&this._hintCloseCallback.call(this,a)}function W(){var a=this,b=document.querySelector(".introjs-hints");null==b&&(b=document.createElement("div"),b.className="introjs-hints");for(var c=0,d=this._introItems.length;c<d;c++){var e=this._introItems[c];if(!document.querySelector('.introjs-hint[data-step="'+c+'"]')){var f=document.createElement("a");A(f);(function(b,c,d){b.onclick=function(e){e=e?e:window.event;e.stopPropagation&&e.stopPropagation();null!=e.cancelBubble&&
(e.cancelBubble=!0);R.call(a,b,c,d)}})(f,e,c);f.className="introjs-hint";e.hintAnimation||(f.className+=" introjs-hint-no-anim");h(e.element)&&(f.className+=" introjs-fixedhint");var g=document.createElement("div");g.className="introjs-hint-dot";var k=document.createElement("div");k.className="introjs-hint-pulse";f.appendChild(g);f.appendChild(k);f.setAttribute("data-step",c);e.targetElement=e.element;e.element=f;ca.call(this,e.hintPosition,f,e.targetElement);b.appendChild(f)}}document.body.appendChild(b);
"undefined"!==typeof this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function ca(a,b,c){c=V.call(this,c);switch(a){default:case "top-left":b.style.left=c.left+"px";b.style.top=c.top+"px";break;case "top-right":b.style.left=c.left+c.width+"px";b.style.top=c.top+"px";break;case "bottom-left":b.style.left=c.left+"px";b.style.top=c.top+c.height+"px";break;case "bottom-right":b.style.left=c.left+c.width+"px";b.style.top=c.top+c.height+"px";break;case "bottom-middle":b.style.left=c.left+c.width/
2+"px";b.style.top=c.top+c.height+"px";break;case "top-middle":b.style.left=c.left+c.width/2+"px",b.style.top=c.top+"px"}}function R(a,b,c){"undefined"!==typeof this._hintClickCallback&&this._hintClickCallback.call(this,a,b,c);var d=y.call(this);if(parseInt(d,10)!=c){var d=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div");d.className="introjs-tooltip";d.onclick=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=
!0};f.className="introjs-tooltiptext";var k=document.createElement("p");k.innerHTML=b.hint;b=document.createElement("a");b.className="introjs-button";b.innerHTML=this._options.hintButtonLabel;b.onclick=O.bind(this,c);f.appendChild(k);f.appendChild(b);h.className="introjs-arrow";d.appendChild(h);d.appendChild(f);this._currentStep=a.getAttribute("data-step");g.className="introjs-tooltipReferenceLayer introjs-hintReference";g.setAttribute("data-step",a.getAttribute("data-step"));s.call(this,g);g.appendChild(d);
document.body.appendChild(g);e.call(this,a,d,h,null,!0)}}function V(a){var b={};b.width=a.offsetWidth;b.height=a.offsetHeight;for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;b.top=d;b.left=c;return b}function Y(){return 100*(parseInt(this._currentStep+1,10)/this._introItems.length)}var J=function(a){if("object"===typeof a)return new l(a);if("string"===typeof a){if(a=document.querySelector(a))return new l(a);throw Error("There is no element with given selector.");
}return new l(document.body)};J.version="2.3.0";J.fn=l.prototype={clone:function(){return new l(this)},setOption:function(a,b){this._options[a]=b;return this},setOptions:function(a){var b=this._options,c={},d;for(d in b)c[d]=b[d];for(d in a)c[d]=a[d];this._options=c;return this},start:function(){k.call(this,this._targetElement);return this},startOnHomePage:function(){var a=this;if(""!=Backbone.history.fragment&&-1==Backbone.history.fragment.indexOf("diet-plan/"))ETM.router.navigate("",{trigger:!0}),
setTimeout(function(){var b=ETM.current_diet?ETM.current_diet.stats.calories:0;if(0==b&&a._options.require_diet)return ETM.no_meal_plan_walkthrough.start();0!=b&&ETM.current_diet.attributes.meals.at(0).attributes.foods.at(0).trigger("disableHover");return a.start()},100);else{var b=ETM.current_diet?ETM.current_diet.stats.calories:0;if(0==b&&a._options.require_diet)return ETM.no_meal_plan_walkthrough.start();0!=b&&ETM.current_diet.attributes.meals.at(0).attributes.foods.at(0).trigger("disableHover");
return this.start()}},goToStep:function(a){this._currentStep=a-2;"undefined"!==typeof this._introItems&&c.call(this);return this},nextStep:function(){c.call(this);return this},previousStep:function(){f.call(this);return this},exit:function(){n.call(this,this._targetElement);return this},refresh:function(){s.call(this,document.querySelector(".introjs-helperLayer"));s.call(this,document.querySelector(".introjs-tooltipReferenceLayer"));P.call(this);return this},updateElementSelectors:function(){if(this._options.steps)for(var a=
0,b=this._options.steps.length;a<b;a++){var c=this._options.steps[a];if("string"===typeof c.element){var d=document.querySelector(c.element);d&&(this._introItems[a].element=d,this._introItems[a].position=c.position?c.position:"bottom")}}v.call(this,this._introItems[this._currentStep])},onbeforechange:function(a){if("function"===typeof a)this._introBeforeChangeCallback=a;else throw Error("Provided callback for onbeforechange was not a function");return this},onchange:function(a){if("function"===typeof a)this._introChangeCallback=
a;else throw Error("Provided callback for onchange was not a function.");return this},onafterchange:function(a){if("function"===typeof a)this._introAfterChangeCallback=a;else throw Error("Provided callback for onafterchange was not a function");return this},oncomplete:function(a){if("function"===typeof a)this._introCompleteCallback=a;else throw Error("Provided callback for oncomplete was not a function.");return this},onhintsadded:function(a){if("function"===typeof a)this._hintsAddedCallback=a;else throw Error("Provided callback for onhintsadded was not a function.");
return this},onhintclick:function(a){if("function"===typeof a)this._hintClickCallback=a;else throw Error("Provided callback for onhintclick was not a function.");return this},onhintclose:function(a){if("function"===typeof a)this._hintCloseCallback=a;else throw Error("Provided callback for onhintclose was not a function.");return this},onexit:function(a){if("function"===typeof a)this._introExitCallback=a;else throw Error("Provided callback for onexit was not a function.");return this},addHints:function(){a:{var a=
this._targetElement;this._introItems=[];if(this._options.hints)for(var a=0,b=this._options.hints.length;a<b;a++){var c=g(this._options.hints[a]);"string"===typeof c.element&&(c.element=document.querySelector(c.element));c.hintPosition=c.hintPosition||this._options.hintPosition;c.hintAnimation=c.hintAnimation||this._options.hintAnimation;null!=c.element&&this._introItems.push(c)}else{c=a.querySelectorAll("*[data-hint]");if(1>c.length)break a;a=0;for(b=c.length;a<b;a++){var d=c[a],e=d.getAttribute("data-hintAnimation"),
e=e?"true"==e:this._options.hintAnimation;this._introItems.push({element:d,hint:d.getAttribute("data-hint"),hintPosition:d.getAttribute("data-hintPosition")||this._options.hintPosition,hintAnimation:e,tooltipClass:d.getAttribute("data-tooltipClass"),position:d.getAttribute("data-position")||this._options.tooltipPosition})}}W.call(this);document.addEventListener?(document.addEventListener("click",y.bind(this),!1),window.addEventListener("resize",P.bind(this),!0)):document.attachEvent&&(document.attachEvent("onclick",
y.bind(this)),document.attachEvent("onresize",P.bind(this)))}return this},hideHint:function(a){O.call(this,a);return this},hideHints:function(){var a=this._targetElement.querySelectorAll(".introjs-hint");if(a&&0<a.length)for(var b=0;b<a.length;b++)O.call(this,a[b].getAttribute("data-step"));return this}};return b.introJs=J});
(function(b,l){if("function"===typeof define&&define.amd)define(["underscore","backbone"],function(g,c){return b.Backgrid=l(g,c)});else if("object"===typeof exports){var k=require("backbone");k.$=k.$||require("jquery");module.exports=l(require("underscore"),k)}else b.Backgrid=l(b._,b.Backbone)})(this,function(b,l){function k(a,b,c){b-=(a+"").length;b=0>b?0:b;for(var d="",e=0;e<b;e++)d+=c;return d+a}var g="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";
if(!String.prototype.trim||g.trim()){var g="["+g+"]",c=RegExp("^"+g+g+"*"),f=RegExp(g+g+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(c,"").replace(f,"")}}var n=l.$,e={Extension:{},resolveNameToClass:function(a,c){if(b.isString(a)){var d=b.map(a.split("-"),function(a){return a.slice(0,1).toUpperCase()+a.slice(1)}).join("")+c,f=e[d]||e.Extension[d];if(b.isUndefined(f))throw new ReferenceError("Class '"+
d+"' not found");return f}return a},callByNeed:function(){var a=arguments[0];if(!b.isFunction(a))return a;var c=arguments[1],d=[].slice.call(arguments,2);return a.apply(c,d+""?d:[])}};b.extend(e,l.Events);var p=e.Command=function(a){b.extend(this,{altKey:!!a.altKey,"char":a["char"],charCode:a.charCode,ctrlKey:!!a.ctrlKey,key:a.key,keyCode:a.keyCode,locale:a.locale,location:a.location,metaKey:!!a.metaKey,repeat:!!a.repeat,shiftKey:!!a.shiftKey,which:a.which})};b.extend(p.prototype,{moveUp:function(){return 38==
this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var m=e.CellFormatter=function(){};b.extend(m.prototype,{fromRaw:function(a,b){return a},toRaw:function(a,b){return a}});
var r=e.NumberFormatter=function(a){b.extend(this,this.defaults,a||{});if(0>this.decimals||20<this.decimals)throw new RangeError("decimals must be between 0 and 20");};r.prototype=new m;b.extend(r.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(a,c){if(b.isNull(a)||b.isUndefined(a))return"";a=parseFloat(a).toFixed(~~this.decimals);var d=a.split("."),e=d[1]?(this.decimalSeparator||".")+d[1]:"";return d[0].replace(this.HUMANIZED_NUM_RE,
"$1"+this.orderSeparator)+e},toRaw:function(a,c){a=a.trim();if(""===a)return null;for(var d="",e=a.split(this.orderSeparator),f=0;f<e.length;f++)d+=e[f];e=d.split(this.decimalSeparator);d="";for(f=0;f<e.length;f++)d=d+e[f]+".";"."===d[d.length-1]&&(d=d.slice(0,d.length-1));d=1*(1*d).toFixed(~~this.decimals);if(b.isNumber(d)&&!b.isNaN(d))return d}});var s=e.PercentFormatter=function(){e.NumberFormatter.apply(this,arguments)};s.prototype=new e.NumberFormatter;b.extend(s.prototype,{defaults:b.extend({},
r.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(a,b){var c=[].slice.call(arguments,1);c.unshift(a*this.multiplier);return(r.prototype.fromRaw.apply(this,c)||"0")+this.symbol},toRaw:function(a,c){var d=a.split(this.symbol);if(d&&d[0]&&""===d[1]||null==d[1])return d=r.prototype.toRaw.call(this,d[0]),b.isUndefined(d)?d:d/this.multiplier}});var v=e.DatetimeFormatter=function(a){b.extend(this,this.defaults,a||{});if(!this.includeDate&&!this.includeTime)throw Error("Either includeDate or includeTime must be true");
};v.prototype=new m;b.extend(v.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(a,c){if(""===(a+"").trim())return null;var d,e=null;b.isNumber(a)?(e=new Date(a),d=k(e.getUTCFullYear(),4,0)+"-"+k(e.getUTCMonth()+1,2,0)+"-"+k(e.getUTCDate(),2,0),e=k(e.getUTCHours(),2,0)+":"+k(e.getUTCMinutes(),2,0)+":"+k(e.getUTCSeconds(),2,0)):(a=a.trim(),e=a.split(this.ISO_SPLITTER_RE)||
[],e=(d=this.DATE_RE.test(e[0])?e[0]:"")&&e[1]?e[1]:this.TIME_RE.test(e[0])?e[0]:"");var f=this.DATE_RE.exec(d)||[],h=this.TIME_RE.exec(e)||[];if(!c||!(this.includeDate&&b.isUndefined(f[0])||this.includeTime&&b.isUndefined(h[0])||!this.includeDate&&d||!this.includeTime&&e))return e=new Date(Date.UTC(1*f[1]||0,1*f[2]-1||0,1*f[3]||0,1*h[1]||null,1*h[2]||null,1*h[3]||null,1*h[5]||null)),d="",this.includeDate&&(d=k(e.getUTCFullYear(),4,0)+"-"+k(e.getUTCMonth()+1,2,0)+"-"+k(e.getUTCDate(),2,0)),this.includeTime&&
(d=d+(this.includeDate?"T":"")+k(e.getUTCHours(),2,0)+":"+k(e.getUTCMinutes(),2,0)+":"+k(e.getUTCSeconds(),2,0),this.includeMilli&&(d=d+"."+k(e.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(d+="Z"),d},fromRaw:function(a,c){return b.isNull(a)||b.isUndefined(a)?"":this._convert(a)},toRaw:function(a,b){return this._convert(a,!0)}});var u=e.StringFormatter=function(){};u.prototype=new m;b.extend(u.prototype,{fromRaw:function(a,c){return b.isUndefined(a)||b.isNull(a)?"":a+""}});var A=
e.EmailFormatter=function(){};A.prototype=new m;b.extend(A.prototype,{toRaw:function(a,c){var d=a.trim().split("@");if(2===d.length&&b.all(d))return a}});g=e.SelectFormatter=function(){};g.prototype=new m;b.extend(g.prototype,{fromRaw:function(a,c){return b.isArray(a)?a:null!=a?[a]:[]}});var a=e.CellEditor=l.View.extend({initialize:function(a){this.formatter=a.formatter;this.column=a.column;this.column instanceof O||(this.column=new O(this.column));this.listenTo(this.model,"backgrid:editing",this.postRender)},
postRender:function(a,b){null!=b&&b.get("name")!=this.column.get("name")||this.$el.focus();return this}}),d=e.InputCellEditor=a.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(a){d.__super__.initialize.apply(this,arguments);a.placeholder&&this.$el.attr("placeholder",a.placeholder)},render:function(){var a=this.model;this.$el.val(this.formatter.fromRaw(a.get(this.column.get("name")),a));return this},saveOrCancel:function(a){var c=
this.formatter,d=this.model,e=this.column,f=new p(a),h="blur"===a.type;f.moveUp()||f.moveDown()||f.moveLeft()||f.moveRight()||f.save()||h?(a.preventDefault(),a.stopPropagation(),a=this.$el.val(),c=c.toRaw(a,d),b.isUndefined(c)?d.trigger("backgrid:error",d,e,a):(d.set(e.get("name"),c),d.trigger("backgrid:edited",d,e,f))):f.cancel()&&(a.stopPropagation(),d.trigger("backgrid:edited",d,e,f))},postRender:function(a,b){if(null==b||b.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var c=
this.$el.val();this.$el.focus().val(null).val(c)}else this.$el.focus();return this}}),h=e.Cell=l.View.extend({tagName:"td",formatter:m,editor:d,events:{click:"enterEditMode"},initialize:function(a){this.column=a.column;this.column instanceof O||(this.column=new O(this.column));a=this.column;var c=this.model,d=this.$el,f=e.resolveNameToClass(a.get("formatter")||this.formatter,"Formatter");b.isFunction(f.fromRaw)||b.isFunction(f.toRaw)||(f=new f);this.formatter=f;this.editor=e.resolveNameToClass(this.editor,
"CellEditor");this.listenTo(c,"change:"+a.get("name"),function(){d.hasClass("editor")||this.render()});this.listenTo(c,"backgrid:error",this.renderError);this.listenTo(a,"change:editable change:sortable change:renderable",function(a){a=a.changedAttributes();for(var b in a)a.hasOwnProperty(b)&&d.toggleClass(b,a[b])});this.updateStateClassesMaybe()},updateStateClassesMaybe:function(){var a=this.model,b=this.column,c=this.$el;c.toggleClass("editable",e.callByNeed(b.editable(),b,a));c.toggleClass("sortable",
e.callByNeed(b.sortable(),b,a));c.toggleClass("renderable",e.callByNeed(b.renderable(),b,a))},render:function(){var a=this.$el;a.empty();var b=this.model,c=this.column.get("name");a.text(this.formatter.fromRaw(b.get(c),b));a.addClass(c);this.updateStateClassesMaybe();this.delegateEvents();return this},enterEditMode:function(){var a=this.model,b=this.column;e.callByNeed(b.editable(),b,a)&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),a.trigger("backgrid:edit",
a,b,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),a.trigger("backgrid:editing",a,b,this,this.currentEditor))},renderError:function(a,b){null!=b&&b.get("name")!=this.column.get("name")||this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error");this.currentEditor.remove();this.stopListening(this.currentEditor);delete this.currentEditor;this.$el.removeClass("editor");
this.render()},remove:function(){this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor);return h.__super__.remove.apply(this,arguments)}}),m=e.StringCell=h.extend({className:"string-cell",formatter:u}),q=e.UriCell=h.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(a){q.__super__.initialize.apply(this,arguments);this.title=a.title||this.title;this.target=a.target||this.target},render:function(){this.$el.empty();var a=
this.model.get(this.column.get("name")),b=this.formatter.fromRaw(a,this.model);this.$el.append(n("<a>",{tabIndex:-1,href:a,title:this.title||b,target:this.target}).text(b));this.delegateEvents();return this}});e.EmailCell=m.extend({className:"email-cell",formatter:A,render:function(){this.$el.empty();var a=this.model,a=this.formatter.fromRaw(a.get(this.column.get("name")),a);this.$el.append(n("<a>",{tabIndex:-1,href:"mailto:"+a,title:a}).text(a));this.delegateEvents();return this}});var w=e.NumberCell=
h.extend({className:"number-cell",decimals:r.prototype.defaults.decimals,decimalSeparator:r.prototype.defaults.decimalSeparator,orderSeparator:r.prototype.defaults.orderSeparator,formatter:r,initialize:function(a){w.__super__.initialize.apply(this,arguments);var b=this.formatter;b.decimals=this.decimals;b.decimalSeparator=this.decimalSeparator;b.orderSeparator=this.orderSeparator}});e.IntegerCell=w.extend({className:"integer-cell",decimals:0});var B=e.PercentCell=w.extend({className:"percent-cell",
multiplier:s.prototype.defaults.multiplier,symbol:s.prototype.defaults.symbol,formatter:s,initialize:function(){B.__super__.initialize.apply(this,arguments);var a=this.formatter;a.multiplier=this.multiplier;a.symbol=this.symbol}}),y=e.DatetimeCell=h.extend({className:"datetime-cell",includeDate:v.prototype.defaults.includeDate,includeTime:v.prototype.defaults.includeTime,includeMilli:v.prototype.defaults.includeMilli,formatter:v,initialize:function(a){y.__super__.initialize.apply(this,arguments);
var c=this.formatter;c.includeDate=this.includeDate;c.includeTime=this.includeTime;c.includeMilli=this.includeMilli;c=this.includeDate?"YYYY-MM-DD":"";c+=this.includeDate&&this.includeTime?"T":"";c+=this.includeTime?"HH:mm:ss":"";c+=this.includeTime&&this.includeMilli?".SSS":"";this.editor=this.editor.extend({attributes:b.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:c})})}});e.DateCell=y.extend({className:"date-cell",includeTime:!1});e.TimeCell=y.extend({className:"time-cell",
includeDate:!1});s=e.BooleanCellEditor=a.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var a=this.model,a=this.formatter.fromRaw(a.get(this.column.get("name")),a);this.$el.prop("checked",a);return this},enterOrExitEditMode:function(a){if(!this.mouseDown){var b=this.model;b.trigger("backgrid:edited",b,this.column,
new p(a))}},saveOrCancel:function(a){var b=this.model,c=this.column,d=this.formatter,e=new p(a);if(e.passThru()&&"change"!=a.type)return!0;e.cancel()&&(a.stopPropagation(),b.trigger("backgrid:edited",b,c,e));var f=this.$el;e.save()||e.moveLeft()||e.moveRight()||e.moveUp()||e.moveDown()?(a.preventDefault(),a.stopPropagation(),a=d.toRaw(f.prop("checked"),b),b.set(c.get("name"),a),b.trigger("backgrid:edited",b,c,e)):"change"==a.type&&(a=d.toRaw(f.prop("checked"),b),b.set(c.get("name"),a),f.focus())}});
e.BooleanCell=h.extend({className:"boolean-cell",editor:s,events:{click:"enterEditMode"},render:function(){this.$el.empty();var a=this.model,b=this.column,c=e.callByNeed(b.editable(),b,a);this.$el.append(n("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(a.get(b.get("name")),a),disabled:!c}));this.delegateEvents();return this}});var a=e.SelectCellEditor=a.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:b.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',
null,{variable:null,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}),setOptionValues:function(a){this.optionValues=a;this.optionValues=b.result(this,"optionValues")},setMultiple:function(a){this.multiple=a;this.$el.prop("multiple",a)},_renderOptions:function(a,c){for(var d="",e=0;e<a.length;e++)d+=this.template({text:a[e][0],value:a[e][1],selected:-1<b.indexOf(c,a[e][1])});return d},render:function(){this.$el.empty();var a=b.result(this,"optionValues"),c=this.model,
c=this.formatter.fromRaw(c.get(this.column.get("name")),c);if(!b.isArray(a))throw new TypeError("optionValues must be an array");for(var d=null,e=null,e=e=null,f=0;f<a.length;f++)if(d=a[f],b.isArray(d))e=d[0],d=d[1],this.$el.append(this.template({text:e,value:d,selected:-1<b.indexOf(c,d)}));else if(b.isObject(d))e=d.name,e=n("<optgroup></optgroup>",{label:e}),e.append(this._renderOptions.call(this,d.values,c)),this.$el.append(e);else throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");
this.delegateEvents();return this},save:function(a){a=this.model;a.set(this.column.get("name"),this.formatter.toRaw(this.$el.val(),a))},close:function(a){var b=this.model,c=this.column,d=new p(a);if(d.cancel())a.stopPropagation(),b.trigger("backgrid:edited",b,c,new p(a));else if(d.save()||d.moveLeft()||d.moveRight()||d.moveUp()||d.moveDown()||"blur"==a.type)a.preventDefault(),a.stopPropagation(),this.save(a),b.trigger("backgrid:edited",b,c,new p(a))}}),P=e.SelectCell=h.extend({className:"select-cell",
editor:a,multiple:!1,formatter:g,optionValues:void 0,delimiter:", ",initialize:function(a){P.__super__.initialize.apply(this,arguments);this.listenTo(this.model,"backgrid:edit",function(a,b,c,d){b.get("name")==this.column.get("name")&&(d.setOptionValues(this.optionValues),d.setMultiple(this.multiple))})},render:function(){this.$el.empty();var a=b.result(this,"optionValues"),c=this.model,c=this.formatter.fromRaw(c.get(this.column.get("name")),c),d=[];try{if(!b.isArray(a)||b.isEmpty(a))throw new TypeError;
for(var e=0;e<c.length;e++)for(var f=c[e],h=0;h<a.length;h++){var g=a[h];if(b.isArray(g)){var k=g[0],g=g[1];g==f&&d.push(k)}else if(b.isObject(g))for(var m=g.values,n=0;n<m.length;n++){var l=m[n];l[1]==f&&d.push(l[0])}else throw new TypeError;}this.$el.append(d.join(this.delimiter))}catch(p){if(p instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw p;}this.delegateEvents();return this}}),O=e.Column=l.Model.extend({defaults:{name:void 0,
label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var a=e.resolveNameToClass(this.get("headerCell"),"HeaderCell"),b=e.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:b,headerCell:a},{silent:!0})},sortValue:function(){var a=this.get("sortValue");return b.isString(a)?this[a]:b.isFunction(a)?a:function(a,b){return a.get(b)}}});
b.each(["sortable","renderable","editable"],function(a){O.prototype[a]=function(){var c=this.get(a);return b.isString(c)?this[c]:b.isFunction(c)?c:!!c}});var W=e.Columns=l.Collection.extend({model:O}),ca=e.Row=l.View.extend({tagName:"tr",initialize:function(a){var b=this.columns=a.columns;b instanceof l.Collection||(b=this.columns=new W(b));for(var c=this.cells=[],d=0;d<b.length;d++)c.push(this.makeCell(b.at(d),a));this.listenTo(b,"add",function(b,d){var e=d.indexOf(b),f=this.makeCell(b,a);c.splice(e,
0,f);var h=this.$el;0===e?h.prepend(f.render().$el):e===d.length-1?h.append(f.render().$el):h.children().eq(e).before(f.render().$el)});this.listenTo(b,"remove",function(a,b,d){c[d.index].remove();c.splice(d.index,1)})},makeCell:function(a){return new (a.get("cell"))({column:a,model:this.model})},render:function(){this.$el.empty();for(var a=document.createDocumentFragment(),b=0;b<this.cells.length;b++)a.appendChild(this.cells[b].render().el);this.el.appendChild(a);this.delegateEvents();return this},
remove:function(){for(var a=0;a<this.cells.length;a++){var b=this.cells[a];b.remove.apply(b,arguments)}return l.View.prototype.remove.apply(this,arguments)}}),R=e.EmptyRow=l.View.extend({tagName:"tr",emptyText:null,initialize:function(a){this.emptyText=a.emptyText;this.columns=a.columns},render:function(){this.$el.empty();var a=document.createElement("td");a.setAttribute("colspan",this.columns.length);var c=document.createElement("span");c.innerHTML=b.result(this,"emptyText");a.appendChild(c);this.el.className=
"empty";this.el.appendChild(a);return this}}),V=e.HeaderCell=l.View.extend({tagName:"th",events:{"click a":"onClick"},initialize:function(a){this.column=a.column;this.column instanceof O||(this.column=new O(this.column));a=this.column;var b=this.collection,c=this.$el;this.listenTo(a,"change:editable change:sortable change:renderable",function(a){a=a.changedAttributes();for(var b in a)a.hasOwnProperty(b)&&c.toggleClass(b,a[b])});this.listenTo(a,"change:direction",this.setCellDirection);this.listenTo(a,
"change:name change:label",this.render);e.callByNeed(a.editable(),a,b)&&c.addClass("editable");e.callByNeed(a.sortable(),a,b)&&c.addClass("sortable");e.callByNeed(a.renderable(),a,b)&&c.addClass("renderable");this.listenTo(b.fullCollection||b,"sort",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending");this.column.set("direction",null)},setCellDirection:function(a,b){this.$el.removeClass("ascending").removeClass("descending");a.cid==
this.column.cid&&this.$el.addClass(b)},onClick:function(a){function b(a,c){"ascending"===d.get("direction")?f.trigger(h,c,"descending"):"descending"===d.get("direction")?f.trigger(h,c,null):f.trigger(h,c,"ascending")}function c(a,b){"ascending"===d.get("direction")?f.trigger(h,b,"descending"):f.trigger(h,b,"ascending")}a.preventDefault();var d=this.column,f=this.collection,h="backgrid:sort";e.callByNeed(d.sortable(),d,this.collection)&&("toggle"===d.get("sortType")?c(this,d):b(this,d))},render:function(){this.$el.empty();
var a=this.column,b;b=e.callByNeed(a.sortable(),a,this.collection)?n("<a>").text(a.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(a.get("label"));this.$el.append(b);this.$el.addClass(a.get("name"));this.$el.addClass(a.get("direction"));this.delegateEvents();return this}});e.HeaderRow=e.Row.extend({initialize:function(){e.Row.prototype.initialize.apply(this,arguments)},makeCell:function(a,b){var c=a.get("headerCell")||b.headerCell||V;return c=new c({column:a,collection:this.collection})}});
g=e.Header=l.View.extend({tagName:"thead",initialize:function(a){this.columns=a.columns;this.columns instanceof l.Collection||(this.columns=new W(this.columns));this.row=new e.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){this.$el.append(this.row.render().$el);this.delegateEvents();return this},remove:function(){this.row.remove.apply(this.row,arguments);return l.View.prototype.remove.apply(this,arguments)}});a=e.Body=l.View.extend({tagName:"tbody",initialize:function(a){this.columns=
a.columns;this.columns instanceof l.Collection||(this.columns=new W(this.columns));this.row=a.row||this.row||ca;this.rows=this.collection.map(function(a){return new this.row({columns:this.columns,model:a})},this);this.emptyText=a.emptyText;this._unshiftEmptyRowMayBe();a=this.collection;this.listenTo(a,"add",this.insertRow);this.listenTo(a,"remove",this.removeRow);this.listenTo(a,"sort",this.refresh);this.listenTo(a,"reset",this.refresh);this.listenTo(a,"backgrid:sort",this.sort);this.listenTo(a,"backgrid:edited",
this.moveToNextCell);this.listenTo(this.columns,"add remove",this.updateEmptyRow)},_unshiftEmptyRowMayBe:function(){if(0===this.rows.length&&null!=this.emptyText)return this.emptyRow=new R({emptyText:this.emptyText,columns:this.columns}),this.rows.unshift(this.emptyRow),!0},insertRow:function(a,b,c){this.rows[0]instanceof R&&this.rows.pop().remove();if(b instanceof l.Collection||c){c=new this.row({columns:this.columns,model:a});a=b.indexOf(a);this.rows.splice(a,0,c);b=this.$el;var d=b.children();
c=c.render().$el;a>=d.length?b.append(c):d.eq(a).before(c);return this}this.collection.add(a,b)},removeRow:function(a,c,d){if(d)return(b.isUndefined(d.render)||d.render)&&this.rows[d.index].remove(),this.rows.splice(d.index,1),this._unshiftEmptyRowMayBe()&&this.render(),this;this.collection.remove(a,c);this._unshiftEmptyRowMayBe()&&this.render()},updateEmptyRow:function(){null!=this.emptyRow&&this.emptyRow.render()},refresh:function(){for(var a=0;a<this.rows.length;a++)this.rows[a].remove();this.rows=
this.collection.map(function(a){return new this.row({columns:this.columns,model:a})},this);this._unshiftEmptyRowMayBe();this.render();this.collection.trigger("backgrid:refresh",this);return this},render:function(){this.$el.empty();for(var a=document.createDocumentFragment(),b=0;b<this.rows.length;b++)a.appendChild(this.rows[b].render().el);this.el.appendChild(a);this.delegateEvents();return this},remove:function(){for(var a=0;a<this.rows.length;a++){var b=this.rows[a];b.remove.apply(b,arguments)}return l.View.prototype.remove.apply(this,
arguments)},sort:function(a,c){if(!b.contains(["ascending","descending",null],c))throw new RangeError('direction must be one of "ascending", "descending" or `null`');b.isString(a)&&(a=this.columns.findWhere({name:a}));var d=this.collection,e;e="ascending"===c?-1:"descending"===c?1:null;var f=this.makeComparator(a.get("name"),e,e?a.sortValue():function(a){return 1*a.cid.replace("c","")});l.PageableCollection&&d instanceof l.PageableCollection?(d.setSorting(e&&a.get("name"),e,{sortValue:a.sortValue()}),
d.fullCollection?(null==d.fullCollection.comparator&&(d.fullCollection.comparator=f),d.fullCollection.sort(),d.trigger("backgrid:sorted",a,c,d)):d.fetch({reset:!0,success:function(){d.trigger("backgrid:sorted",a,c,d)}})):(d.comparator=f,d.sort(),d.trigger("backgrid:sorted",a,c,d));a.set("direction",c);return this},makeComparator:function(a,b,c){return function(d,e){var f=c(d,a),h=c(e,a),g;1===b&&(g=f,f=h,h=g);return f===h?0:f<h?-1:1}},moveToNextCell:function(a,b,c){var d=this.collection.indexOf(a),
f=this.columns.indexOf(b),h,g,k;if(-1===f)return this;this.rows[d].cells[f].exitEditMode();if(c.moveUp()||c.moveDown()||c.moveLeft()||c.moveRight()||c.save()){b=this.columns.length;var m=b*this.collection.length;if(c.moveUp()||c.moveDown())g=d+(c.moveUp()?-1:1),(b=this.rows[g])?(d=b.cells[f],e.callByNeed(d.column.editable(),d.column,a)&&(d.enterEditMode(),a.trigger("backgrid:next",g,f,!1))):a.trigger("backgrid:next",g,f,!0);else if(c.moveLeft()||c.moveRight()){c=c.moveRight();for(var n=d*b+f+(c?1:
-1);0<=n&&n<m;c?n++:n--)if(g=~~(n/b),k=n-g*b,d=this.rows[g].cells[k],f=e.callByNeed(d.column.renderable(),d.column,d.model),h=e.callByNeed(d.column.editable(),d.column,a),f&&h){d.enterEditMode();a.trigger("backgrid:next",g,k,!1);break}n==m&&a.trigger("backgrid:next",~~(n/b),n-g*b,!0)}}return this}});e.Footer=l.View.extend({tagName:"tfoot",initialize:function(a){this.columns=a.columns;this.columns instanceof l.Collection||(this.columns=new e.Columns(this.columns))}});e.Grid=l.View.extend({tagName:"table",
className:"backgrid",header:g,body:a,footer:null,initialize:function(a){a.columns instanceof l.Collection||(a.columns=new W(a.columns||this.columns));this.columns=a.columns;var c=b.omit(a,"el id attributes className tagName events".split(" "));this.body=a.body||this.body;this.body=new this.body(c);if(this.header=a.header||this.header)this.header=new this.header(c);if(this.footer=a.footer||this.footer)this.footer=new this.footer(c);this.listenTo(this.columns,"reset",function(){this.header&&(this.header=
new (this.header.remove().constructor)(c));this.body=new (this.body.remove().constructor)(c);this.footer&&(this.footer=new (this.footer.remove().constructor)(c));this.render()})},insertRow:function(){this.body.insertRow.apply(this.body,arguments);return this},removeRow:function(){this.body.removeRow.apply(this.body,arguments);return this},insertColumn:function(){this.columns.add.apply(this.columns,arguments);return this},removeColumn:function(){this.columns.remove.apply(this.columns,arguments);return this},
sort:function(){this.body.sort.apply(this.body,arguments);return this},render:function(){this.$el.empty();this.header&&this.$el.append(this.header.render().$el);this.footer&&this.$el.append(this.footer.render().$el);this.$el.append(this.body.render().$el);this.delegateEvents();this.trigger("backgrid:rendered",this);return this},remove:function(){this.header&&this.header.remove.apply(this.header,arguments);this.body.remove.apply(this.body,arguments);this.footer&&this.footer.remove.apply(this.footer,
arguments);return l.View.prototype.remove.apply(this,arguments)}});return e});
(function(b){if("undefined"!==typeof exports&&"undefined"!==typeof require)var l=b._||require("underscore"),k=b.Backbone||require("backbone");else l=b._,k=b.Backbone;var g=k.View.extend({events:{submit:function(b){this.trigger("submit",b)}},initialize:function(b){var f=this;b=this.options=l.extend({submitButton:!1},b);var g=this.schema=function(){if(b.schema)return l.result(b,"schema");var e=b.model;return e&&e.schema?l.result(e,"schema"):f.schema?l.result(f,"schema"):{}}();l.extend(this,l.pick(b,
"model","data","idPrefix","templateData"));var e=this.constructor;this.template=b.template||this.template||e.template;this.Fieldset=b.Fieldset||this.Fieldset||e.Fieldset;this.Field=b.Field||this.Field||e.Field;this.NestedField=b.NestedField||this.NestedField||e.NestedField;var e=this.selectedFields=b.fields||l.keys(g),k=this.fields={};l.each(e,function(b){k[b]=this.createField(b,g[b])},this);e=b.fieldsets||l.result(this,"fieldsets")||[e];this.fieldsets=[];l.each(e,function(b){this.fieldsets.push(this.createFieldset(b))},
this)},createFieldset:function(b){return new this.Fieldset({schema:b,fields:this.fields})},createField:function(b,f){var g={form:this,key:b,schema:f,idPrefix:this.idPrefix};this.model?g.model=this.model:g.value=this.data?this.data[b]:null;g=new this.Field(g);this.listenTo(g.editor,"all",this.handleEditorEvent);return g},handleEditorEvent:function(b,f){this.trigger.call(this,f.key+":"+b,this,f,Array.prototype.slice.call(arguments,2));switch(b){case "change":this.trigger("change",this);break;case "focus":this.hasFocus||
this.trigger("focus",this);break;case "blur":if(this.hasFocus){var g=this;setTimeout(function(){l.find(g.fields,function(b){return b.editor.hasFocus})||g.trigger("blur",g)},0)}}},templateData:function(){return{submitButton:this.options.submitButton}},render:function(){var b=this,f=this.fields,g=k.$,e=g(g.trim(this.template(l.result(this,"templateData"))));e.find("[data-editors]").add(e).each(function(e,k){var r=g(k),s=r.attr("data-editors");l.isUndefined(s)||(s="*"==s?b.selectedFields||l.keys(f):
s.split(","),l.each(s,function(b){r.append(f[b].editor.render().el)}))});e.find("[data-fields]").add(e).each(function(e,k){var r=g(k),s=r.attr("data-fields");l.isUndefined(s)||(s="*"==s?b.selectedFields||l.keys(f):s.split(","),l.each(s,function(b){r.append(f[b].render().el)}))});e.find("[data-fieldsets]").add(e).each(function(e,f){var k=g(f),s=k.attr("data-fieldsets");l.isUndefined(s)||l.each(b.fieldsets,function(b){k.append(b.render().el)})});this.setElement(e);e.addClass(this.className);return this},
validate:function(b){var f=this.fields,g=this.model,e={};b=b||{};l.each(f,function(b){var c=b.validate();c&&(e[b.key]=c)});!b.skipModelValidate&&g&&g.validate&&(b=g.validate(this.getValue()))&&(g=l.isObject(b)&&!l.isArray(b),g||(e._others=e._others||[],e._others.push(b)),g&&l.each(b,function(b,c){if(f[c]&&!e[c])f[c].setError(b),e[c]=b;else{e._others=e._others||[];var g={};g[c]=b;e._others.push(g)}}));return l.isEmpty(e)?null:e},commit:function(b){b=b||{};var f=this.validate({skipModelValidate:!b.validate});
if(f)return f;var g;b=l.extend({error:function(b,c){g=c}},b);this.model.set(this.getValue(),b);if(g)return g},getValue:function(b){if(b)return this.fields[b].getValue();var f={};l.each(this.fields,function(b){f[b.key]=b.getValue()});return f},setValue:function(b,f){var g={};"string"===typeof b?g[b]=f:g=b;for(var e in this.schema)void 0!==g[e]&&this.fields[e].setValue(g[e])},getEditor:function(b){var f=this.fields[b];if(!f)throw Error("Field not found: "+b);return f.editor},focus:function(){if(!this.hasFocus){var b=
this.fieldsets[0].getFieldAt(0);b&&b.editor.focus()}},blur:function(){if(this.hasFocus){var b=l.find(this.fields,function(b){return b.editor.hasFocus});b&&b.editor.blur()}},trigger:function(b){"focus"===b?this.hasFocus=!0:"blur"===b&&(this.hasFocus=!1);return k.View.prototype.trigger.apply(this,arguments)},remove:function(){l.each(this.fieldsets,function(b){b.remove()});l.each(this.fields,function(b){b.remove()});return k.View.prototype.remove.apply(this,arguments)}},{template:l.template('    <form>     <div data-fieldsets></div>      <% if (submitButton) { %>        <button type="submit"><%= submitButton %></button>      <% } %>    </form>  ',
null,this.templateSettings),templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},editors:{}});g.validators=function(){var b={};b.errMessages={required:"Required",regexp:"Invalid",number:"Must be a number",email:"Invalid email address",url:"Invalid URL",match:l.template('Must match field "<%= field %>"',null,g.templateSettings)};b.required=function(b){b=l.extend({type:"required",message:this.errMessages.required},b);return function(c){b.value=c;var e=
{type:b.type,message:l.isFunction(b.message)?b.message(b):b.message};if(null===c||void 0===c||!1===c||""===c)return e}};b.regexp=function(b){if(!b.regexp)throw Error('Missing required "regexp" option for "regexp" validator');b=l.extend({type:"regexp",match:!0,message:this.errMessages.regexp},b);return function(c){b.value=c;var e={type:b.type,message:l.isFunction(b.message)?b.message(b):b.message};if(null!==c&&void 0!==c&&""!==c&&("string"===typeof b.regexp&&(b.regexp=RegExp(b.regexp,b.flags)),b.match?
!b.regexp.test(c):b.regexp.test(c)))return e}};b.number=function(f){f=l.extend({type:"number",message:this.errMessages.number,regexp:/^[\-0-9]*\.?[0-9]*?$/},f);return b.regexp(f)};b.email=function(f){f=l.extend({type:"email",message:this.errMessages.email,regexp:/^[\w\-]{1,}([\w\-\+.]{1,1}[\w\-]{1,}){0,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/},f);return b.regexp(f)};b.url=function(f){f=l.extend({type:"url",message:this.errMessages.url,regexp:/^(http|https):\/\/(([A-Z0-9][A-Z0-9_\-]*)(\.[A-Z0-9][A-Z0-9_\-]*)+)(:(\d+))?\/?/i},
f);return b.regexp(f)};b.match=function(b){if(!b.field)throw Error('Missing required "field" options for "match" validator');b=l.extend({type:"match",message:this.errMessages.match},b);return function(c,e){b.value=c;var g={type:b.type,message:l.isFunction(b.message)?b.message(b):b.message};if(null!==c&&void 0!==c&&""!==c&&c!==e[b.field])return g}};return b}();g.Fieldset=k.View.extend({initialize:function(b){b=b||{};var f=this.schema=this.createSchema(b.schema);this.fields=l.pick(b.fields,f.fields);
this.template=b.template||f.template||this.template||this.constructor.template},createSchema:function(b){l.isArray(b)&&(b={fields:b});b.legend=b.legend||null;return b},getFieldAt:function(b){return this.fields[this.schema.fields[b]]},templateData:function(){return this.schema},render:function(){var b=this.fields,f=k.$,g=f(f.trim(this.template(l.result(this,"templateData"))));g.find("[data-fields]").add(g).each(function(e,g){var k=f(g),n=k.attr("data-fields");l.isUndefined(n)||l.each(b,function(b){k.append(b.render().el)})});
this.setElement(g);return this},remove:function(){l.each(this.fields,function(b){b.remove()});k.View.prototype.remove.call(this)}},{template:l.template("    <fieldset data-fields>      <% if (legend) { %>        <legend><%= legend %></legend>      <% } %>    </fieldset>  ",null,g.templateSettings)});g.Field=k.View.extend({initialize:function(b){b=b||{};l.extend(this,l.pick(b,"form","key","model","value","idPrefix"));var f=this.schema=this.createSchema(b.schema);this.template=b.template||f.template||
this.template||this.constructor.template;this.errorClassName=b.errorClassName||this.errorClassName||this.constructor.errorClassName;this.editor=this.createEditor()},createSchema:function(b){l.isString(b)&&(b={type:b});b=l.extend({type:"Text",title:this.createTitle()},b);b.type=l.isString(b.type)?g.editors[b.type]:b.type;return b},createEditor:function(){var b=l.extend(l.pick(this,"schema","form","key","model","value"),{id:this.createEditorId()});return new this.schema.type(b)},createEditorId:function(){var b=
this.idPrefix,f=this.key,f=f.replace(/\./g,"_");return l.isString(b)||l.isNumber(b)?b+f:l.isNull(b)?f:this.model?this.model.cid+"_"+f:f},createTitle:function(){var b=this.key,b=b.replace(/([A-Z])/g," $1");return b=b.replace(/^./,function(b){return b.toUpperCase()})},templateData:function(){var b=this.schema;return{help:b.help||"",title:b.title,fieldAttrs:b.fieldAttrs,editorAttrs:b.editorAttrs,key:this.key,editorId:this.editor.id}},render:function(){var b=this.schema,f=this.editor,n=k.$;if(b.type==
g.editors.Hidden)return this.setElement(f.render().el);var e=n(n.trim(this.template(l.result(this,"templateData"))));b.fieldClass&&e.addClass(b.fieldClass);b.fieldAttrs&&e.attr(b.fieldAttrs);e.find("[data-editor]").add(e).each(function(b,c){var e=n(c),g=e.attr("data-editor");l.isUndefined(g)||e.append(f.render().el)});this.setElement(e);return this},validate:function(){var b=this.editor.validate();b?this.setError(b.message):this.clearError();return b},setError:function(b){this.editor.hasNestedForm||
(this.$el.addClass(this.errorClassName),this.$("[data-error]").html(b))},clearError:function(){this.$el.removeClass(this.errorClassName);this.$("[data-error]").empty()},commit:function(){return this.editor.commit()},getValue:function(){return this.editor.getValue()},setValue:function(b){this.editor.setValue(b)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove();k.View.prototype.remove.call(this)}},{template:l.template('    <div>      <label for="<%= editorId %>"><%= title %></label>      <div>        <span data-editor></span>        <div data-error></div>        <div><%= help %></div>      </div>    </div>  ',
null,g.templateSettings),errorClassName:"error"});g.NestedField=g.Field.extend({template:l.template("    <div>      <span data-editor></span>      <% if (help) { %>        <div><%= help %></div>      <% } %>      <div data-error></div>    </div>  ",null,g.templateSettings)});g.Editor=g.editors.Base=k.View.extend({defaultValue:null,hasFocus:!1,initialize:function(b){b=b||{};if(b.model){if(!b.key)throw Error("Missing option: 'key'");this.model=b.model;this.value=this.model.get(b.key)}else void 0!==
b.value&&(this.value=b.value);void 0===this.value&&(this.value=this.defaultValue);l.extend(this,l.pick(b,"key","form"));var f=this.schema=b.schema||{};this.validators=b.validators||f.validators;this.$el.attr("id",this.id);this.$el.attr("name",this.getName());f.editorClass&&this.$el.addClass(f.editorClass);f.editorAttrs&&this.$el.attr(f.editorAttrs)},getName:function(){return(this.key||"").replace(/\./g,"_")},getValue:function(){return this.value},setValue:function(b){this.value=b},focus:function(){throw Error("Not implemented");
},blur:function(){throw Error("Not implemented");},commit:function(b){var f=this.validate();if(f)return f;this.listenTo(this.model,"invalid",function(b,c){f=c});this.model.set(this.key,this.getValue(),b);if(f)return f},validate:function(){var b=null,f=this.getValue(),g=this.form?this.form.getValue():{},e=this.validators,k=this.getValidator;e&&l.every(e,function(e){return(b=k(e)(f,g))?!1:!0});return b},trigger:function(b){"focus"===b?this.hasFocus=!0:"blur"===b&&(this.hasFocus=!1);return k.View.prototype.trigger.apply(this,
arguments)},getValidator:function(b){var f=g.validators;if(l.isRegExp(b))return f.regexp({regexp:b});if(l.isString(b)){if(!f[b])throw Error('Validator "'+b+'" not found');return f[b]()}if(l.isFunction(b))return b;if(l.isObject(b)&&b.type)return f[b.type](b);throw Error("Invalid validator: "+b);}});g.editors.Text=g.Editor.extend({tagName:"input",defaultValue:"",previousValue:"",events:{keyup:"determineChange",keypress:function(b){var f=this;setTimeout(function(){f.determineChange()},0)},select:function(b){this.trigger("select",
this)},focus:function(b){this.trigger("focus",this)},blur:function(b){this.trigger("blur",this)}},initialize:function(b){g.editors.Base.prototype.initialize.call(this,b);b=this.schema;var f="text";b&&b.editorAttrs&&b.editorAttrs.type&&(f=b.editorAttrs.type);b&&b.dataType&&(f=b.dataType);this.$el.attr("type",f)},render:function(){this.setValue(this.value);return this},determineChange:function(b){b=this.$el.val();b!==this.previousValue&&(this.previousValue=b,this.trigger("change",this))},getValue:function(){return this.$el.val()},
setValue:function(b){this.$el.val(b)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},select:function(){this.$el.select()}});g.editors.TextArea=g.editors.Text.extend({tagName:"textarea",initialize:function(b){g.editors.Base.prototype.initialize.call(this,b)}});g.editors.Password=g.editors.Text.extend({initialize:function(b){g.editors.Text.prototype.initialize.call(this,b);this.$el.attr("type","password")}});g.editors.Number=g.editors.Text.extend({defaultValue:0,
events:l.extend({},g.editors.Text.prototype.events,{keypress:"onKeyPress",change:"onKeyPress"}),initialize:function(b){g.editors.Text.prototype.initialize.call(this,b);b=this.schema;this.$el.attr("type","number");b&&b.editorAttrs&&b.editorAttrs.step||this.$el.attr("step","any")},onKeyPress:function(b){var f=this,g=function(){setTimeout(function(){f.determineChange()},0)};if(0===b.charCode)g();else{var e=this.$el.val();void 0!=b.charCode&&(e+=String.fromCharCode(b.charCode));/^[\-0-9]*\.?[0-9]*?$/.test(e)?
g():b.preventDefault()}},getValue:function(){var b=this.$el.val();return""===b?null:parseFloat(b,10)},setValue:function(b){b=l.isNumber(b)?b:l.isString(b)&&""!==b?parseFloat(b,10):null;l.isNaN(b)&&(b=null);g.editors.Text.prototype.setValue.call(this,b)}});g.editors.PositiveNumber=g.editors.Number.extend({initialize:function(b){g.editors.Text.prototype.initialize.call(this,b);b=this.schema;this.$el.attr("type","number");b&&b.editorAttrs&&b.editorAttrs.step||(this.$el.attr("step","any"),this.$el.attr("min",
0),this.$el.val(""))}});g.editors.ImperialNumber=g.editors.PositiveNumber.extend({initialize:function(b){g.editors.PositiveNumber.prototype.initialize.call(this,b);null==this.schema.current_units&&(this.schema.current_units="I");this.current_units=this.schema.current_units.toUpperCase();switch(this.schema.conversion){case "lbs-kgs":this.conversion_dict={I:2.20462,M:0.453592};break;case "inches-cms":this.conversion_dict={I:0.393701,M:2.54};break;default:this.conversion_dict=this.schema.conversion}"M"==
this.current_units&&(this.value=roundNumber(this.value*this.conversion_dict.M,1))},getValue:function(){var b=this.$el.val();if(""===b)return null;b=parseFloat(b,10);return"M"==this.current_units?roundNumber(this.getRawValue()*this.conversion_dict.I,1):b},getRawValue:function(){var b=this.$el.val();return""===b?null:parseFloat(b,10)},setImperialValue:function(b){"M"==this.current_units&&(b=roundNumber(b*this.conversion_dict.M,1));this.setValue(b)},toggleUnits:function(b){null!=b&&b!=this.current_units?
(this.current_units=b,null!=this.getRawValue()&&(this.value="I"==this.current_units?roundNumber(this.getRawValue()*this.conversion_dict.I,1):roundNumber(this.getRawValue()*this.conversion_dict.M,1),this.setValue(this.value))):null==b&&("M"==this.current_units?(this.current_units="I",null!=this.getRawValue()&&(this.value=roundNumber(this.getRawValue()*this.conversion_dict.I,1),this.setValue(this.value))):(this.current_units="M",null!=this.getRawValue()&&(this.value=roundNumber(this.getRawValue()*this.conversion_dict.M,
1),this.setValue(this.value))))}});g.editors.Hidden=g.editors.Text.extend({defaultValue:"",initialize:function(b){g.editors.Text.prototype.initialize.call(this,b);this.$el.attr("type","hidden")},focus:function(){},blur:function(){}});g.editors.Checkbox=g.editors.Base.extend({defaultValue:!1,className:"",tagName:"input",events:{click:function(b){this.trigger("change",this)},focus:function(b){this.trigger("focus",this)},blur:function(b){this.trigger("blur",this)}},initialize:function(b){g.editors.Base.prototype.initialize.call(this,
b);this.$el.attr("type","checkbox")},render:function(){this.setValue(this.value);return this},getValue:function(){return this.$el.prop("checked")},setValue:function(b){b?this.$el.prop("checked",!0):this.$el.prop("checked",!1)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()}});g.editors.SwitchCheckbox=g.editors.Checkbox.extend({template:l.template('            <div class="onoffswitch">              <label for="<%= editorId %>"><%= title %></label>              <div>                <span data-editor></span>                <div data-error></div>                <div><%= help %></div>              </div>            </div>          ',
null,g.templateSettings)});g.editors.Select=g.editors.Base.extend({tagName:"select",previousValue:"",events:{keyup:"determineChange",keypress:function(b){var f=this;setTimeout(function(){f.determineChange()},0)},change:function(b){this.trigger("change",this)},focus:function(b){this.trigger("focus",this)},blur:function(b){this.trigger("blur",this)}},initialize:function(b){g.editors.Base.prototype.initialize.call(this,b);this.value_type=this.schema.value_type?this.schema.value_type.toLowerCase():"string";
if(!this.schema||!this.schema.options)throw Error("Missing required 'schema.options'");},render:function(){this.setOptions(this.schema.options);return this},setOptions:function(b){var f=this;b instanceof k.Collection?0<b.length?this.renderOptions(b):b.fetch({success:function(g){f.renderOptions(b)}}):l.isFunction(b)?b(function(b){f.renderOptions(b)},f):this.renderOptions(b)},renderOptions:function(b){var f=this.$el;b=this._getOptionsHtml(b);f.html(b);this.setValue(this.value)},_getOptionsHtml:function(b){if(!l.isString(b))if(l.isArray(b))b=
this._arrayToHtml(b);else if(b instanceof k.Collection)b=this._collectionToHtml(b);else if(l.isFunction(b)){var f;b(function(b){f=b},this);b=this._getOptionsHtml(f)}else b=this._objectToHtml(b);return b},determineChange:function(b){b=this.getValue();b!==this.previousValue&&(this.previousValue=b,this.trigger("change",this))},getValue:function(){if("string"==this.value_type)return this.$el.val();if("boolean"==this.value_type){var b=this.$el.val();return""===b?null:"true"===b}b=this.$el.val();return""===
b?null:parseFloat(b,10)},setValue:function(b){"string"==this.value_type||"boolean"==this.value_type?this.$el.val(b):(b=l.isNumber(b)?b:l.isString(b)&&""!==b?parseFloat(b,10):null,l.isNaN(b)&&(b=null),g.editors.Text.prototype.setValue.call(this,b))},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},_collectionToHtml:function(b){var f=[];b.each(function(b){f.push({val:b.id,label:b.toString()})});return this._arrayToHtml(f)},_objectToHtml:function(b){var f=
[],g;for(g in b)b.hasOwnProperty(g)&&f.push({val:g,label:b[g]});return this._arrayToHtml(f)},_arrayToHtml:function(b){var f=[];l.each(b,function(b){if(l.isObject(b))if(b.group)f.push('<optgroup label="'+b.group+'">'),f.push(this._getOptionsHtml(b.options)),f.push("</optgroup>");else{var c=b.val||0===b.val?b.val:"",g=c==this.value?"selected":"";f.push("<option "+g+' value="'+c+'"'+(b.title?'title="'+b.title+'"':"")+">"+b.label+"</option>")}else g=b==this.value?"selected":"",f.push("<option "+g+">"+
b+"</option>")},this);return f.join("")}});g.editors.Slider=g.editors.Select.extend({render:function(){var b=this;this.setOptions(this.schema.options);setTimeout(function(){b.$el.multipleSelect({placeholder:"Select at least one meal type",selectAll:!1,minimumCountSelected:10,allSelected:!1})},0);return this},initSlider:function(){this.$el.slider({range:!1,min:0,step:1})},setValue:function(b){l.isArray(b)||(b=[b]);this.$el.val(b)},updateLabel:function(){l(l(function(){this.$el.parents(".bbf-field").find("label").text(this.schema.title+
": "+this.getValue()+(this.schema.valueSuffix||""))}).bind(this)).defer()}});g.editors.MultipleSelect=g.editors.Select.extend({attributes:{multiple:"multiple"},render:function(){var b=this;this.setOptions(this.schema.options);setTimeout(function(){b.$el.multipleSelect({placeholder:"Select at least one meal type",selectAll:!1,minimumCountSelected:10,allSelected:!1})},0);return this},setValue:function(b){l.isArray(b)||(b=[b]);this.$el.val(b)}});g.editors.SegmentedRadio=g.editors.Select.extend({tagName:"div",
className:"btn-group",events:{"change input[type=radio]":function(){this.trigger("change",this)},"focus input[type=radio]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=radio]":function(){if(this.hasFocus){var b=this;setTimeout(function(){b.$("input[type=radio]:focus")[0]||b.trigger("blur",b)},0)}}},initialize:function(){g.editors.SegmentedRadio.__super__.initialize.apply(this,arguments);this.$el.attr("data-toggle","buttons")},getTemplate:function(){return this.schema.template||
this.constructor.template},getValue:function(){if("string"==this.value_type)return this.$("input[type=radio]:checked").val();if("boolean"==this.value_type){var b=this.$("input[type=radio]:checked").val();return"true"==b}b=this.$("input[type=radio]:checked").val();return""===b?null:parseFloat(b)},setValue:function(b){"string"!=this.value_type&&"boolean"!=this.value_type&&(b=l.isNumber(b)?b:l.isString(b)&&""!==b?parseFloat(b):null,l.isNaN(b)&&(b=null));this.$("input[type=radio]").val([b])},focus:function(){if(!this.hasFocus){var b=
this.$("input[type=radio]:checked");b[0]?b.focus():this.$("input[type=radio]").first().focus()}},blur:function(){this.hasFocus&&this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(b){var f=[],g=this;l.each(b,function(b,c){var k="";if(l.isObject(b))var r="boolean"==g.value_type?!1:"",r=b.val||0===b.val?b.val:r,s=g.value===r?"active":"",v=g.value===r?"checked":"",k=k+('<label for="'+g.id+"-"+c+'" class="btn btn-default '+s+'">'),k=k+('<input type="radio" name="'+g.getName()+'" value="'+
r+'" id="'+g.id+"-"+c+'" '+v+"/>"),k=k+(b.label+"</label>");else s=g.value===b?"active":"",k+='<label for="'+g.id+"-"+c+'" class="btn btn-default '+s+'">',k+='<input type="radio" name="'+g.getName()+'" value="'+b+'" id="'+g.id+"-"+c+'" '+v+"/>",k+=b+"</label>";f.push(k)});return f.join("")}});g.editors.Radio=g.editors.Select.extend({tagName:"div",className:"form-control--bff-radio",events:{"change input[type=radio]":function(){this.trigger("change",this)},"focus input[type=radio]":function(){this.hasFocus||
this.trigger("focus",this)},"blur input[type=radio]":function(){if(this.hasFocus){var b=this;setTimeout(function(){b.$("input[type=radio]:focus")[0]||b.trigger("blur",b)},0)}}},getTemplate:function(){return this.schema.template||this.constructor.template},getValue:function(){if("string"==this.value_type)return this.$("input[type=radio]:checked").val();if("boolean"==this.value_type){var b=this.$("input[type=radio]:checked").val();return"true"==b}b=this.$("input[type=radio]:checked").val();return""===
b?null:parseFloat(b)},setValue:function(b){"string"!=this.value_type&&"boolean"!=this.value_type&&(b=l.isNumber(b)?b:l.isString(b)&&""!==b?parseFloat(b):null,l.isNaN(b)&&(b=null));this.$("input[type=radio]").val([b])},focus:function(){if(!this.hasFocus){var b=this.$("input[type=radio]:checked");b[0]?b.focus():this.$("input[type=radio]").first().focus()}},blur:function(){this.hasFocus&&this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(b){var f=[],g=this;l.each(b,function(b,c){var k='<div class="radio">';
if(l.isObject(b))var r=b.val||0===b.val?b.val:"",k=k+('<label for="'+g.id+"-"+c+'">'),k=k+('<input type="radio" name="'+g.getName()+'" value="'+r+'" id="'+g.id+"-"+c+'" />'),k=k+(b.label+"</label>");else k+='<label for="'+g.id+"-"+c+'">',k+='<input type="radio" name="'+g.getName()+'" value="'+b+'" id="'+g.id+"-"+c+'" />',k+=b+"</label>";f.push(k+"</div>")});return f.join("")}},{template:l.template('    <% _.each(items, function(item) { %>      <li>        <input type="radio" name="<%= item.name %>" value="<%= item.value %>" id="<%= item.id %>" />        <label for="<%= item.id %>"><%= item.label %></label>      </li>    <% }); %>  ',
null,g.templateSettings)});g.editors.Checkboxes=g.editors.Select.extend({tagName:"ul",className:"",groupNumber:0,events:{"click input[type=checkbox]":function(){this.trigger("change",this)},"focus input[type=checkbox]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=checkbox]":function(){if(this.hasFocus){var b=this;setTimeout(function(){b.$("input[type=checkbox]:focus")[0]||b.trigger("blur",b)},0)}}},getValue:function(){var b=[];this.$("input[type=checkbox]:checked").each(function(){b.push($(this).val())});
return b},setValue:function(b){l.isArray(b)||(b=[b]);this.$("input[type=checkbox]").val(b)},focus:function(){this.hasFocus||this.$("input[type=checkbox]").first().focus()},blur:function(){this.hasFocus&&this.$("input[type=checkbox]:focus").blur()},_arrayToHtml:function(b){var f=[],g=this;l.each(b,function(b,c){var k="<li>";if(l.isObject(b))var r=b.val||0===b.val?b.val:"",k=k+('<label class="checkbox" for="'+g.id+"-"+c+'"><input type="checkbox" name="'+g.getName()+'" value="'+r+'" id="'+g.id+"-"+c+
'" />'+b.label+"</label>");else k+='<label class="checkbox" for="'+g.id+"-"+c+'"><input type="checkbox" name="'+g.getName()+'" value="'+b+'" id="'+g.id+"-"+c+'" />'+b+"</label>";f.push(k+"</li>")});return f.join("")}});g.editors.NavList=g.editors.Select.extend({tagName:"ul",className:"nav nav-list tight-nav",events:{"click a":function(b){b=$(b.currentTarget);b.hasClass("disabled-filter")||(b.toggleClass("list-item-on"),this.trigger("change",this))},"focus a":function(){this.hasFocus||this.trigger("focus",
this)},"blur a":function(){if(this.hasFocus){var b=this;setTimeout(function(){b.$("a:focus")[0]||b.trigger("blur",b)},0)}}},getValue:function(){var b=[];this.$(".list-item-on").each(function(){b.push($(this).data("value"))});return b},setValue:function(b){l.isArray(b)||(b=[b]);var f=this;b.forEach(function(b){b&&f.$('a[data-value="'+b.toLowerCase()+'"]').addClass("list-item-on")})},focus:function(){this.hasFocus||this.$("a").first().focus()},blur:function(){this.hasFocus&&this.$("a:focus").blur()},
_arrayToHtml:function(b){var f=[],g=this;l.each(b,function(b,c){var k="<li>";if(l.isObject(b)){var r=b.val||0===b.val?b.val:b.label,k=k+('<a class="nav-list-item" name="'+g.getName()+'" data-value="'+r.toLowerCase()+'"  id="'+g.id+"-"+c+'">'+b.label+"</a>");b.subList&&b.subList.forEach(function(b,c){if(l.isObject(b)){var e=b.val||0===b.val?b.val:b.label;k+='<a class="sub-list-item" name="'+g.getName()+'" id="'+g.id+"-sub_"+c+'" data-value="'+e.toLowerCase()+'">- '+b.label+"</a>\n"}else k+='<a class="sub-list-item" name="'+
g.getName()+'" id="'+g.id+"-sub_"+c+'" data-value="'+b.toLowerCase()+'">- '+b+"</a>\n"})}else k+='<a class="nav-list-item" name="'+g.getName()+"\" data-value='"+l.escape(b).toLowerCase()+"'  id=\""+g.id+"-"+c+'">'+b+"</a>";k+="</li>";f.push(k)});return f.join("")}});g.editors.Object=g.editors.Base.extend({hasNestedForm:!0,initialize:function(b){this.value={};g.editors.Base.prototype.initialize.call(this,b);if(!this.form)throw Error('Missing required option "form"');if(!this.schema.subSchema)throw Error("Missing required 'schema.subSchema' option for Object editor");
},render:function(){var b=this.form.constructor;this.nestedForm=new b({schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_",Field:b.NestedField});this._observeFormEvents();this.$el.html(this.nestedForm.render().el);this.hasFocus&&this.trigger("blur",this);return this},getValue:function(){return this.nestedForm?this.nestedForm.getValue():this.value},setValue:function(b){this.value=b;this.render()},focus:function(){this.hasFocus||this.nestedForm.focus()},blur:function(){this.hasFocus&&
this.nestedForm.blur()},remove:function(){this.nestedForm.remove();k.View.prototype.remove.call(this)},validate:function(){return this.nestedForm.validate()},_observeFormEvents:function(){if(this.nestedForm)this.nestedForm.on("all",function(){var b=l.toArray(arguments);b[1]=this;this.trigger.apply(this,b)},this)}});g.editors.NestedModel=g.editors.Object.extend({initialize:function(b){g.editors.Base.prototype.initialize.call(this,b);if(!this.form)throw Error('Missing required option "form"');if(!b.schema.model)throw Error('Missing required "schema.model" option for NestedModel editor');
},render:function(){var b=this.form.constructor,f=this.value||{},g=this.schema.model,f=f.constructor===g?f:new g(f);this.nestedForm=new b({model:f,idPrefix:this.id+"_",fieldTemplate:"nestedField"});this._observeFormEvents();this.$el.html(this.nestedForm.render().el);this.hasFocus&&this.trigger("blur",this);return this},commit:function(){var b=this.nestedForm.commit();return b?(this.$el.addClass("error"),b):g.editors.Object.prototype.commit.call(this)}});g.editors.Date=g.editors.Base.extend({events:{"change select":function(){this.updateHidden();
this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var b=this;setTimeout(function(){b.$("select:focus")[0]||b.trigger("blur",b)},0)}}},parseDateString:function(b){b=b.split("-");return new Date(b[0],b[1]-1,b[2])},initialize:function(b){b=b||{};g.editors.Base.prototype.initialize.call(this,b);var f=g.editors.Date,k=new Date;this.options=l.extend({monthNames:f.monthNames,showMonthNames:f.showMonthNames},b);this.schema=
l.extend({yearStart:k.getFullYear()-100,yearEnd:k.getFullYear()},b.schema||{});this.value&&!l.isDate(this.value)&&(this.value=this.parseDateString(this.value));this.value||(f=new Date,f.setSeconds(0),f.setMilliseconds(0),this.value=f);this.template=b.template||this.constructor.template},render:function(){var b=this.options,f=this.schema,g=k.$,e=l.map(l.range(1,32),function(b){return'<option value="'+b+'">'+b+"</option>"}),p=l.map(l.range(0,12),function(e){return'<option value="'+e+'">'+(b.showMonthNames?
b.monthNames[e]:e+1)+"</option>"}),f=f.yearStart<f.yearEnd?l.range(f.yearStart,f.yearEnd+1):l.range(f.yearStart,f.yearEnd-1,-1),f=l.map(f,function(b){return'<option value="'+b+'">'+b+"</option>"}),e=g(g.trim(this.template({dates:e.join(""),months:p.join(""),years:f.join("")})));this.$date=e.find('[data-type="date"]');this.$month=e.find('[data-type="month"]');this.$year=e.find('[data-type="year"]');this.$hidden=g('<input type="hidden" name="'+this.key+'" />');e.append(this.$hidden);this.setValue(this.value);
this.setElement(e);this.$el.attr("id",this.id);this.$el.attr("name",this.getName());this.hasFocus&&this.trigger("blur",this);return this},getValue:function(){var b=this.$year.val(),f=this.$month.val(),g=this.$date.val();return b&&f&&g?this.schema.formatValue&&"function"===typeof this.schema.formatValue?this.schema.formatValue(b,f,g):this.parseDateString(b,f,g):null},setValue:function(b){this.$date.val(b.getDate());this.$month.val(b.getMonth());this.$year.val(b.getFullYear());this.updateHidden()},
focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var b=this.getValue();l.isDate(b)&&(b=b.toISOString());this.$hidden.val(b)}},{template:l.template('    <div>      <select data-type="date"><%= dates %></select>      <select data-type="month"><%= months %></select>      <select data-type="year"><%= years %></select>    </div>  ',null,g.templateSettings),showMonthNames:!0,monthNames:"January February March April May June July August September October November December".split(" ")});
g.editors.DateTime=g.editors.Base.extend({events:{"change select":function(){this.updateHidden();this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var b=this;setTimeout(function(){b.$("select:focus")[0]||b.trigger("blur",b)},0)}}},initialize:function(b){b=b||{};g.editors.Base.prototype.initialize.call(this,b);this.options=l.extend({DateEditor:g.editors.DateTime.DateEditor},b);this.schema=l.extend({minsInterval:15},
b.schema||{});this.dateEditor=new this.options.DateEditor(b);this.value=this.dateEditor.value;this.template=b.template||this.constructor.template},render:function(){var b=this.schema,f=k.$,g=l.map(l.range(0,24),function(b){return'<option value="'+b+'">'+(10>b?"0"+b:b)+"</option>"}),b=l.map(l.range(0,60,b.minsInterval),function(b){return'<option value="'+b+'">'+(10>b?"0"+b:b)+"</option>"}),f=f(f.trim(this.template({hours:g.join(),mins:b.join()})));f.find("[data-date]").append(this.dateEditor.render().el);
this.$hour=f.find('select[data-type="hour"]');this.$min=f.find('select[data-type="min"]');this.$hidden=f.find('input[type="hidden"]');this.setValue(this.value);this.setElement(f);this.$el.attr("id",this.id);this.$el.attr("name",this.getName());this.hasFocus&&this.trigger("blur",this);return this},getValue:function(){var b=this.dateEditor.getValue(),f=this.$hour.val(),g=this.$min.val();if(!b||!f||!g)return null;b.setHours(f);b.setMinutes(g);return b},setValue:function(b){l.isDate(b)||(b=this.parseDateString(b));
this.dateEditor.setValue(b);this.$hour.val(b.getHours());this.$min.val(b.getMinutes());this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var b=this.getValue();l.isDate(b)&&(b=b.toISOString());this.$hidden.val(b)},remove:function(){this.dateEditor.remove();g.editors.Base.prototype.remove.call(this)}},{template:l.template('    <div class="bbf-datetime">      <div class="bbf-date-container" data-date></div>      <select data-type="hour"><%= hours %></select>      :      <select data-type="min"><%= mins %></select>    </div>  ',
null,g.templateSettings),DateEditor:g.editors.Date});g.VERSION="0.14.0";k.Form=g;"undefined"!==typeof module&&(module.exports=g)})(window||global||this);
(function(b){b.template=_.template('    <form class="form-horizontal" role="form">      <div data-fieldsets></div>      <% if (submitButton) { %>        <button type="submit" class="btn"><%= submitButton %></button>      <% } %>    </form>  ');b.Fieldset.template=_.template("    <fieldset data-fields>      <% if (legend) { %>        <legend><%= legend %></legend>      <% } %>    </fieldset>  ");b.Field.template=_.template('    <div class="form-group field-<%= key %>">      <label class="col-sm-2 control-label" for="<%= editorId %>"><%= title %></label>      <div class="col-sm-10">        <span data-editor></span>        <p class="help-block" data-error></p>        <p class="help-block"><%= help %></p>      </div>    </div>  ');
b.NestedField.template=_.template('    <div class="field-<%= key %>">      <div title="<%= title %>" class="input-xlarge">        <span data-editor></span>        <div class="help-inline" data-error></div>      </div>      <div class="help-block"><%= help %></div>    </div>  ');b.editors.Base.prototype.className="form-control";b.Field.errorClassName="has-error";b.editors.List&&(b.editors.List.template=_.template('      <div class="bbf-list">        <ul class="list-unstyled clearfix" data-items></ul>        <button type="button" class="btn bbf-add" data-action="add">Add</button>      </div>    '),
b.editors.List.Item.template=_.template('      <li class="clearfix">        <div class="pull-left" data-editor></div>        <button type="button" class="btn bbf-del" data-action="remove">&times;</button>      </li>    '),b.editors.List.Object.template=b.editors.List.NestedModel.template=_.template('      <div class="bbf-list-modal"><%= summary %></div>    '))})(Backbone.Form);
!function(b){var l=b.HTMLCanvasElement&&b.HTMLCanvasElement.prototype,k;if(k=b.Blob)try{k=Boolean(new Blob)}catch(g){k=!1}var c=k;if(k=c)if(k=b.Uint8Array)try{k=100===(new Blob([new Uint8Array(100)])).size}catch(f){k=!1}var n=k,e=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||b.MSBlobBuilder,p=(c||e)&&b.atob&&b.ArrayBuffer&&b.Uint8Array&&function(b){var f,g,k,l,p,a;f=0<=b.split(",")[0].indexOf("base64")?atob(b.split(",")[1]):decodeURIComponent(b.split(",")[1]);g=new ArrayBuffer(f.length);k=
new Uint8Array(g);for(l=0;l<f.length;l+=1)k[l]=f.charCodeAt(l);return p=b.split(",")[0].split(":")[1].split(";")[0],c?new Blob([n?k:g],{type:p}):(a=new e,a.append(g),a.getBlob(p))};b.HTMLCanvasElement&&!l.toBlob&&(l.mozGetAsFile?l.toBlob=function(b,c,e){b(e&&l.toDataURL&&p?p(this.toDataURL(c,e)):this.mozGetAsFile("blob",c))}:l.toDataURL&&p&&(l.toBlob=function(b,c,e){b(p(this.toDataURL(c,e)))}));b.dataURLtoBlob=p}(window);
(function(b,l){function k(a,b,c,d,e){a={type:c.type||c,target:a,result:d};L(a,e);b(a)}function g(a,b,c,d){if(I.isBlob(a)&&h&&h.prototype["readAs"+c]){var e=new h;Q(e,x,function ma(c){var d=c.type;"progress"==d?k(a,b,c,c.target.result,{loaded:c.loaded,total:c.total}):"loadend"==d?(ha(e,x,ma),e=null):k(a,b,c,c.target.result)});try{d?e["readAs"+c](a,d):e["readAs"+c](a)}catch(f){k(a,b,"error",l,{error:f.toString()})}}else k(a,b,"error",l,{error:"filreader_not_support_"+c})}function c(a,b){if(!a.type&&
0===a.size%4096&&102400>=a.size)if(h)try{var c=new h;na(c,x,function(a){a="error"!=a.type;b(a);a&&c.abort()});c.readAsDataURL(a)}catch(d){b(!1)}else b(null);else b(!0)}function f(a){var b;return a.getAsEntry?b=a.getAsEntry():a.webkitGetAsEntry&&(b=a.webkitGetAsEntry()),b}function n(a,b){if(a)if(a.isFile)a.file(function(c){c.fullPath=a.fullPath;b(!1,[c])},function(a){b("FileError.code: "+a.code)});else if(a.isDirectory){var c=[];a.createReader().readEntries(function(a){I.afor(a,function(a,d){n(d,function(d,
e){d?I.log(d):c=c.concat(e);a?a():b(!1,c)})})},function(a){b("directory_reader: "+a)})}else n(f(a),b);else b("invalid entry")}function e(a){var b={};return F(a,function(a,c){a&&"object"==typeof a&&void 0===a.nodeType&&(a=L({},a));b[c]=a}),b}function p(a){for(var b in a)if(a.hasOwnProperty(b)&&!(a[b]instanceof Object||"overlay"===b||"filter"===b))return!0;return!1}var m=1,r=function(){},s=b.document,v=s.doctype||{},u=b.navigator.userAgent,A=b.createObjectURL&&b||b.URL&&URL.revokeObjectURL&&URL||b.webkitURL&&
webkitURL,a=b.Blob,d=b.File,h=b.FileReader,q=b.FormData,w=b.XMLHttpRequest,B=b.jQuery,y=!(!(d&&h&&(b.Uint8Array||q||w.prototype.sendAsBinary))||/safari\//i.test(u)&&!/chrome\//i.test(u)&&/windows/i.test(u)),u=y&&"withCredentials"in new w,q=y&&!!a&&!!(a.prototype.webkitSlice||a.prototype.mozSlice||a.prototype.slice),P=b.dataURLtoBlob,O=/img/i,W=/canvas/i,ca=/img|canvas/i,R=/input/i,V=/^data:[^,]+,/,Y=b.Math,J=function(a){return a=new b.Number(Y.pow(1024,a)),a.from=function(a){return Y.round(a*this)},
a},U={},H=[],x="abort progress error load loadend",D="status statusText readyState response responseXML responseText responseBody".split(" "),K=function(a){return a&&"length"in a},F=function(a,b,c){if(a)if(K(a))for(var d=0,e=a.length;e>d;d++)d in a&&b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)},L=function(a){for(var b=arguments,c=1,d=function(b,c){a[c]=b};c<b.length;c++)F(b[c],d);return a},Q=function(a,b,c){if(a){var d=I.uid(a);U[d]||(U[d]={});var e=h&&a&&a instanceof
h;F(b.split(/\s+/),function(b){B&&!e?B.event.add(a,b,c):(U[d][b]||(U[d][b]=[]),U[d][b].push(c),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)})}},ha=function(a,b,c){if(a){var d=I.uid(a),e=U[d]||{},f=h&&a&&a instanceof h;F(b.split(/\s+/),function(b){if(B&&!f)B.event.remove(a,b,c);else{for(var d=e[b]||[],h=d.length;h--;)if(d[h]===c){d.splice(h,1);break}a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}})}},
na=function(a,b,c){Q(a,b,function G(d){ha(a,b,G);c(d)})},ua=function(a){return a.target||(a.target=b.event&&b.event.srcElement||s),3===a.target.nodeType&&(a.target=a.target.parentNode),a},qa=function(a){var b=s.createElement("input");return b.setAttribute("type","file"),a in b},I={version:"2.0.4",cors:!1,html5:!0,media:!1,formData:!0,multiPassResize:!0,debug:!1,pingUrl:!1,multiFlash:!1,flashAbortTimeout:0,withCredentials:!0,staticPath:"./dist/",flashUrl:0,flashImageUrl:0,postNameConcat:function(a,
b){return a+(null!=b?"["+b+"]":"")},ext2mime:{jpg:"image/jpeg",tif:"image/tiff",txt:"text/plain"},accept:{"image/*":"art bm bmp dwg dxf cbr cbz fif fpx gif ico iefs jfif jpe jpeg jpg jps jut mcf nap nif pbm pcx pgm pict pm png pnm qif qtif ras rast rf rp svf tga tif tiff xbm xbm xpm xwd","audio/*":"m4a flac aac rm mpa wav wma ogg mp3 mp2 m3u mod amf dmf dsm far gdm imf it m15 med okt s3m stm sfx ult uni xm sid ac3 dts cue aif aiff wpl ape mac mpc mpp shn wv nsf spc gym adplug adx dsp adp ymf ast afc hps xs",
"video/*":"m4v 3gp nsv ts ty strm rm rmvb m3u ifo mov qt divx xvid bivx vob nrg img iso pva wmv asf asx ogm m2v avi bin dat dvr-ms mpg mpeg mp4 mkv avc vp3 svq3 nuv viv dv fli flv wpl"},uploadRetry:0,networkDownRetryTimeout:5E3,chunkSize:0,chunkUploadRetry:0,chunkNetworkDownRetryTimeout:2E3,KB:J(1),MB:J(2),GB:J(3),TB:J(4),EMPTY_PNG:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=",expando:"fileapi"+(new Date).getTime(),uid:function(a){return a?
a[I.expando]=a[I.expando]||I.uid():(++m,I.expando+m)},log:function(){I.debug&&b.console&&console.log&&(console.log.apply?console.log.apply(console,arguments):console.log([].join.call(arguments," ")))},newImage:function(a,b){var c=s.createElement("img");return b&&I.event.one(c,"error load",function(a){b("error"==a.type,c);c=null}),c.src=a,c},getXHR:function(){var a;if(w)a=new w;else if(b.ActiveXObject)try{a=new ActiveXObject("MSXML2.XMLHttp.3.0")}catch(c){a=new ActiveXObject("Microsoft.XMLHTTP")}return a},
isArray:K,support:{dnd:u&&"ondrop"in s.createElement("div"),cors:u,html5:y,chunked:q,dataURI:!0,accept:qa("accept"),multiple:qa("multiple")},event:{on:Q,off:ha,one:na,fix:ua},throttle:function(a,c){var d,e;return function(){e=arguments;d||(a.apply(b,e),d=setTimeout(function(){d=0;a.apply(b,e)},c))}},F:function(){},parseJSON:function(a){return b.JSON&&JSON.parse?JSON.parse(a):(new Function("return ("+a.replace(/([\r\n])/g,"\\$1")+");"))()},trim:function(a){return a=String(a),a.trim?a.trim():a.replace(/^\s+|\s+$/g,
"")},defer:function(){var a,b,c=[],d={resolve:function(e,f){d.resolve=r;b=e||!1;for(a=f;f=c.shift();)f(b,a)},then:function(d){b!==l?d(b,a):c.push(d)}};return d},queue:function(a){var b=0,c=0,d=!1,e=!1,f={inc:function(){c++},next:function(){b++;setTimeout(f.check,0)},check:function(){b>=c&&!d&&f.end()},isFail:function(){return d},fail:function(){!d&&a(d=!0)},end:function(){e||(e=!0,a())}};return f},each:F,afor:function(a,b){var c=0,d=a.length;K(a)&&d--?!function ka(){b(d!=c&&ka,a[c],c++)}():b(!1)},
extend:L,isFile:function(a){return y&&a&&a instanceof d},isBlob:function(b){return y&&b&&b instanceof a},isCanvas:function(a){return a&&W.test(a.nodeName)},getFilesFilter:function(a){return a="string"==typeof a?a:a.getAttribute&&a.getAttribute("accept")||"",a?RegExp("("+a.replace(/\./g,"\\.").replace(/,/g,"|")+")$","i"):/./},readAsDataURL:function(a,b){I.isCanvas(a)?k(a,b,"load",I.toDataURL(a)):g(a,b,"DataURL")},readAsBinaryString:function(a,b){h&&h.prototype.readAsBinaryString?g(a,b,"BinaryString"):
g(a,function(a){if("load"==a.type)try{a.result=I.toBinaryString(a.result)}catch(c){a.type="error",a.message=c.toString()}b(a)},"DataURL")},readAsArrayBuffer:function(a,b){g(a,b,"ArrayBuffer")},readAsText:function(a,b,c){c||(c=b,b="utf-8");g(a,c,"Text",b)},toDataURL:function(a,b){return"string"==typeof a?a:a.toDataURL?a.toDataURL(b||"image/png"):void 0},toBinaryString:function(a){return b.atob(I.toDataURL(a).replace(V,""))},readAsImage:function(a,b,c){if(I.isFile(a))if(A){var d=A.createObjectURL(a);
d===l?k(a,b,"error"):I.readAsImage(d,b,c)}else I.readAsDataURL(a,function(d){"load"==d.type?I.readAsImage(d.result,b,c):(c||"error"==d.type)&&k(a,b,d,null,{loaded:d.loaded,total:d.total})});else I.isCanvas(a)?k(a,b,"load",a):O.test(a.nodeName)?a.complete?k(a,b,"load",a):na(a,"error abort load",function ka(c){"load"==c.type&&A&&A.revokeObjectURL(a.src);ha(a,"error abort load",ka);k(a,b,c,a)}):a.iframe?k(a,b,{type:"error"}):(d=I.newImage(a.dataURL||a),I.readAsImage(d,b,c))},checkFileObj:function(a){var b=
{},c=I.accept;return"object"==typeof a?b=a:b.name=(a+"").split(/\\|\//g).pop(),null==b.type&&(b.type=b.name.split(".").pop()),F(c,function(a,c){a=RegExp(a.replace(/\s/g,"|"),"i");(a.test(b.type)||I.ext2mime[b.type])&&(b.type=I.ext2mime[b.type]||c.split("/")[0]+"/"+b.type)}),b},getDropFiles:function(a,b){var d=[],e=(a.originalEvent||a||"").dataTransfer||{},h=K(e.items)&&e.items[0]&&f(e.items[0]),g=I.queue(function(){b(d)});F((h?e.items:e.files)||[],function(a){g.inc();try{h?n(a,function(a,b){a?I.log("[err] getDropFiles:",
a):d.push.apply(d,b);g.next()}):c(a,function(b){b&&d.push(a);g.next()})}catch(b){g.next(),I.log("[err] getDropFiles: ",b)}});g.check()},getFiles:function(a,b,c){var d=[];return c?(I.filterFiles(I.getFiles(a),b,c),null):(a.jquery&&(a.each(function(){d=d.concat(I.getFiles(this))}),a=d,d=[]),"string"==typeof b&&(b=I.getFilesFilter(b)),a.originalEvent?a=ua(a.originalEvent):a.srcElement&&(a=ua(a)),a.dataTransfer?a=a.dataTransfer:a.target&&(a=a.target),a.files?(d=a.files,y||(d[0].blob=a,d[0].iframe=!0)):
!y&&R.test(a&&a.tagName)?I.trim(a.value)&&(d=[I.checkFileObj(a.value)],d[0].blob=a,d[0].iframe=!0):K(a)&&(d=a),I.filter(d,function(a){return!b||b.test(a.name)}))},getTotalSize:function(a){for(var b=0,c=a&&a.length;c--;)b+=a[c].size;return b},getInfo:function(a,b){var c={},d=H.concat();I.isFile(a)?!function ka(){var e=d.shift();e?e.test(a.type)?e(a,function(a,d){a?b(a):(L(c,d),ka())}):ka():b(!1,c)}():b("not_support_info",c)},addInfoReader:function(a,b){b.test=function(b){return a.test(b)};H.push(b)},
filter:function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)e in a&&(c=a[e],b.call(c,c,e,a)&&d.push(c));return d},filterFiles:function(a,b,c){if(a.length){var d,e=a.concat(),f=[],h=[];!function M(){e.length?(d=e.shift(),I.getInfo(d,function(a,c){(b(d,a?!1:c)?f:h).push(d);M()})):c(f,h)}()}else c([],a)},upload:function(a){a=L({jsonp:"callback",prepare:I.F,beforeupload:I.F,upload:I.F,fileupload:I.F,fileprogress:I.F,filecomplete:I.F,progress:I.F,complete:I.F,pause:I.F,imageOriginal:!0,chunkSize:I.chunkSize,
chunkUploadRetry:I.chunkUploadRetry,uploadRetry:I.uploadRetry},a);a.imageAutoOrientation&&!a.imageTransform&&(a.imageTransform={rotate:"auto"});var b,c=new I.XHR(a),d=this._getFilesDataArray(a.files),f=this,h=0,g=0,k=!1;return F(d,function(a){h+=a.size}),c.files=[],F(d,function(a){c.files.push(a.file)}),c.total=h,c.loaded=0,c.filesLeft=d.length,a.beforeupload(c,a),b=function(){var m=d.shift(),l=m&&m.file,n=!1,p=e(a);if(c.filesLeft=d.length,l&&l.name===I.expando&&(l=null,I.log("[warn] FileAPI.upload() \u2014 called without files")),
("abort"!=c.statusText||c.current)&&m){if(k=!1,c.currentFile=l,l&&!1===a.prepare(l,p))return void b.call(f);p.file=l;f._getFormData(p,m,function(e){g||a.upload(c,a);var k=new I.XHR(L({},p,{upload:l?function(){a.fileupload(l,k,p)}:r,progress:l?function(b){n||(n=b.loaded===b.total,a.fileprogress({type:"progress",total:m.total=b.total,loaded:m.loaded=b.loaded},l,k,p),a.progress({type:"progress",total:h,loaded:c.loaded=g+m.size*(b.loaded/b.total)|0},l,k,p))}:r,complete:function(d){F(D,function(a){c[a]=
k[a]});l&&(m.total=m.total||m.size,m.loaded=m.total,this.progress(m),n=!0,g+=m.size,c.loaded=g,a.filecomplete(d,k,l,p));setTimeout(function(){b.call(f)},0)}}));c.abort=function(a){a||(d.length=0);this.current=a;k.abort()};k.send(e)})}else a.complete(200==c.status||201==c.status||204==c.status?!1:c.statusText||"error",c,a),k=!0},setTimeout(b,0),c.append=function(a,e){a=I._getFilesDataArray([].concat(a));F(a,function(a){h+=a.size;c.files.push(a.file);e?d.unshift(a):d.push(a)});c.statusText="";k&&b.call(f)},
c.remove=function(a){for(var b,c=d.length;c--;)d[c].file==a&&(b=d.splice(c,1),h-=b.size);return b},c},_getFilesDataArray:function(a){var b=[],c={};if(R.test(a&&a.tagName)){var d=I.getFiles(a);c[a.name||"file"]=null!==a.getAttribute("multiple")?d:d[0]}else K(a)&&R.test(a[0]&&a[0].tagName)?F(a,function(a){c[a.name||"file"]=I.getFiles(a)}):c=a;return F(c,function ka(a,c){K(a)?F(a,function(a){ka(a,c)}):a&&(a.name||a.image)&&b.push({name:c,file:a,size:a.size,total:a.size,loaded:0})}),b.length||b.push({file:{name:I.expando}}),
b},_getFormData:function(a,b,c){var d=b.file,e=b.name,f=d.name,h=d.type,g=I.support.transform&&a.imageTransform,k=new I.Form,m=I.queue(function(){c(k)}),l=g&&p(g),n=I.postNameConcat;F(a.data,function ra(a,b){"object"==typeof a?F(a,function(a,c){ra(a,n(b,c))}):k.append(b,a)});(function sa(b){b.image?(m.inc(),b.toData(function(a,b){f=f||(new Date).getTime()+".png";sa(b);m.next()})):I.Image&&g&&(/^image/.test(b.type)||ca.test(b.nodeName))?(m.inc(),l&&(g=[g]),I.Image.transform(b,g,a.imageAutoOrientation,
function(c,d){if(l&&!c)P||I.flashEngine||(k.multipart=!0),k.append(e,d[0],f,g[0].type||h);else{var p=0;c||F(d,function(a,b){P||I.flashEngine||(k.multipart=!0);g[b].postName||(p=1);k.append(g[b].postName||n(e,b),a,f,g[b].type||h)});(c||a.imageOriginal)&&k.append(n(e,p?"original":null),b,f,h)}m.next()})):f!==I.expando&&k.append(e,b,f)})(d);m.check()},reset:function(a,b){var c,d;return B?(d=B(a).clone(!0).insertBefore(a).val("")[0],b||B(a).remove()):(c=a.parentNode,d=c.insertBefore(a.cloneNode(!0),a),
d.value="",b||c.removeChild(a),F(U[I.uid(a)],function(b,c){F(b,function(b){ha(a,c,b);Q(d,c,b)})})),d},load:function(a,b){var c=I.getXHR();return c?(c.open("GET",a,!0),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),Q(c,"progress",function(a){a.lengthComputable&&b({type:a.type,loaded:a.loaded,total:a.total},c)}),c.onreadystatechange=function(){if(4==c.readyState)if(c.onreadystatechange=null,200==c.status){a=a.split("/");var d={name:a[a.length-1],size:c.getResponseHeader("Content-Length"),
type:c.getResponseHeader("Content-Type")};d.dataURL="data:"+d.type+";base64,"+I.encode64(c.responseBody||c.responseText);b({type:"load",result:d},c)}else b({type:"error"},c)},c.send(null)):b({type:"error"}),c},encode64:function(a){var b="",c=0;for("string"!=typeof a&&(a=String(a));c<a.length;){var d,e,f=255&a.charCodeAt(c++),h=255&a.charCodeAt(c++),g=255&a.charCodeAt(c++),k=f>>2,f=(3&f)<<4|h>>4;isNaN(h)?d=e=64:(d=(15&h)<<2|g>>6,e=isNaN(g)?64:63&g);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)}return b}};I.addInfoReader(/^image/,function(a,b){if(!a.__dimensions){var c=a.__dimensions=I.defer();I.readAsImage(a,function(a){var b=a.target;c.resolve("load"==a.type?!1:"error",{width:b.width,height:b.height});b.src=I.EMPTY_PNG})}a.__dimensions.then(b)});I.event.dnd=
function(a,b,c){var d,e;c||(c=b,b=I.F);h?(Q(a,"dragenter dragleave dragover",function(a){for(var c=((a.originalEvent||a||"").dataTransfer||{}).types,f=c&&c.length,h=!1;f--;)if(~c[f].indexOf("File")){a.preventDefault();e!==a.type&&(e=a.type,"dragleave"!=e&&b.call(a.currentTarget,!0,a),h=!0);break}h&&(clearTimeout(d),d=setTimeout(function(){b.call(a.currentTarget,"dragleave"!=e,a)},50))}),Q(a,"drop",function(a){a.preventDefault();e=0;b.call(a.currentTarget,!1,a);I.getDropFiles(a,function(b){c.call(a.currentTarget,
b,a)})})):I.log("Drag'n'Drop -- not supported")};I.event.dnd.off=function(a,b,c){ha(a,"dragenter dragleave dragover",b);ha(a,"drop",c)};B&&!B.fn.dnd&&(B.fn.dnd=function(a,b){return this.each(function(){I.event.dnd(this,a,b)})},B.fn.offdnd=function(a,b){return this.each(function(){I.event.dnd.off(this,a,b)})});b.FileAPI=L(I,b.FileAPI);I.log("FileAPI: "+I.version);I.log("protocol: "+b.location.protocol);I.log("doctype: ["+v.name+"] "+v.publicId+" "+v.systemId);F(s.getElementsByTagName("meta"),function(a){/x-ua-compatible/i.test(a.getAttribute("http-equiv"))&&
I.log("meta.http-equiv: "+a.getAttribute("content"))});I.flashUrl||(I.flashUrl=I.staticPath+"FileAPI.flash.swf");I.flashImageUrl||(I.flashImageUrl=I.staticPath+"FileAPI.flash.image.swf");I.flashWebcamUrl||(I.flashWebcamUrl=I.staticPath+"FileAPI.flash.camera.swf")})(window,void 0);
(function(b,l,k){function g(c){if(c instanceof g){var e=new g(c.file);return b.extend(e.matrix,c.matrix),e}return this instanceof g?(this.file=c,this.size=c.size||100,void(this.matrix={sx:0,sy:0,sw:0,sh:0,dx:0,dy:0,dw:0,dh:0,resize:0,deg:0,quality:1,filter:0})):new g(c)}var c=Math.min,f=Math.round,n=!1,e={8:270,3:180,6:90,7:270,4:180,5:90};try{n=-1<l.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")}catch(p){}g.prototype={image:!0,constructor:g,set:function(c){return b.extend(this.matrix,
c),this},crop:function(b,c,e,f){return e===k&&(e=b,f=c,b=c=0),this.set({sx:b,sy:c,sw:e,sh:f||e})},resize:function(b,c,e){return/min|max/.test(c)&&(e=c,c=b),this.set({dw:b,dh:c||b,resize:e})},preview:function(b,c){return this.resize(b,c||b,"preview")},rotate:function(b){return this.set({deg:b})},filter:function(b){return this.set({filter:b})},overlay:function(b){return this.set({overlay:b})},clone:function(){return new g(this)},_load:function(c,e){var f=this;/img|video/i.test(c.nodeName)?e.call(f,
null,c):b.readAsImage(c,function(b){e.call(f,"load"!=b.type,b.result)})},_apply:function(e,f){var k,n=l.createElement("canvas"),p=this.getMatrix(e),A=n.getContext("2d"),a=p.deg,d=p.dw,h=p.dh,q=e.videoWidth||e.width,w=e.videoHeight||e.height,B=p.filter,y=e,P=p.overlay,O=b.queue(function(){e.src=b.EMPTY_PNG;f(!1,n)}),W=b.renderImageToCanvas,a=a-360*Math.floor(a/360);for(e._type=this.file.type;p.multipass&&2<c(q/d,w/h);)q=q/2+0.5|0,w=w/2+0.5|0,k=l.createElement("canvas"),k.width=q,k.height=w,y!==e?(W(k,
y,0,0,y.width,y.height,0,0,q,w),y=k):(y=k,W(y,e,p.sx,p.sy,p.sw,p.sh,0,0,q,w),p.sx=p.sy=p.sw=p.sh=0);n.width=a%180?h:d;n.height=a%180?d:h;n.type=p.type;n.quality=p.quality;A.rotate(a*Math.PI/180);W(A.canvas,y,p.sx,p.sy,p.sw||y.width,p.sh||y.height,180==a||270==a?-d:0,90==a||180==a?-h:0,d,h);d=n.width;h=n.height;P&&b.each([].concat(P),function(a){O.inc();var c=new window.Image,e=function(){var f=0|a.x,g=0|a.y,k=a.w||c.width,m=a.h||c.height,l=a.rel,f=1==l||4==l||7==l?(d-k+f)/2:2==l||5==l||8==l?d-(k+
f):f,g=3==l||4==l||5==l?(h-m+g)/2:6<=l?h-(m+g):g;b.event.off(c,"error load abort",e);try{A.globalAlpha=a.opacity||1,A.drawImage(c,f,g,k,m)}catch(n){}O.next()};b.event.on(c,"error load abort",e);c.src=a.src;c.complete&&e()});B&&(O.inc(),g.applyFilter(n,B,O.next));O.check()},getMatrix:function(e){var g=b.extend({},this.matrix),k=g.sw=g.sw||e.videoWidth||e.naturalWidth||e.width;e=g.sh=g.sh||e.videoHeight||e.naturalHeight||e.height;var l=g.dw=g.dw||k,n=g.dh=g.dh||e,p=k/e,a=l/n,d=g.resize;if("preview"==
d){if(l!=k||n!=e){var h,q;a>=p?(h=k,q=h/a):(q=e,h=q*a);(h!=k||q!=e)&&(g.sx=~~((k-h)/2),g.sy=~~((e-q)/2),k=h,e=q)}}else d&&(k>l||e>n?"min"==d?(l=f(a>p?c(k,l):n*p),n=f(a>p?l/p:c(e,n))):(l=f(p>=a?c(k,l):n*p),n=f(p>=a?l/p:c(e,n))):(l=k,n=e));return g.sw=k,g.sh=e,g.dw=l,g.dh=n,g.multipass=b.multiPassResize,g},_trans:function(c){this._load(this.file,function(e,f){if(e)c(e);else try{this._apply(f,c)}catch(g){b.log("[err] FileAPI.Image.fn._apply:",g),c(g)}})},get:function(c){if(b.support.transform){var f=
this,g=f.matrix;"auto"==g.deg?b.getInfo(f.file,function(b,k){g.deg=e[k&&k.exif&&k.exif.Orientation]||0;f._trans(c)}):f._trans(c)}else c("not_support_transform");return this},toData:function(b){return this.get(b)}};g.exifOrientation=e;g.transform=function(c,e,f,l){function n(p,a){var d={},h=b.queue(function(a){l(a,d)});p?h.fail():b.each(e,function(b,e){if(!h.isFail()){var l=new g(a.nodeType?a:c);if("function"==typeof b?b(a,l):b.width?l[b.preview?"preview":"resize"](b.width,b.height,b.strategy):b.maxWidth&&
(a.width>b.maxWidth||a.height>b.maxHeight)&&l.resize(b.maxWidth,b.maxHeight,"max"),b.crop){var n=b.crop;l.crop(0|n.x,0|n.y,n.w||n.width,n.h||n.height)}b.rotate===k&&f&&(b.rotate="auto");l.set({deg:b.rotate,type:b.type||c.type||"image/png",quality:b.quality||1,overlay:b.overlay,filter:b.filter});h.inc();l.toData(function(a,b){a?h.fail():(d[e]=b,h.next())})}})}c.width?n(!1,c):b.getInfo(c,n)};b.each(["TOP","CENTER","BOTTOM"],function(c,e){b.each(["LEFT","CENTER","RIGHT"],function(b,f){g[c+"_"+b]=3*e+
f;g[b+"_"+c]=3*e+f})});g.toCanvas=function(b){var c=l.createElement("canvas");return c.width=b.videoWidth||b.width,c.height=b.videoHeight||b.height,c.getContext("2d").drawImage(b,0,0),c};g.fromDataURL=function(c,e,f){c=b.newImage(c);b.extend(c,e);f(c)};g.applyFilter=function(c,e,f){"function"==typeof e?e(c,f):window.Caman&&window.Caman("IMG"==c.tagName?g.toCanvas(c):c,function(){"string"==typeof e?this[e]():b.each(e,function(b,c){this[c](b)},this);this.render(f)})};b.renderImageToCanvas=function(c,
e,f,g,k,l,a,d,h,n){try{return c.getContext("2d").drawImage(e,f,g,k,l,a,d,h,n)}catch(p){throw b.log("renderImageToCanvas failed"),p;}};b.support.canvas=b.support.transform=n;b.Image=g})(FileAPI,document);
(function(b){b(FileAPI)})(function(b){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var l=b.renderImageToCanvas;b.detectSubsampling=function(b){var g,c;return 1048576<b.width*b.height?(g=document.createElement("canvas"),g.width=g.height=1,c=g.getContext("2d"),c.drawImage(b,-b.width+1,0),0===c.getImageData(0,0,1,1).data[3]):!1};b.detectVerticalSquash=function(b,g){var c,f,l,e,p,m=b.naturalHeight||b.height;c=document.createElement("canvas");f=c.getContext("2d");
g&&(m/=2);c.width=1;c.height=m;f.drawImage(b,0,0);c=f.getImageData(0,0,1,m).data;f=0;for(e=l=m;e>f;)p=c[4*(e-1)+3],0===p?l=e:f=e,e=l+f>>1;return e/m||1};b.renderImageToCanvas=function(k,g,c,f,n,e,p,m,r,s){if("image/jpeg"===g._type){var v,u,A=k.getContext("2d"),a=document.createElement("canvas"),d=a.getContext("2d");if(a.width=1024,a.height=1024,A.save(),v=b.detectSubsampling(g),v&&(c/=2,f/=2,n/=2,e/=2),u=b.detectVerticalSquash(g,v),v||1!==u){f*=u;r=Math.ceil(1024*r/n);s=Math.ceil(1024*s/e/u);for(u=
m=0;e>u;){for(v=p=0;n>v;)d.clearRect(0,0,1024,1024),d.drawImage(g,c,f,n,e,-v,-u,n,e),A.drawImage(a,0,0,1024,1024,p,m,r,s),v+=1024,p+=r;u+=1024;m+=s}return A.restore(),k}}return l(k,g,c,f,n,e,p,m,r,s)}}});
(function(b,l){function k(c,f,g){var k=c.blob,l=c.file;if(l){if(!k.toDataURL)return void b.readAsBinaryString(k,function(a){"load"==a.type&&f(c,a.result)});var n={"image/jpeg":".jpe?g","image/png":".png"},u=n[c.type]?c.type:"image/png",n=n[u]||".png",A=k.quality||1;l.match(RegExp(n+"$","i"))||(l+=n.replace("?",""));c.file=l;c.type=u;!g&&k.toBlob?k.toBlob(function(a){f(c,a)},u,A):f(c,b.toBinaryString(k.toDataURL(u,A)))}else f(c,k)}var g=l.document,c=l.FormData,f=function(){this.items=[]},n=l.encodeURIComponent;
f.prototype={append:function(b,c,f,g){this.items.push({name:b,blob:c&&c.blob||(void 0==c?"":c),file:c&&(f||c.name),type:c&&(g||c.type)})},each:function(b){for(var c=0,f=this.items.length;f>c;c++)b.call(this,this.items[c])},toData:function(e,f){f._chunked=b.support.chunked&&0<f.chunkSize&&1==b.filter(this.items,function(b){return b.file}).length;b.support.html5?b.formData&&!this.multipart&&c?f._chunked?(b.log("FileAPI.Form.toPlainData"),this.toPlainData(e)):(b.log("FileAPI.Form.toFormData"),this.toFormData(e)):
(b.log("FileAPI.Form.toMultipartData"),this.toMultipartData(e)):(b.log("FileAPI.Form.toHtmlData"),this.toHtmlData(e))},_to:function(c,f,g,k){var l=b.queue(function(){f(c)});this.each(function(b){g(b,c,l,k)});l.check()},toHtmlData:function(c){this._to(g.createDocumentFragment(),c,function(c,e){var f,k=c.blob;c.file?(b.reset(k,!0),k.name=c.name,e.appendChild(k)):(f=g.createElement("input"),f.name=c.name,f.type="hidden",f.value=k,e.appendChild(f))})},toPlainData:function(b){this._to({},b,function(b,
c,e){b.file&&(c.type=b.file);b.blob.toBlob?(e.inc(),k(b,function(b,f){c.name=b.name;c.file=f;c.size=f.length;c.type=b.type;e.next()})):b.file?(c.name=b.blob.name,c.file=b.blob,c.size=b.blob.size,c.type=b.type):(c.params||(c.params=[]),c.params.push(n(b.name)+"="+n(b.blob)));c.start=-1;c.end=c.file&&c.file.FileAPIReadPosition||-1;c.retry=0})},toFormData:function(b){this._to(new c,b,function(b,c,e){b.blob&&b.blob.toBlob?(e.inc(),k(b,function(b,f){c.append(b.name,f,b.file);e.next()})):b.file?c.append(b.name,
b.blob,b.file):c.append(b.name,b.blob);b.file&&c.append("_"+b.name,b.file)})},toMultipartData:function(c){this._to([],c,function(b,c,e,f){e.inc();k(b,function(b,g){c.push("--_"+f+('\r\nContent-Disposition: form-data; name="'+b.name+'"'+(b.file?'; filename="'+n(b.file)+'"':"")+(b.file?"\r\nContent-Type: "+(b.type||"application/octet-stream"):"")+"\r\n\r\n"+(b.file?g:n(g))+"\r\n"));e.next()},!0)},b.expando)}};b.Form=f})(FileAPI,window);
(function(b,l){var k=function(){},g=b.document,c=function(b){this.uid=l.uid();this.xhr={abort:k,getResponseHeader:k,getAllResponseHeaders:k};this.options=b},f={"":1,XML:1,Text:1,Body:1};c.prototype={status:0,statusText:"",constructor:c,getResponseHeader:function(b){return this.xhr.getResponseHeader(b)},getAllResponseHeaders:function(){return this.xhr.getAllResponseHeaders()||{}},end:function(c,e){var f=this,g=f.options;f.end=f.abort=k;f.status=c;e&&(f.statusText=e);l.log("xhr.end:",c,e);g.complete(200==
c||201==c?!1:f.statusText||"unknown",f);f.xhr&&f.xhr.node&&setTimeout(function(){var c=f.xhr.node;try{c.parentNode.removeChild(c)}catch(e){}try{delete b[f.uid]}catch(g){}b[f.uid]=f.xhr.node=null},9)},abort:function(){this.end(0,"abort");this.xhr&&(this.xhr.aborted=!0,this.xhr.abort())},send:function(b){var c=this,f=this.options;b.toData(function(b){f.upload(f,c);c._send.call(c,f,b)},f)},_send:function(c,e){var k,m=this,r=m.uid,s=c.url;if(l.log("XHR._send:",e),c.cache||(s+=(~s.indexOf("?")?"&":"?")+
l.uid()),e.nodeName){var v=c.jsonp,s=s.replace(/([a-z]+)=(\?)/i,"$1="+r);c.upload(c,m);k=g.createElement("div");k.innerHTML='<form target="'+r+'" action="'+s+'" method="POST" enctype="multipart/form-data" style="position: absolute; top: -1000px; overflow: hidden; width: 1px; height: 1px;"><iframe name="'+r+'" src="javascript:false;"></iframe>'+(v&&0>c.url.indexOf("=?")?'<input value="'+r+'" name="'+v+'" type="hidden"/>':"")+"</form>";var v=k.getElementsByTagName("form")[0],u=k.getElementsByTagName("iframe")[0];
v.appendChild(e);l.log(v.parentNode.innerHTML);g.body.appendChild(k);m.xhr.node=k;var A=function(b){if(~s.indexOf(b.origin))try{var c=l.parseJSON(b.data);c.id==r&&a(c.status,c.statusText,c.response)}catch(e){a(0,e.message)}},a=b[r]=function(a,c,e){m.readyState=4;m.responseText=e;m.end(a,c);l.event.off(b,"message",A);b[r]=k=u=u.onload=null};m.xhr.abort=function(){try{u.stop?u.stop():u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand("Stop")}catch(b){}a(0,"abort")};l.event.on(b,
"message",A);u.onload=function(){try{var b=u.contentWindow,c=b.document,e=b.result||l.parseJSON(c.body.innerHTML);a(e.status,e.statusText,e.response)}catch(f){l.log("[transport.onload]",f)}};m.readyState=2;v.submit();v=null}else{if(s=s.replace(/([a-z]+)=(\?)&?/i,""),this.xhr&&this.xhr.aborted)return void l.log("Error: already aborted");(k=m.xhr=l.getXHR(),e.params&&(s+=(0>s.indexOf("?")?"?":"&")+e.params.join("&")),k.open("POST",s,!0),l.withCredentials&&(k.withCredentials="true"),c.headers&&c.headers["X-Requested-With"]||
k.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.each(c.headers,function(a,b){k.setRequestHeader(b,a)}),c._chunked)?(k.upload&&k.upload.addEventListener("progress",l.throttle(function(a){e.retry||c.progress({type:a.type,total:e.size,loaded:e.start+a.loaded,totalSize:e.size},m,c)},100),!1),k.onreadystatechange=function(){var a=parseInt(k.getResponseHeader("X-Last-Known-Byte"),10);if(m.status=k.status,m.statusText=k.statusText,m.readyState=k.readyState,4==k.readyState){for(var b in f)m["response"+
b]=k["response"+b];(k.onreadystatechange=null,!k.status||0<k.status-201)?(l.log("Error: "+k.status),(!k.status&&!k.aborted||500==k.status||416==k.status)&&++e.retry<=c.chunkUploadRetry)?(b=k.status?0:l.chunkNetworkDownRetryTimeout,c.pause(e.file,c),l.log("X-Last-Known-Byte: "+a),a?e.end=a:(e.end=e.start-1,416==k.status&&(e.end-=c.chunkSize)),setTimeout(function(){m._send(c,e)},b)):m.end(k.status):(e.retry=0,e.end==e.size-1?m.end(k.status):(l.log("X-Last-Known-Byte: "+a),a&&(e.end=a),e.file.FileAPIReadPosition=
e.end,setTimeout(function(){m._send(c,e)},0)));k=null}},e.start=e.end+1,e.end=Math.max(Math.min(e.start+c.chunkSize,e.size)-1,e.start),v=e.file,v=(v.slice||v.mozSlice||v.webkitSlice).call(v,e.start,e.end+1),e.size&&!v.size?setTimeout(function(){m.end(-1)}):(k.setRequestHeader("Content-Range","bytes "+e.start+"-"+e.end+"/"+e.size),k.setRequestHeader("Content-Disposition","attachment; filename="+encodeURIComponent(e.name)),k.setRequestHeader("Content-Type",e.type||"application/octet-stream"),k.send(v)),
v=v=null):(k.upload&&k.upload.addEventListener("progress",l.throttle(function(a){c.progress(a,m,c)},100),!1),k.onreadystatechange=function(){if(m.status=k.status,m.statusText=k.statusText,m.readyState=k.readyState,4==k.readyState){for(var a in f)m["response"+a]=k["response"+a];(k.onreadystatechange=null,!k.status||201<k.status)?(l.log("Error: "+k.status),(!k.status&&!k.aborted||500==k.status)&&(c.retry||0)<c.uploadRetry)?(c.retry=(c.retry||0)+1,a=l.networkDownRetryTimeout,c.pause(c.file,c),setTimeout(function(){m._send(c,
e)},a)):m.end(k.status):m.end(k.status);k=null}},l.isArray(e))?(k.setRequestHeader("Content-Type","multipart/form-data; boundary=_"+l.expando),v=e.join("")+"--_"+l.expando+"--",k.sendAsBinary?k.sendAsBinary(v):(v=Array.prototype.map.call(v,function(a){return 255&a.charCodeAt(0)}),k.send((new Uint8Array(v)).buffer))):k.send(e)}}};l.XHR=c})(window,FileAPI);
(function(b,l){var k=b.URL||b.webkitURL,g=b.document,c=b.navigator,f=c.getUserMedia||c.webkitGetUserMedia||c.mozGetUserMedia||c.msGetUserMedia,n=!!f;l.support.media=n;var e=function(b){this.video=b};e.prototype={isActive:function(){return!!this._active},start:function(b){var e,l,n=this,p=n.video,A=function(a){n._active=!a;clearTimeout(l);clearTimeout(e);b&&b(a,n)};f.call(c,{video:!0},function(a){n.stream=a;p.src=k.createObjectURL(a);e=setInterval(function(){var a,b=g.createElement("canvas"),c=!1;
try{a=b.getContext("2d"),a.drawImage(p,0,0,1,1),c=255!=a.getImageData(0,0,1,1).data[4]}catch(e){}c&&A(null)},1E3);l=setTimeout(function(){A("timeout")},5E3);p.play()},A)},stop:function(){try{this._active=!1,this.video.pause(),this.stream.stop()}catch(b){}},shot:function(){return new p(this.video)}};e.get=function(b){return new e(b.firstChild)};e.publish=function(c,f,k){"function"==typeof f&&(k=f,f={});f=l.extend({},{width:"100%",height:"100%",start:!0},f);c.jquery&&(c=c[0]);var p=function(b){b?k(b):
(b=e.get(c),f.start?b.start(k):k(null,b))};if(c.style.width=0<=f.width?f.width+"px":f.width,c.style.height=0<=f.height?f.height+"px":f.height,l.html5&&n){var u=g.createElement("video");u.style.width=0<=f.width?f.width+"px":f.width;u.style.height=0<=f.height?f.height+"px":f.height;b.jQuery?jQuery(c).empty():c.innerHTML="";c.appendChild(u);p()}else e.fallback(c,f,p)};e.fallback=function(b,c,e){e("not_support_camera")};var p=function(b){b=b.nodeName?l.Image.toCanvas(b):b;var c=l.Image(b);return c.type=
"image/png",c.width=b.width,c.height=b.height,c.size=4*b.width*b.height,c};e.Shot=p;l.Camera=e})(window,FileAPI);
(function(b,l,k){var g=b.document,c=b.location,f=b.navigator,n=k.each;k.support.flash=function(){var e=f.mimeTypes,g=!1;if(f.plugins&&"object"==typeof f.plugins["Shockwave Flash"])g=f.plugins["Shockwave Flash"].description&&!(e&&e["application/x-shockwave-flash"]&&!e["application/x-shockwave-flash"].enabledPlugin);else try{g=!(!b.ActiveXObject||!new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(m){k.log("Flash -- does not supported.")}return g&&/^file:/i.test(c)&&k.log("[warn] Flash does not work on `file:` protocol."),
g}();k.support.flash&&(!k.html5||!k.support.html5||k.cors&&!k.support.cors||k.media&&!k.support.media)&&function(){function e(a){return('<object id="#id#" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+(a.width||"100%")+'" height="'+(a.height||"100%")+'"><param name="movie" value="#src#" /><param name="flashvars" value="#flashvars#" /><param name="swliveconnect" value="true" /><param name="allowscriptaccess" value="always" /><param name="allownetworking" value="all" /><param name="menu" value="false" /><param name="wmode" value="#wmode#" /><embed flashvars="#flashvars#" swliveconnect="true" allownetworking="all" allowscriptaccess="always" name="#id#" src="#src#" width="'+
(a.width||"100%")+'" height="'+(a.height||"100%")+'" menu="false" wmode="transparent" type="application/x-shockwave-flash"></embed></object>').replace(/#(\w+)#/gi,function(b,c){return a[c]})}function p(a,b){if(a&&a.style){var c,d;for(c in b){d=b[c];"number"==typeof d&&(d+="px");try{a.style[c]=d}catch(e){}}}}function m(a,b){n(b,function(b,c){var d=a[c];a[c]=function(){return this.parent=d,b.apply(this,arguments)}})}function r(a){var b=a.wid=k.uid();return q._fn[b]=a,"FileAPI.Flash._fn."+b}function s(a){try{q._fn[a.wid]=
null,delete q._fn[a.wid]}catch(b){}}function v(a,b){if(!h.test(a)){if(/^\.\//.test(a)||"/"!=a.charAt(0)){var d=c.pathname,d=d.substr(0,d.lastIndexOf("/"));a=(d+"/"+a).replace("/./","/")}"//"!=a.substr(0,2)&&(a="//"+c.host+a);h.test(a)||(a=c.protocol+a)}return b&&(a+=(/\?/.test(a)?"&":"?")+b),a}function u(a,b,c){var d,f=k.uid(),h=g.createElement("div"),m=10;for(d in a)h.setAttribute(d,a[d]),h[d]=a[d];p(h,a);a.width="100%";a.height="100%";h.innerHTML=e(k.extend({id:f,src:v(k.flashImageUrl,"r="+k.uid()),
wmode:"opaque",flashvars:"scale="+a.scale+"&callback="+r(function V(){s(V);if(0<--m)try{q.get(f).setImage(b)}catch(a){k.log('[err] FlashAPI.Preview.setImage -- can not set "base64":',a)}return!0})},a));c(!1,h);h=null}var A=k.uid(),a=0,d={},h=/^https?:/i,q={_fn:{},init:function(){var b=g.body&&g.body.firstChild;if(b){do if(1==b.nodeType){k.log("FlashAPI.state: awaiting");var c=g.createElement("div");return c.id="_"+A,p(c,{top:1,right:1,width:5,height:5,position:"absolute",zIndex:"1000000"}),b.parentNode.insertBefore(c,
b),void q.publish(c,A)}while(b=b.nextSibling)}10>a&&setTimeout(q.init,50*++a)},publish:function(a,b,c){c=c||{};a.innerHTML=e({id:b,src:v(k.flashUrl,"r="+k.version),wmode:c.camera?"":"transparent",flashvars:"callback="+(c.onEvent||"FileAPI.Flash.onEvent")+"&flashId="+b+"&storeKey="+f.userAgent.match(/\d/gi).join("")+"_"+k.version+(q.isReady||(k.pingUrl?"&ping="+k.pingUrl:""))+"&timeout="+k.flashAbortTimeout+(c.camera?"&useCamera="+v(k.flashWebcamUrl):"")+"&debug="+(k.debug?"1":"")},c)},ready:function(){k.log("FlashAPI.state: ready");
q.ready=k.F;q.isReady=!0;q.patch();q.patchCamera&&q.patchCamera();k.event.on(g,"mouseover",q.mouseover);k.event.on(g,"click",function(a){q.mouseover(a)&&(a.preventDefault?a.preventDefault():a.returnValue=!0)})},getEl:function(){return g.getElementById("_"+A)},getWrapper:function(a){do if(/js-fileapi-wrapper/.test(a.className))return a;while((a=a.parentNode)&&a!==g.body)},mouseover:function(a){a=k.event.fix(a).target;if(/input/i.test(a.nodeName)&&"file"==a.type){var c=a.getAttribute(A),d=q.getWrapper(a);
if(k.multiFlash){if("i"==c||"r"==c)return!1;if("p"!=c){a.setAttribute(A,"i");c=g.createElement("div");if(!d)return void k.log("[err] FlashAPI.mouseover: js-fileapi-wrapper not found");p(c,{top:0,left:0,width:a.offsetWidth+100,height:a.offsetHeight+100,zIndex:"1000000",position:"absolute"});d.appendChild(c);q.publish(c,k.uid());a.setAttribute(A,"p")}return!0}if(d){var c=d.getBoundingClientRect(),e=g.body,d=(d&&d.ownerDocument).documentElement,d={top:c.top+(b.pageYOffset||d.scrollTop)-(d.clientTop||
e.clientTop||0),left:c.left+(b.pageXOffset||d.scrollLeft)-(d.clientLeft||e.clientLeft||0),width:c.right-c.left,height:c.bottom-c.top};p(q.getEl(),d);q.curInp=a}}else/object|embed/i.test(a.nodeName)||p(q.getEl(),{top:1,left:1,width:5,height:5})},onEvent:function(a){var b=a.type;if("ready"==b){try{q.getInput(a.flashId).setAttribute(A,"r")}catch(c){}return q.ready(),setTimeout(function(){q.mouseenter(a)},50),!0}"ping"===b?k.log("(flash -> js).ping:",[a.status,a.savedStatus],a.error):"log"===b?k.log("(flash -> js).log:",
a.target):b in q&&setTimeout(function(){k.log("FlashAPI.event."+a.type+":",a);q[b](a)},1)},mouseenter:function(a){var b=q.getInput(a.flashId);if(b){q.cmd(a,"multiple",null!=b.getAttribute("multiple"));var c=[],d={};n((b.getAttribute("accept")||"").split(/,\s*/),function(a){k.accept[a]&&n(k.accept[a].split(" "),function(a){d[a]=1})});n(d,function(a,b){c.push(b)});q.cmd(a,"accept",c.length?c.join(",")+","+c.join(",").toUpperCase():"*")}},get:function(a){return g[a]||b[a]||g.embeds[a]},getInput:function(a){if(!k.multiFlash)return q.curInp;
try{var b=q.getWrapper(q.get(a));if(b)return b.getElementsByTagName("input")[0]}catch(c){k.log('[err] Can not find "input" by flashId:',a,c)}},select:function(a){var b,c=q.getInput(a.flashId),e=k.uid(c);a=a.target.files;n(a,function(a){k.checkFileObj(a)});d[e]=a;g.createEvent?(b=g.createEvent("Event"),b.files=a,b.initEvent("change",!0,!0),c.dispatchEvent(b)):l?l(c).trigger({type:"change",files:a}):(b=g.createEventObject(),b.files=a,c.fireEvent("onchange",b))},cmd:function(a,b,c,d){try{return k.log("(js -> flash)."+
b+":",c),q.get(a.flashId||a).cmd(b,c)}catch(e){k.log("(js -> flash).onError:",e),d||setTimeout(function(){q.cmd(a,b,c,!0)},50)}},patch:function(){k.flashEngine=!0;m(k,{getFiles:function(a,b,c){if(c)return k.filterFiles(k.getFiles(a),b,c),null;var e=k.isArray(a)?a:d[k.uid(a.target||a.srcElement||a)];return e?(b&&(b=k.getFilesFilter(b),e=k.filter(e,function(a){return b.test(a.name)})),e):this.parent.apply(this,arguments)},getInfo:function(a,b){if(a&&!a.flashId)this.parent.apply(this,arguments);else if(a.isShot)b(null,
a.info={width:a.width,height:a.height});else{if(!a.__info){var c=a.__info=k.defer();q.cmd(a,"getFileInfo",{id:a.id,callback:r(function O(b,d){s(O);c.resolve(b,a.info=d)})})}a.__info.then(b)}}});k.support.transform=!0;k.Image&&m(k.Image.prototype,{get:function(a,b){return this.set({scaleMode:b||"noScale"}),this.parent(a)},_load:function(a,b){if(k.log("FlashAPI.Image._load:",a),a&&!a.flashId)this.parent.apply(this,arguments);else{var c=this;k.getInfo(a,function(d){b.call(c,d,a)})}},_apply:function(a,
b){if(k.log("FlashAPI.Image._apply:",a),a&&!a.flashId)this.parent.apply(this,arguments);else{var c=this.getMatrix(a.info),d=b;q.cmd(a,"imageTransform",{id:a.id,matrix:c,callback:r(function W(e,f){k.log("FlashAPI.Image._apply.callback:",e);s(W);e?d(e):k.support.html5||k.support.dataURI&&!(3E4<f.length)?(c.filter&&(d=function(a,d){a?b(a):k.Image.applyFilter(d,c.filter,function(){b(a,this.canvas)})}),k.newImage("data:"+a.type+";base64,"+f,d)):u({width:c.deg%180?c.dh:c.dw,height:c.deg%180?c.dw:c.dh,scale:c.scaleMode},
f,d)})})}},toData:function(a){var b=this.file,c=b.info,d=this.getMatrix(c);k.log("FlashAPI.Image.toData");b&&!b.flashId?this.parent.apply(this,arguments):("auto"==d.deg&&(d.deg=k.Image.exifOrientation[c&&c.exif&&c.exif.Orientation]||0),a.call(this,!b.info,{id:b.id,flashId:b.flashId,name:b.name,type:b.type,matrix:d}))}});k.Image&&m(k.Image,{fromDataURL:function(a,b,c){!k.support.dataURI||3E4<a.length?u(k.extend({scale:"exactFit"},b),a.replace(/^data:[^,]+,/,""),function(a,b){c(b)}):this.parent(a,b,
c)}});m(k.Form.prototype,{toData:function(a){for(var b=this.items,c=b.length;c--;)if(b[c].file&&b[c].blob&&!b[c].blob.flashId)return this.parent.apply(this,arguments);k.log("FlashAPI.Form.toData");a(b)}});m(k.XHR.prototype,{_send:function(a,b){if(b.nodeName||b.append&&k.support.html5||k.isArray(b)&&"string"==typeof b[0])return this.parent.apply(this,arguments);var c,d,e={},f={},h=this;if(n(b,function(a){a.file?(f[a.name]=a={id:a.blob.id,name:a.blob.name,matrix:a.blob.matrix,flashId:a.blob.flashId},
d=a.id,c=a.flashId):e[a.name]=a.blob}),d||(c=A),!c)return k.log("[err] FlashAPI._send: flashId -- undefined"),this.parent.apply(this,arguments);k.log("FlashAPI.XHR._send: "+c+" -> "+d);h.xhr={headers:{},abort:function(){q.cmd(c,"abort",{id:d})},getResponseHeader:function(a){return this.headers[a]},getAllResponseHeaders:function(){return this.headers}};var g=k.queue(function(){q.cmd(c,"upload",{url:v(a.url.replace(/([a-z]+)=(\?)&?/i,"")),data:e,files:d?f:null,headers:a.headers||{},callback:r(function Y(b){var c=
b.type,d=b.result;k.log("FlashAPI.upload."+c);"progress"==c?(b.loaded=Math.min(b.loaded,b.total),b.lengthComputable=!0,a.progress(b)):"complete"==c?(s(Y),"string"==typeof d&&(h.responseText=d.replace(/%22/g,'"').replace(/%5c/g,"\\").replace(/%26/g,"&").replace(/%25/g,"%")),h.end(b.status||200)):("abort"==c||"error"==c)&&(h.end(b.status||0,b.message),s(Y))})})});n(f,function(a){g.inc();k.getInfo(a,g.next)});g.check()}})}};k.Flash=q;k.newImage("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",
function(a,b){k.support.dataURI=!(1!=b.width||1!=b.height);q.init()})}()})(window,window.jQuery,FileAPI);
(function(b,l,k){var g=k.each,c=[];k.support.flash&&k.media&&!k.support.media&&!function(){function b(c){var e=c.wid=k.uid();return k.Flash._fn[e]=c,"FileAPI.Flash._fn."+e}function l(b){try{k.Flash._fn[b.wid]=null,delete k.Flash._fn[b.wid]}catch(c){}}var e=k.Flash;k.extend(k.Flash,{patchCamera:function(){k.Camera.fallback=function(c,g,r){var s=k.uid();k.log("FlashAPI.Camera.publish: "+s);e.publish(c,s,k.extend(g,{camera:!0,onEvent:b(function u(b){"camera"===b.type&&(l(u),b.error?(k.log("FlashAPI.Camera.publish.error: "+
b.error),r(b.error)):(k.log("FlashAPI.Camera.publish.success: "+s),r(null)))})}))};g(c,function(b){k.Camera.fallback.apply(k.Camera,b)});c=[];k.extend(k.Camera.prototype,{_id:function(){return this.video.id},start:function(c){var g=this;e.cmd(this._id(),"camera.on",{callback:b(function s(b){l(s);b.error?(k.log("FlashAPI.camera.on.error: "+b.error),c(b.error,g)):(k.log("FlashAPI.camera.on.success: "+g._id()),g._active=!0,c(null,g))})})},stop:function(){this._active=!1;e.cmd(this._id(),"camera.off")},
shot:function(){k.log("FlashAPI.Camera.shot:",this._id());var b=k.Flash.cmd(this._id(),"shot",{});return b.type="image/png",b.flashId=this._id(),b.isShot=!0,new k.Camera.Shot(b)}})}});k.Camera.fallback=function(){c.push(arguments)}}()})(window,window.jQuery,FileAPI);"function"==typeof define&&define.amd&&define("FileAPI",[],function(){return FileAPI});
(function(){var b=function(b,g,c){var f=b,l=g||0,e=0;this.getRawData=function(){return f};"string"==typeof b&&(e=c||f.length,this.getByteAt=function(b){return f.charCodeAt(b+l)&255},this.getBytesAt=function(b,c){for(var e=[],g=0;g<c;g++)e[g]=f.charCodeAt(b+g+l)&255;return e});this.getLength=function(){return e};this.getSByteAt=function(b){b=this.getByteAt(b);return 127<b?b-256:b};this.getShortAt=function(b,c){var e=c?(this.getByteAt(b)<<8)+this.getByteAt(b+1):(this.getByteAt(b+1)<<8)+this.getByteAt(b);
0>e&&(e+=65536);return e};this.getSShortAt=function(b,c){var e=this.getShortAt(b,c);return 32767<e?e-65536:e};this.getLongAt=function(b,c){var e=this.getByteAt(b),f=this.getByteAt(b+1),g=this.getByteAt(b+2),k=this.getByteAt(b+3),e=c?(((e<<8)+f<<8)+g<<8)+k:(((k<<8)+g<<8)+f<<8)+e;0>e&&(e+=4294967296);return e};this.getSLongAt=function(b,c){var e=this.getLongAt(b,c);return 2147483647<e?e-4294967296:e};this.getStringAt=function(b,c){for(var e=[],f=this.getBytesAt(b,c),g=0;g<c;g++)e[g]=String.fromCharCode(f[g]);
return e.join("")};this.getCharAt=function(b){return String.fromCharCode(this.getByteAt(b))};this.toBase64=function(){return window.btoa(f)};this.fromBase64=function(b){f=window.atob(b)}},l={};(function(){function b(c){if(255!=c.getByteAt(0)||216!=c.getByteAt(1))return!1;for(var g=2,k=c.getLength();g<k;){if(255!=c.getByteAt(g))return n&&console.log("Not a valid marker at offset "+g+", found: "+c.getByteAt(g)),!1;var l=c.getByteAt(g+1);if(22400==l||225==l)return n&&console.log("Found 0xFFE1 marker"),
f(c,g+4,c.getShortAt(g+2,!0)-2);g+=2+c.getShortAt(g+2,!0)}}function g(b,f,g,k,l){for(var v=b.getShortAt(g,l),u={},A=0;A<v;A++){var a=g+12*A+2,d=k[b.getShortAt(a,l)];!d&&n&&console.log("Unknown tag: "+b.getShortAt(a,l));u[d]=c(b,a,f,g,l)}return u}function c(b,c,f,g,k){var l=b.getShortAt(c+2,k);g=b.getLongAt(c+4,k);f=b.getLongAt(c+8,k)+f;switch(l){case 1:case 7:if(1==g)return b.getByteAt(c+8,k);f=4<g?f:c+8;c=[];for(l=0;l<g;l++)c[l]=b.getByteAt(f+l);return c;case 2:return b.getStringAt(4<g?f:c+8,g-1);
case 3:if(1==g)return b.getShortAt(c+8,k);f=2<g?f:c+8;c=[];for(l=0;l<g;l++)c[l]=b.getShortAt(f+2*l,k);return c;case 4:if(1==g)return b.getLongAt(c+8,k);c=[];for(l=0;l<g;l++)c[l]=b.getLongAt(f+4*l,k);return c;case 5:if(1==g)return b.getLongAt(f,k)/b.getLongAt(f+4,k);c=[];for(l=0;l<g;l++)c[l]=b.getLongAt(f+8*l,k)/b.getLongAt(f+4+8*l,k);return c;case 9:if(1==g)return b.getSLongAt(c+8,k);c=[];for(l=0;l<g;l++)c[l]=b.getSLongAt(f+4*l,k);return c;case 10:if(1==g)return b.getSLongAt(f,k)/b.getSLongAt(f+4,
k);c=[];for(l=0;l<g;l++)c[l]=b.getSLongAt(f+8*l,k)/b.getSLongAt(f+4+8*l,k);return c}}function f(b,c){if("Exif"!=b.getStringAt(c,4))return n&&console.log("Not valid EXIF data! "+b.getStringAt(c,4)),!1;var f,k=c+6;if(18761==b.getShortAt(k))f=!1;else if(19789==b.getShortAt(k))f=!0;else return n&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;if(42!=b.getShortAt(k+2,f))return n&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=b.getLongAt(k+4,f))return n&&console.log("Not valid TIFF data! (First offset not 8)",
b.getShortAt(k+4,f)),!1;var s=g(b,k,k+8,l.TiffTags,f);if(s.ExifIFDPointer){var v=g(b,k,k+s.ExifIFDPointer,l.Tags,f),u;for(u in v){switch(u){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":v[u]=l.StringValues[u][v[u]];break;case "ExifVersion":case "FlashpixVersion":v[u]=
String.fromCharCode(v[u][0],v[u][1],v[u][2],v[u][3]);break;case "ComponentsConfiguration":v[u]=l.StringValues.Components[v[u][0]]+l.StringValues.Components[v[u][1]]+l.StringValues.Components[v[u][2]]+l.StringValues.Components[v[u][3]]}s[u]=v[u]}}if(s.GPSInfoIFDPointer)for(u in f=g(b,k,k+s.GPSInfoIFDPointer,l.GPSTags,f),f){switch(u){case "GPSVersionID":f[u]=f[u][0]+"."+f[u][1]+"."+f[u][2]+"."+f[u][3]}s[u]=f[u]}return s}var n=!1;l.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",
40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",
37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",
41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"};l.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",
530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};l.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",
3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",
29:"GPSDateStamp",30:"GPSDifferential"};l.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",
12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",
15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",
77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",
5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},
Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};l.getData=function(c,f){if(!c.complete)return!1;c.exifdata?f&&f():BinaryAjax(c.src,function(g){g=b(g.binaryResponse);c.exifdata=g||{};f&&f()});return!0};l.getTag=function(b,c){if(b.exifdata)return b.exifdata[c]};l.getAllTags=function(b){if(!b.exifdata)return{};b=b.exifdata;var c={},f;for(f in b)b.hasOwnProperty(f)&&
(c[f]=b[f]);return c};l.pretty=function(b){if(!b.exifdata)return"";b=b.exifdata;var c="",f;for(f in b)b.hasOwnProperty(f)&&(c="object"==typeof b[f]?c+(f+" : ["+b[f].length+" values]\r\n"):c+(f+" : "+b[f]+"\r\n"));return c};l.readFromBinaryFile=function(c){return b(c)}})();FileAPI.support.exif=!0;FileAPI.addInfoReader(/^image/,function(k,g){if(!k.__exif){var c=k.__exif=FileAPI.defer(),f=k;if(f instanceof Blob&&131072<f.size)try{var n=Math.min(f.size,131072),f=(f.slice||f.mozSlice||f.webkitSlice).call(f,
0,n)}catch(e){FileAPI.log("exception "+e)}FileAPI.readAsBinaryString(f,function(e){"load"==e.type?(e=new b(e.result,0,f.size),e=l.readFromBinaryFile(e),c.resolve(!1,{exif:e||{}})):"error"==e.type&&c.resolve("read_as_binary_string_exif")})}k.__exif.then(g)})})();
!function(b,l){"object"==typeof exports?module.exports=l():"function"==typeof define&&define.amd?define(l):b.Spinner=l()}(this,function(){function b(b,a){var c,e=document.createElement(b||"div");for(c in a)e[c]=a[c];return e}function l(b){for(var a=1,c=arguments.length;c>a;a++)b.appendChild(arguments[a]);return b}function k(b,a,c,e){var f=["opacity",a,~~(100*b),c,e].join("-");c=0.01+100*(c/e);e=Math.max(1-(1-b)/a*(100-c),b);var g=p.substring(0,p.indexOf("Animation")).toLowerCase();return r[f]||(s.insertRule("@"+
(g&&"-"+g+"-"||"")+"keyframes "+f+"{0%{opacity:"+e+"}"+c+"%{opacity:"+b+"}"+(c+0.01)+"%{opacity:1}"+(c+a)%100+"%{opacity:"+b+"}100%{opacity:"+e+"}}",s.cssRules.length),r[f]=1),f}function g(b,a){var c,e,f=b.style;a=a.charAt(0).toUpperCase()+a.slice(1);for(e=0;e<m.length;e++)if(c=m[e]+a,void 0!==f[c])return c;return void 0!==f[a]?a:void 0}function c(b,a){for(var c in a)b.style[g(b,c)||c]=a[c];return b}function f(b){for(var a=1;a<arguments.length;a++){var c=arguments[a],e;for(e in c)void 0===b[e]&&(b[e]=
c[e])}return b}function n(b){this.opts=f(b||{},n.defaults,v)}function e(){function e(a,c){return b("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}s.addRule(".spin-vml","behavior:url(#default#VML)");n.prototype.lines=function(a,b){function f(){return c(e("group",{coordsize:n+" "+n,coordorigin:-m+" "+-m}),{width:n,height:n})}function g(a,k,n){l(p,l(c(f(),{rotation:360/b.lines*a+"deg",left:~~k}),l(c(e("roundrect",{arcsize:b.corners}),{width:m,height:b.width,left:b.radius,top:-b.width>>
1,filter:n}),e("fill",{color:"string"==typeof b.color?b.color:b.color[a%b.color.length],opacity:b.opacity}),e("stroke",{opacity:0}))))}var k,m=b.length+b.width,n=2*m;k=2*-(b.width+b.length)+"px";var p=c(f(),{position:"absolute",top:k,left:k});if(b.shadow)for(k=1;k<=b.lines;k++)g(k,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(k=1;k<=b.lines;k++)g(k);return l(a,p)};n.prototype.opacity=function(a,b,c,e){a=a.firstChild;e=e.shadow&&e.lines||0;a&&b+e<a.childNodes.length&&
(a=a.childNodes[b+e],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=c))}}var p,m=["webkit","Moz","ms","O"],r={},s=function(){var c=b("style",{type:"text/css"});return l(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};n.defaults={};f(n.prototype,{spin:function(e){this.stop();var a=this,
d=a.opts,f=a.el=c(b(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});d.radius+d.length+d.width;if(c(f,{left:d.left,top:d.top}),e&&e.insertBefore(f,e.firstChild||null),f.setAttribute("role","progressbar"),a.lines(f,a.opts),!p){var g,k=0,m=(d.lines-1)*(1-d.direction)/2,l=d.fps,n=l/d.speed,u=(1-d.opacity)/(n*d.trail/100),r=n/d.lines;!function R(){k++;for(var b=0;b<d.lines;b++)g=Math.max(1-(k+(d.lines-b)*r)%n*u,d.opacity),a.opacity(f,b*d.direction+m,g,d);a.timeout=a.el&&setTimeout(R,
~~(1E3/l))}()}return a},stop:function(){var b=this.el;return b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=void 0),this},lines:function(e,a){function d(d,e){return c(b(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:d,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*g+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var f,g=0,m=(a.lines-1)*(1-a.direction)/2;g<a.lines;g++)f=
c(b(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:p&&k(a.opacity,a.trail,m+g*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&l(f,c(d("#000","0 0 4px #000"),{top:"2px"})),l(e,l(f,d("string"==typeof a.color?a.color:a.color[g%a.color.length],"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(b,a,c){a<b.childNodes.length&&(b.childNodes[a].style.opacity=c)}});var u=c(b("group"),{behavior:"url(#default#VML)"});
return!g(u,"transform")&&u.adj?e():p=g(u,"animation"),n});
(function(b,l){"object"===typeof exports?module.exports=l(require("spin.js")):"function"===typeof define&&define.amd?define(["spin"],l):b.Ladda=l(b.Spinner)})(this,function(b){function l(f){if("undefined"===typeof f)console.warn("Ladda button target must be defined.");else{/ladda-button/i.test(f.className)||(f.className+=" ladda-button");f.hasAttribute("data-style")||f.setAttribute("data-style","expand-right");if(!f.querySelector(".ladda-label")){var k=document.createElement("span");k.className="ladda-label";
g(f,k)}var e,l=f.querySelector(".ladda-spinner");l||(l=document.createElement("span"),l.className="ladda-spinner");f.appendChild(l);var m,r={start:function(){if(!e){var c=f.offsetHeight,g,k;0===c&&(c=parseFloat(window.getComputedStyle(f).height));32<c&&(c*=0.8);f.hasAttribute("data-spinner-size")&&(c=parseInt(f.getAttribute("data-spinner-size"),10));f.hasAttribute("data-spinner-color")&&(g=f.getAttribute("data-spinner-color"));f.hasAttribute("data-spinner-lines")&&(k=parseInt(f.getAttribute("data-spinner-lines"),
10));c*=0.2;e=new b({color:g||"#fff",lines:k||12,radius:c,length:0.6*c,width:7>c?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})}f.setAttribute("disabled","");f.setAttribute("data-loading","");clearTimeout(m);e.spin(l);this.setProgress(0);return this},startAfter:function(b){clearTimeout(m);m=setTimeout(function(){r.start()},b);return this},stop:function(){f.removeAttribute("disabled");f.removeAttribute("data-loading");clearTimeout(m);e&&(m=setTimeout(function(){e.stop()},1E3));return this},
toggle:function(){this.isLoading()?this.stop():this.start();return this},setProgress:function(b){b=Math.max(Math.min(b,1),0);var c=f.querySelector(".ladda-progress");0===b&&c&&c.parentNode?c.parentNode.removeChild(c):(c||(c=document.createElement("div"),c.className="ladda-progress",f.appendChild(c)),c.style.width=(b||0)*f.offsetWidth+"px")},enable:function(){this.stop();return this},disable:function(){this.stop();f.setAttribute("disabled","");return this},isLoading:function(){return f.hasAttribute("data-loading")},
remove:function(){clearTimeout(m);f.removeAttribute("disabled","");f.removeAttribute("data-loading","");e&&(e.stop(),e=null);for(var b=0,g=c.length;b<g;b++)if(r===c[b]){c.splice(b,1);break}}};c.push(r);return r}}function k(b){for(var c=[],e=0;e<b.length;e++)c.push(b[e]);return c}function g(b,c){var e=document.createRange();e.selectNodeContents(b);e.surroundContents(c);b.appendChild(c)}var c=[];return{bind:function(b,c){c=c||{};var e=[];"string"===typeof b?e=k(document.querySelectorAll(b)):"object"===
typeof b&&"string"===typeof b.nodeName&&(e=[b]);for(var g=0,m=e.length;g<m;g++)(function(){var b=e[g];if("function"===typeof b.addEventListener){var f=l(b),k=-1;b.addEventListener("click",function(e){e=!0;for(var g,a=b;a.parentNode&&"FORM"!==a.tagName;)a=a.parentNode;g="FORM"===a.tagName?a:void 0;if("undefined"!==typeof g)if("function"===typeof g.checkValidity)e=g.checkValidity();else{for(var d=["input","textarea","select"],a=[],h=0;h<d.length;h++)for(var m=g.getElementsByTagName(d[h]),l=0;l<m.length;l++)m[l].hasAttribute("required")&&
a.push(m[l]);for(g=0;g<a.length;g++)""===a[g].value.replace(/^\s+|\s+$/g,"")&&(e=!1),"checkbox"!==a[g].type&&"radio"!==a[g].type||a[g].checked||(e=!1),"email"===a[g].type&&(e=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(a[g].value))}e&&(f.startAfter(1),"number"===typeof c.timeout&&(clearTimeout(k),k=setTimeout(f.stop,c.timeout)),"function"===typeof c.callback&&c.callback.apply(null,[f]))},!1)}})()},create:l,stopAll:function(){for(var b=0,g=c.length;b<g;b++)c[b].stop()}}});
!function(b,l){if(void 0===l)return console.error("jQuery required for Ladda.jQuery");var k=[];l=l.extend(l,{ladda:function(g){"stopAll"===g&&b.stopAll()}});l.fn=l.extend(l.fn,{ladda:function(g){var c=k.slice.call(arguments,1);return"bind"===g?(c.unshift(l(this).selector),b.bind.apply(b,c)):l(this).each(function(){var f,k=l(this);void 0===g?k.data("ladda",b.create(this)):(f=k.data("ladda"),f[g].apply(f,c))}),this}})}(this.Ladda,this.jQuery);
(function(b,l){function k(b){for(var c in b)if(b.hasOwnProperty(c)&&!(b[c]instanceof Object||"overlay"===c))return!0;return!1}function g(b,c,a,d){a&&(a-=d,(d=/max/.test(c))&&0>a||!d&&0<a)&&(b.errors||(b.errors={}),b.errors[c]=Math.abs(a))}function c(b,c,a,d){b&&(b=a.length-(b-c),0<b&&p(a.splice(0,b),function(a,b){g(a,"maxFiles",-1,b);d.push(a)}))}var f=b.noop,n=b.fn.prop?"prop":"attr",e=[].slice,p=l.each,m=l.extend,r=function(b,c){var a=e.call(arguments,2);return c.bind?c.bind.apply(c,[b].concat(a)):
function(){return c.apply(b,a.concat(e.call(arguments)))}},s=function(b){return'[data-fileapi="'+b+'"]'},v=function(c,e){this.$el=c=b(c).on("change.fileapi",'input[type="file"]',r(this,this._onSelect));this.el=c[0];this._options={};this.options={url:0,data:{},accept:0,multiple:!1,paramName:0,dataType:"json",duplicate:!1,uploadRetry:0,networkDownRetryTimeout:5E3,chunkSize:0,chunkUploadRetry:3,chunkNetworkDownRetryTimeout:2E3,maxSize:0,maxFiles:0,imageSize:0,sortFn:0,filterFn:0,autoUpload:!1,clearOnSelect:void 0,
clearOnComplete:void 0,lang:{B:"bytes",KB:"KB",MB:"MB",GB:"GB",TB:"TB"},sizeFormat:"0.00",imageOriginal:!0,imageTransform:0,imageAutoOrientation:!!FileAPI.support.exif,elements:{ctrl:{upload:s("ctrl.upload"),reset:s("ctrl.reset"),abort:s("ctrl.abort")},empty:{show:s("empty.show"),hide:s("empty.hide")},emptyQueue:{show:s("emptyQueue.show"),hide:s("emptyQueue.hide")},active:{show:s("active.show"),hide:s("active.hide")},size:s("size"),name:s("name"),progress:s("progress"),list:s("list"),file:{tpl:s("file.tpl"),
progress:s("file.progress"),active:{show:s("file.active.show"),hide:s("file.active.hide")},preview:{el:0,get:0,width:0,height:0,processing:0},abort:s("file.abort"),remove:s("file.remove"),rotate:s("file.rotate")},dnd:{el:s("dnd"),hover:"dnd_hover",fallback:s("dnd.fallback")}},onDrop:f,onDropHover:f,onSelect:f,onBeforeUpload:f,onUpload:f,onProgress:f,onComplete:f,onFilePrepare:f,onFileUpload:f,onFileProgress:f,onFileComplete:f,onFileRemove:null,onFileRemoveCompleted:null};b.extend(!0,this.options,
e);e=this.options;this.option("elements.file.preview.rotate",e.imageAutoOrientation);if(!e.url){var a=this.$el.attr("action")||this.$el.find("form").attr("action");a?e.url=a:this._throw("url \u2014 is not defined")}this.$files=this.$elem("list");this.$fileTpl=this.$elem("file.tpl");this.itemTplFn=b.fn.fileapi.tpl(b("<div/>").append(this.$elem("file.tpl")).html());p(e,function(a,b){this._setOption(b,a)},this);this.$el.on("reset.fileapi",r(this,this._onReset)).on("submit.fileapi",r(this,this._onSubmit)).on("upload.fileapi progress.fileapi complete.fileapi",
r(this,this._onUploadEvent)).on("fileupload.fileapi fileprogress.fileapi filecomplete.fileapi",r(this,this._onFileUploadEvent)).on("click","[data-fileapi]",r(this,this._onActionClick));if(a=e.elements.ctrl)this._listen("click",a.reset,r(this,this._onReset)),this._listen("click",a.upload,r(this,this._onSubmit)),this._listen("click",a.abort,r(this,this._onAbort));a=FileAPI.support.dnd;this.$elem("dnd.el",!0).toggle(a);this.$elem("dnd.fallback").toggle(!a);a&&this.$elem("dnd.el",!0).dnd(r(this,this._onDropHover),
r(this,this._onDrop));this.$progress=this.$elem("progress");void 0===e.clearOnSelect&&(e.clearOnSelect=!e.multiple);this.clear();b.isArray(e.files)&&(this.files=b.map(e.files,function(a){"string"===b.type(a)&&(a={src:a,name:a.split("/").pop(),type:/jpe?g|png|bmp|gif|tiff?/i.test(a)&&"image/"+a.split(".").pop(),size:0});a.complete=!0;return a}),this._redraw())};v.prototype={constructor:v,_throw:function(b){throw"jquery.fileapi: "+b;},_getFiles:function(b,e){var a=this.options,d=a.maxSize,f=a.maxFiles,
k=a.filterFn,m=this.files.length,n=l.getFiles(b),r={all:n,files:[],other:[],duplicate:a.duplicate?[]:this._extractDuplicateFiles(n)},s=a.imageSize,v=this;s||k?l.filterFiles(n,function(a,b){b&&s&&(g(a,"minWidth",s.minWidth,b.width),g(a,"minHeight",s.minHeight,b.height),g(a,"maxWidth",s.maxWidth,b.width),g(a,"maxHeight",s.maxHeight,b.height));g(a,"maxSize",d,a.size);return!a.errors&&(!k||k(a,b))},function(a,b){c(f,m,a,b);r.other=b;r.files=a;e.call(v,r)}):(p(n,function(a){g(a,"maxSize",d,a.size);r[a.errors?
"other":"files"].push(a)}),c(f,m,r.files,r.other),e.call(v,r))},_extractDuplicateFiles:function(b){for(var c=[],a=b.length,d=this.files,e;a--;)for(e=d.length;e--;)if(this._fileCompare(b[a],d[e])){c.push(b.splice(a,1));break}return c},_fileCompare:function(b,c){return b.size==c.size&&b.name==c.name},_getFormatedSize:function(b){var c=this.options,a="B";b>=l.TB?b/=l[a="TB"]:b>=l.GB?b/=l[a="GB"]:b>=l.MB?b/=l[a="MB"]:b>=l.KB&&(b/=l[a="KB"]);return c.sizeFormat.replace(/^\d+([^\d]+)(\d*)/,function(d,e,
f){b=(parseFloat(b)||0).toFixed(f.length);return(b+"").replace(".",e)+" "+c.lang[a]})},_onSelect:function(b){this.options.clearOnSelect&&(this.queue=[],this.files=[]);this._getFiles(b,r(this,function(c){c.all.length&&!1!==this.emit("select",c)&&this.add(c.files);FileAPI.reset(b.target)}))},_onActionClick:function(c){var e=c.currentTarget,a=b.attr(e,"data-fileapi"),e=b(e).closest("[data-fileapi-id]",this.$el).attr("data-fileapi-id"),d=this._getFile(e),f=!0;this.$file(e).attr("disabled")||("file.remove"==
a?d&&this.emit("fileRemove"+(d.complete?"Completed":""),d)&&this.remove(e):/^file\.rotate/.test(a)?this.rotate(e,/ccw/.test(a)?"-=90":"+=90"):f=!1);f&&c.preventDefault()},_listen:function(c,e,a){e&&p(b.trim(e).split(","),function(d){d=b.trim(d);if(0===d.indexOf("#"))b(d).on(c+".fileapi",a);else this.$el.on(c+".fileapi",d,a)},this)},_onSubmit:function(b){b.preventDefault();this.upload()},_onReset:function(b){b.preventDefault();this.clear(!0)},_onAbort:function(b){b.preventDefault();this.abort()},_onDrop:function(b){this._getFiles(b,
function(b){!1!==this.emit("drop",b)&&this.add(b.files)})},_onDropHover:function(c,e){if(!1!==this.emit("dropHover",{state:c,event:e})){var a=this.option("elements.dnd.hover");a&&b(e.currentTarget).toggleClass(a,c)}},_getFile:function(b){return l.filter(this.files,function(c){return l.uid(c)==b})[0]},_getUploadEvent:function(b,c){return m({xhr:b,file:this.xhr.currentFile,files:this.xhr.files,widget:this},c)},_emitUploadEvent:function(b,c,a){c=this._getUploadEvent(a);this.emit(b+"Upload",c)},_emitProgressEvent:function(b,
c,a,d){c=this._getUploadEvent(d,c);this.emit(b+"Progress",c)},_emitCompleteEvent:function(c,e,a,d){e=this._getUploadEvent(a,{error:e,status:a.status,statusText:a.statusText,result:a.responseText});"file"==c&&(d.complete=!0);if("json"==this.options.dataType)try{e.result=b.parseJSON(e.result)}catch(f){e.error=f}this.emit(c+"Complete",e)},_onUploadEvent:function(b,c){var a=this,d=a.$progress,e=b.type;"progress"==e?d.stop().animate({width:100*(c.loaded/c.total)+"%"},300):"upload"==e?d.width(0):(e=function(){d.dequeue();
a[a.options.clearOnComplete?"clear":"dequeue"]()},this.xhr=null,this.active=!1,d.length?d.queue(e):e())},_onFileUploadPrepare:function(c,e){var a=l.uid(c),d=this._rotate[a],f=this._crop[a],g=this._resize[a],a=this._getUploadEvent(this.xhr);if(d||f||g){var n=b.extend(!0,{},e.imageTransform||{}),d=d||(this.options.imageAutoOrientation?"auto":void 0);b.isEmptyObject(n)||k(n)?(m(n,g),n.crop=f,n.rotate=d):p(n,function(a){m(a,g);a.crop=f;a.rotate=d});e.imageTransform=n}a.file=c;a.options=e;this.emit("filePrepare",
a)},_onFileUploadEvent:function(b,c){var a=this,d=b.type.substr(4),e=l.uid(c.file),f=this.$file(e),g=this._$fileprogress,k=this.options;this.__fileId!==e&&(this.__fileId=e,this._$fileprogress=g=this.$elem("file.progress",f));if("progress"==d)g.stop().animate({width:100*(c.loaded/c.total)+"%"},300);else if("upload"==d||"complete"==d){var m=function(){var b="file."+d,c=a.$elem("file.remove",f);"upload"==d?(c.hide(),g.width(0)):k.onRemoveCompleted&&c.show();g.dequeue();a.$elem(b+".show",f).show();a.$elem(b+
".hide",f).hide()};g.length?g.queue(m):m();"complete"==d&&(this.uploaded.push(c.file),delete this._rotate[e])}},_redraw:function(c){var e=this.files,a=!!this.active,d=!e.length&&!a,f=!this.queue.length&&!a,g=[],k=0,m=this.$files,r=m.children().length,s=this.option("elements.file.preview"),v=this.option("elements.preview.el");c&&this.$files.empty();c&&v&&!this.queue.length&&this.$(v).empty();p(e,function(a,c){var d=l.uid(a);g.push(a.name);k+=a.complete?0:a.size;if(m.length&&!this.$file(d).length){var e=
this.itemTplFn({$idx:r+c,uid:d,name:a.name,type:a.type,size:a.size,sizeText:this._getFormatedSize(a.size)}),e=b(e).attr("data-fileapi-id",d);a.$el=e;m.append(e);a.complete&&(this.$elem("file.upload.hide",e).hide(),this.$elem("file.complete.hide",e).hide());s.el&&this._makeFilePreview(d,a,s)}},this);this.$elem("name").text(g.join(", "));this.$elem("size").text(f?"":this._getFormatedSize(k));this.$elem("empty.show").toggle(d);this.$elem("empty.hide").toggle(!d);this.$elem("emptyQueue.show").toggle(f);
this.$elem("emptyQueue.hide").toggle(!f);this.$elem("active.show").toggle(a);this.$elem("active.hide").toggle(!a);this.$(".js-fileapi-wrapper,:file")[a?"attr":"removeAttr"]("aria-disabled",a)[n]("disabled",a);this._disableElem("ctrl.upload",f||a);this._disableElem("ctrl.reset",f||a);this._disableElem("ctrl.abort",!a)},_disableElem:function(b,c){this.$elem(b)[c?"attr":"removeAttr"]("aria-disabled","disabled")[n]("disabled",c)},_makeFilePreview:function(b,c,a,d){var e=this,f=d?e.$(a.el):e.$file(b).find(a.el);
if(!e._crop[b])if(/^image/.test(c.type)){var g=l.Image(c.src||c);d=function(){g.get(function(d,g){e._crop[b]||(d?(a.get&&a.get(f,c),e.emit("previewError",[d,c])):f.html(g))})};a.width&&g.preview(a.width,a.height);a.rotate&&g.rotate("auto");a.processing?a.processing(c,g,d):d()}else a.get&&a.get(f,c)},emit:function(c,e){var a=this.options,d=b.Event(c.toLowerCase()),f;d.widget=this;c=b.camelCase("on-"+c);b.isFunction(a[c])&&(f=a[c].call(this.el,d,e));this.$el.triggerHandler(d,e);return!1!==f&&!d.isDefaultPrevented()},
add:function(c,e){c=[].concat(c);if(c.length){var a=this.options,d=a.sortFn,f=a.elements.preview;d&&c.sort(d);f&&!b.isPlainObject(f.el)&&p(c,function(a){this._makeFilePreview(l.uid(a),a,f,!0)},this);this.xhr&&this.xhr.append(c);this.queue=e?c:this.queue.concat(c);this.files=e?c:this.files.concat(c);this.active?(this.xhr.append(c),this._redraw(e)):(this._redraw(e),this.options.autoUpload&&this.upload())}},$:function(c,e){"string"===typeof c&&(c=/^#/.test(c)?c:(e?b(e):this.$el).find(c));return b(c)},
$elem:function(c,e,a){e&&e.jquery&&(a=e,e=!1);var d=this.option("elements."+c);void 0===d&&e&&(d=this.option("elements."+c.substr(0,c.lastIndexOf("."))));return this.$("string"!=b.type(d)&&b.isEmptyObject(d)?[]:d,a)},$file:function(b){return this.$('[data-fileapi-id="'+b+'"]')},option:function(c,e){if(void 0!==e&&b.isPlainObject(e))return p(e,function(a,b){this.option(c+"."+b,a)},this),this;var a=this.options,d=a[c],f=0,g;if(-1!=c.indexOf("."))for(d=a,c=c.split("."),a=c.length;f<a;f++){g=c[f];if(void 0!==
e&&1===a-f){d[g]=e;break}else d[g]||(d[g]={});d=d[g]}else void 0!==e&&(a[c]=e);void 0!==e&&(this._setOption(c,e,this._options[c]),this._options[c]=e);return void 0!==e?e:d},_setOption:function(b,c){switch(b){case "accept":case "multiple":case "paramName":if("paramName"==b&&(b="name"),c)this.$(":file")[n](b,c)}},serialize:function(){var c={},e;this.$el.find(":input").each(function(a,d){(a=d.name)&&!d.disabled&&(d.checked||/select|textarea|input/i.test(d.nodeName)&&!/checkbox|radio|file/i.test(d.type))&&
(e=b(d).val(),void 0!==c[a]?(c[a].push||(c[a]=[c[a]]),c[a].push(e)):c[a]=e)});return c},upload:function(){if(!this.active&&this.emit("beforeUpload",{widget:this,files:this.queue})){this.active=!0;var b=this.$el,c=this.options,a={},d={url:c.url,data:m({},this.serialize(),c.data),headers:c.headers,files:a,uploadRetry:c.uploadRetry,networkDownRetryTimeout:c.networkDownRetryTimeout,chunkSize:c.chunkSize,chunkUploadRetry:c.chunkUploadRetry,chunkNetworkDownRetryTimeout:c.chunkNetworkDownRetryTimeout,prepare:r(this,
this._onFileUploadPrepare),imageOriginal:c.imageOriginal,imageTransform:c.imageTransform};a[b.find(":file").attr("name")||"files[]"]=this.queue;p(["Upload","Progress","Complete"],function(a){var b=a.toLowerCase();d[b]=r(this,this["_emit"+a+"Event"],"");d["file"+b]=r(this,this["_emit"+a+"Event"],"file")},this);this.xhr=l.upload(d);this._redraw()}},abort:function(b){this.active&&this.xhr&&this.xhr.abort(b)},crop:function(c,e){var a=l.uid(c),d=this.options,f=d.multiple?this.option("elements.file.preview"):
d.elements.preview,g=(d.multiple?this.$file(a):this.$el).find(f&&f.el);g.length&&l.getInfo(c,r(this,function(a,k){if(a)this.emit("previewError",[a,c]);else{g.find("div>div").length||g.html(b("<div><div></div></div>").css(f).css("overflow","hidden"));this.__cropFile!==c&&(this.__cropFile=c,l.Image(c).rotate(d.imageAutoOrientation?"auto":0).get(function(a,c){g.find(">div>div").html(b(c).width("100%").height("100%"))},"exactFit"));var m=f.width,n=f.height,p=m,r=n,s=m/e.rw,v=n/e.rh;f.keepAspectRatio&&
(1<s&&1<v?(s=v=1,r=e.h,p=e.w):s<v?(v=s,r=m*e.rh/e.rw):(s=v,p=n*e.rw/e.rh));g.find(">div>div").css({width:Math.round(s*k[e.flip?"height":"width"]),height:Math.round(v*k[e.flip?"width":"height"]),marginLeft:-Math.round(s*e.rx),marginTop:-Math.round(v*e.ry)});f.keepAspectRatio&&g.find(">div").css({width:Math.round(p),height:Math.round(r),marginLeft:p<m?Math.round((m-p)/2):0,marginTop:r<n?Math.round((n-r)/2):0})}}));this._crop[a]=e},resize:function(b,c,a,d){this._resize[l.uid(b)]={type:d,width:c,height:a}},
rotate:function(c,e){var a="string"==b.type(c)?c:l.uid(c),d=this.options,f=d.multiple?this.option("elements.file.preview"):d.elements.preview,d=(d.multiple?this.$file(a):this.$el).find(f&&f.el),f=this._rotate;/([+-])=/.test(e)?f[a]=e=(f[a]||0)+("+"==RegExp.$1?1:-1)*e.substr(2):f[a]=e;this._getFile(a).rotate=e;d.css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"})},remove:function(b){var c="object"==typeof b?l.uid(b):b;this.$file(c).remove();
this.queue=l.filter(this.queue,function(a){return l.uid(a)!=c});this.files=l.filter(this.files,function(a){return l.uid(a)!=c});this._redraw()},clear:function(b){this._crop={};this._resize={};this._rotate={};this.queue=[];this.files=[];this.uploaded=[];this._redraw(void 0===b?!0:b)},dequeue:function(){this.queue=[];this._redraw()},widget:function(){return this},toString:function(){return"[jQuery.FileAPI object]"},destroy:function(){this.$files.empty().append(this.$fileTpl);this.$el.off(".fileapi").removeData("fileapi");
p(this.options.elements.ctrl,function(c){0===c.indexOf("#")&&b(c).off("click.fileapi")})}};b.fn.fileapi=function(c,f){var a=this.data("fileapi");if(a){if("widget"===c)return a;if("string"==typeof c){var d=a[c],h;b.isFunction(d)?h=d.apply(a,e.call(arguments,1)):void 0===d?h=a.option(c,f):"files"===c&&(h=d);return void 0===h?this:h}}else null!=c&&"object"!=typeof c||this.data("fileapi",new v(this,c));return this};b.fn.fileapi.version="0.4.3";b.fn.fileapi.tpl=function(b){var c=0,a="__b+='";b.replace(/(?:&lt;|<)%([-=])?([\s\S]+?)%(?:&gt;|>)|$/g,
function(d,e,f,g){a+=b.slice(c,g).replace(/[\r\n"']/g,function(a){return"\\"+a});f&&(a=e?a+("'+\n((__x=("+f+"))==null?'':"+("-"==e?"__esc(__x)":"__x")+")\n+'"):a+("';\n"+f+"\n__b+='"));c=g+d.length;return d});return new Function("ctx","var __x,__b='',__esc=function(val){return typeof val=='string'?val.replace(/</g,'&lt;').replace(/\"/g,'&quot;'):val;};with(ctx||{}){\n"+a+"';\n}return __b;")};b.fn.webcam=function(c){var e=this,a=e,d=b(e),h=d.data("fileapi-camera");!0===h?(l.log("[webcam.warn] not ready."),
a=null):"widget"===c?a=h:"destroy"===c?(h.stop(),d.empty()):h?a=h[c]():!1===h?(l.log("[webcam.error] does not work."),a=null):(d.data("fileapi-camera",!0),c=m({success:f,error:f},c),FileAPI.Camera.publish(d,c,function(a,b){d.data("fileapi-camera",a?!1:b);c[a?"error":"success"].call(e,a||b)}));return a};b.fn.cropper=function(c){var e=this,a=c.file;if("string"===typeof c)e.first().Jcrop.apply(e,arguments);else{var d=c.minSize||[0,0],f=c.aspectRatio||d[0]/d[1];b.isArray(c.minSize)&&void 0===c.aspectRatio&&
0<f&&(c.aspectRatio=f);l.getInfo(a,function(g,k){var m=l.Image(a),n=c.maxSize,r=a.rotate;n&&m.resize(Math.max(n[0],d[0]),Math.max(n[1],d[1]),"max");m.rotate(void 0===r?"auto":r).get(function(a,d){var g=c.selection,m=Math.min(d.width,d.height),l=m,m=m/f,n=FileAPI.Image.exifOrientation[k.exif&&k.exif.Orientation]||0;if(g){if(/%/.test(g)||0<g&&1>g)g=parseFloat(g,10)/(0<g?1:100),l*=g,m*=g;var g=(d.width-l)/2,q=(d.height-m)/2;c.setSelect=[g|0,q|0,g+l|0,q+m|0]}p(["onSelect","onChange"],function(a,b){if(b=
c[a])c[a]=function(a){var c=n%180,e=k.width,f=k.height,h=a.x/d.width,g=a.y/d.height,m=a.w/d.width,l=a.h/d.height;b({x:e*(c?g:h),y:f*(c?1-(a.x+a.w)/d.width:g),w:e*(c?l:m),h:f*(c?m:l),rx:h*(c?f:e),ry:g*(c?e:f),rw:m*(c?f:e),rh:l*(c?e:f),lx:a.x,ly:a.y,lw:a.w,lh:a.h,lx2:a.x2,ly2:a.y2,deg:n,flip:c})}});l=b("<div/>").css("lineHeight",0).append(b(d).css("margin",0));e.html(l);l.Jcrop(c).trigger("resize")})})}return e}})(jQuery,FileAPI);
!function(){function b(a,b){return b>a?-1:a>b?1:a>=b?0:0/0}function l(a){return null===a?0/0:+a}function k(a){return!isNaN(a)}function g(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);e>d;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);e>d;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}}function c(a){return a.length}function f(a,b){for(var c in b)Object.defineProperty(a.prototype,
c,{value:b[c],enumerable:!1})}function n(){this._=Object.create(null)}function e(a){return(a+="")===th||a[0]===ne?ne+a:a}function p(a){return(a+="")[0]===ne?a.slice(1):a}function m(a){return e(a)in this._}function r(a){return(a=e(a))in this._&&delete this._[a]}function s(){var a=[],b;for(b in this._)a.push(p(b));return a}function v(){var a=0,b;for(b in this._)++a;return a}function u(){for(var a in this._)return!1;return!0}function A(){this._=Object.create(null)}function a(a,b,c){return function(){var d=
c.apply(b,arguments);return d===b?a:d}}function d(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Ef.length;d>c;++c){var e=Ef[c]+b;if(e in a)return e}}function h(){}function q(){}function w(a){function b(){for(var d,e=c,f=-1,h=e.length;++f<h;)(d=e[f].on)&&d.apply(this,arguments);return a}var c=[],d=new n;return b.on=function(b,e){var f,h=d.get(b);return 2>arguments.length?h&&h.on:(h&&(h.on=null,c=c.slice(0,f=c.indexOf(h)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,
{on:e})),a)},b}function B(){z.event.preventDefault()}function y(){for(var a,b=z.event;a=b.sourceEvent;)b=a;return b}function P(a){for(var b=new q,c=0,d=arguments.length;++c<d;)b[arguments[c]]=w(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=z.event;e.target=a;z.event=e;b[e.type].apply(c,d)}finally{z.event=f}}},b}function O(a){return pd(a,ta),a}function W(a){return"function"==typeof a?a:function(){return oe(a,this)}}function ca(a){return"function"==typeof a?a:function(){return pe(a,
this)}}function R(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=z.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?
g:h:a.local?f:e}function V(a){return a.trim().replace(/\s+/g," ")}function Y(a){return RegExp("(?:^|\\s+)"+z.requote(a)+"(?:\\s+|$)","g")}function J(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,f=b.apply(this,arguments);++c<e;)a[c](this,f)}a=(a+"").trim().split(/^|\s+/).map(U);var e=a.length;return"function"==typeof b?d:c}function U(a){var b=Y(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||
c.setAttribute("class",V(e+" "+a))):c.setAttribute("class",V(e.replace(b," ")))}}function H(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function x(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==
typeof b?e:d}function D(a){return"function"==typeof a?a:(a=z.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function K(){var a=this.parentNode;a&&a.removeChild(this)}function F(a){return function(){return Ff(this,a)}}function L(a){return arguments.length||(a=b),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function Q(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],
h=0,g=f.length;g>h;h++)(e=f[h])&&b(e,h,c);return a}function ha(a){return pd(a,Eb),a}function na(a){var b,c;return function(d,e,f){d=a[f].update;var h=d.length;f!=c&&(c=f,b=0);for(e>=b&&(b=e+1);!(e=d[b])&&++b<h;);return e}}function ua(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var f=m(b,Qb(arguments));d.call(this);this.addEventListener(a,this[g]=f,f.$=c);f._=b}function f(){var b,c=RegExp("^__on([^.]+)"+z.requote(a)+"$"),d;for(d in this)if(b=
d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$);delete this[d]}}var g="__on"+a,k=a.indexOf("."),m=qa;0<k&&(a=a.slice(0,k));var l=re.get(a);return l&&(a=l,m=I),k?b?e:d:b?h:f}function qa(a,b){return function(c){var d=z.event;z.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{z.event=d}}}function I(a,b){var c=qa(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||8&b.compareDocumentPosition(this))||c.call(this,a)}}function C(){var a=".dragsuppress-"+ ++uh,b="click"+a,c=z.select(Ra).on("touchmove"+
a,B).on("dragstart"+a,B).on("selectstart"+a,B);if(Vc){var d=Fb.style,e=d[Vc];d[Vc]="none"}return function(f){if(c.on(a,null),Vc&&(d[Vc]=e),f){var h=function(){c.on(b,null)};c.on(b,function(){B();h()},!0);setTimeout(h,0)}}}function X(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>se&&(Ra.scrollX||Ra.scrollY)){var c=z.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),
e=c[0][0].getScreenCTM();se=!(e.f||e.e);c.remove()}return se?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function ja(){return z.event.changedTouches[0].identifier}function aa(){return z.event.target}function G(){return Ra}function ka(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function E(a){return 1<a?Ea:-1>a?-Ea:Math.asin(a)}
function ma(a){return((a=Math.exp(a))+1/a)/2}function M(a){return(a=Math.sin(a/2))*a}function va(){}function ia(a,b,c){return this instanceof ia?(this.h=+a,this.s=+b,void(this.l=+c)):2>arguments.length?a instanceof ia?new ia(a.h,a.s,a.l):db(""+a,tb,ia):new ia(a,b,c)}function oa(a,b,c){function d(a){return 360<a?a-=360:0>a&&(a+=360),60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f;return a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c,f=0.5>=c?c*(1+b):c+b-c*b,
e=2*c-f,new Ha(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function Z(a,b,c){return this instanceof Z?(this.h=+a,this.c=+b,void(this.l=+c)):2>arguments.length?a instanceof Z?new Z(a.h,a.c,a.l):a instanceof sa?t(a.l,a.a,a.b):t((a=Ja((a=z.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Z(a,b,c)}function ra(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new sa(c,Math.cos(a*=da)*b,Math.sin(a)*b)}function sa(a,b,c){return this instanceof sa?(this.l=+a,this.a=+b,void(this.b=+c)):2>arguments.length?
a instanceof sa?new sa(a.l,a.a,a.b):a instanceof Z?ra(a.h,a.c,a.l):Ja((a=Ha(a)).r,a.g,a.b):new sa(a,b,c)}function la(a,b,c){a=(a+16)/116;b=a+b/500;c=a-c/200;return b=xa(b)*Hf,a=xa(a)*If,c=xa(c)*Jf,new Ha(Xa(3.2404542*b-1.5371385*a-0.4985314*c),Xa(-0.969266*b+1.8760108*a+0.041556*c),Xa(0.0556434*b-0.2040259*a+1.0572252*c))}function t(a,b,c){return 0<a?new Z(Math.atan2(c,b)*Ba,Math.sqrt(b*b+c*c),a):new Z(0/0,0/0,a)}function xa(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function Pa(a){return 0.008856<
a?Math.pow(a,1/3):7.787037*a+4/29}function Xa(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function Ha(a,b,c){return this instanceof Ha?(this.r=~~a,this.g=~~b,void(this.b=~~c)):2>arguments.length?a instanceof Ha?new Ha(a.r,a.g,a.b):db(""+a,Ha,oa):new Ha(a,b,c)}function Oa(a){return new Ha(a>>16,255&a>>8,255&a)+""}function Ma(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function db(a,b,c){var d,e,f,h=0,g=0,k=0;if(d=/([a-z]+)\((.*)\)/i.exec(a))switch(e=
d[2].split(","),d[1]){case "hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case "rgb":return b(Mb(e[0]),Mb(e[1]),Mb(e[2]))}return(f=qd.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(h=(3840&f)>>4,h|=h>>4,g=240&f,g|=g>>4,k=15&f,k|=k<<4):7===a.length&&(h=(16711680&f)>>16,g=(65280&f)>>8,k=255&f)),b(h,g,k))}function tb(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),h=Math.max(a,b,c),g=h-f,k=(h+f)/2;return g?(e=0.5>k?g/(h+
f):g/(2-h-f),d=a==h?(b-c)/g+(c>b?6:0):b==h?(c-a)/g+2:(a-b)/g+4,d*=60):(d=0/0,e=0<k&&1>k?0:d),new ia(d,e,k)}function Ja(a,b,c){a=jb(a);b=jb(b);c=jb(c);var d=Pa((0.4124564*a+0.3575761*b+0.1804375*c)/Hf),e=Pa((0.2126729*a+0.7151522*b+0.072175*c)/If);a=Pa((0.0193339*a+0.119192*b+0.9503041*c)/Jf);return sa(116*e-16,500*(d-e),200*(e-a))}function jb(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function Mb(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function pa(a){return"function"==
typeof a?a:function(){return a}}function Ga(a){return a}function Xb(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),za(b,c,a,d)}}function za(a,b,c,d){function e(){var a,b=k.status,d;if(d=!b)d=(d=k.responseType)&&"text"!==d?k.response:k.responseText;if(d||200<=b&&300>b||304===b){try{a=c.call(f,k)}catch(g){return h.error.call(f,g),void 0}h.load.call(f,a)}else h.error.call(f,k)}var f={},h=z.dispatch("beforesend","progress","load","error"),g={},k=new XMLHttpRequest,
m=null;return!Ra.XDomainRequest||"withCredentials"in k||!/^(http(s)?:)?\/\//.test(a)||(k=new XDomainRequest),"onload"in k?k.onload=k.onerror=e:k.onreadystatechange=function(){3<k.readyState&&e()},k.onprogress=function(a){var b=z.event;z.event=a;try{h.progress.call(f,k)}finally{z.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),2>arguments.length?g[a]:(null==b?delete g[a]:g[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?
(m=a,f):m},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Qb(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),k.open(c,a,!0),null==b||"accept"in g||(g.accept=b+",*/*"),k.setRequestHeader)for(var l in g)k.setRequestHeader(l,g[l]);return null!=b&&k.overrideMimeType&&k.overrideMimeType(b),null!=m&&(k.responseType=m),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),h.beforesend.call(f,
k),k.send(null==d?null:d),f},f.abort=function(){return k.abort(),f},z.rebind(f,h,"on"),null==d?f:f.get(Yb(d))}function Yb(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Bb(){var a=Ta(),a=Cb()-a;24<a?(isFinite(a)&&(clearTimeout(rd),rd=setTimeout(Bb,a)),sd=0):(sd=1,Kf(Bb))}function Ta(){var a=Date.now();for(Gb=td;Gb;)a>=Gb.t&&(Gb.f=Gb.c(a-Gb.t)),Gb=Gb.n;return a}function Cb(){for(var a,b=td,c=1/0;b;)b.f?b=a?a.n=b.n:td=b.n:(b.t<c&&(c=b.t),b=(a=b).n);return ud=a,c}function fa(a,b){return b-
(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ka(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],h=0,g=d[0],k=0;0<e&&0<g&&(k+g+1>b&&(g=Math.max(1,b-k)),f.push(a.substring(e-=g,e+g)),!((k+=g+1)>b));)g=d[h=(h+1)%d.length];return f.reverse().join(c)}:Ga;return function(a){a=Lf.exec(a);var c=a[1]||" ",d=a[2]||">",h=a[3]||"-",g=a[4]||"",k=a[5],N=+a[6],m=a[7],l=a[8],n=a[9],Da=1,p="",Qa="",q=!1,r=!0;switch(l&&(l=+l.substring(1)),(k||"0"===c&&"="===
d)&&(k=c="0",d="="),n){case "n":m=!0;n="g";break;case "%":Da=100;Qa="%";n="f";break;case "p":Da=100;Qa="%";n="r";break;case "b":case "o":case "x":case "X":"#"===g&&(p="0"+n.toLowerCase());case "c":r=!1;case "d":q=!0;l=0;break;case "s":Da=-1,n="r"}"$"===g&&(p=e[0],Qa=e[1]);"r"!=n||l||(n="g");null!=l&&("g"==n?l=Math.max(1,Math.min(21,l)):("e"==n||"f"==n)&&(l=Math.max(0,Math.min(20,l))));var n=vh.get(n)||hc,s=k&&m;return function(a){var e=Qa;if(q&&a%1)return"";var g=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===
h?"":h;0>Da?(e=z.formatPrefix(a,l),a=e.scale(a),e=e.symbol+Qa):a*=Da;a=n(a,l);var wa,ob,v=a.lastIndexOf(".");0>v?(v=r?a.lastIndexOf("e"):-1,0>v?(wa=a,ob=""):(wa=a.substring(0,v),ob=a.substring(v))):(wa=a.substring(0,v),ob=b+a.substring(v+1));!k&&m&&(wa=f(wa,1/0));var v=p.length+wa.length+ob.length+(s?0:g.length),u=N>v?Array(v=N-v+1).join(c):"";return s&&(wa=f(u+wa,u.length?N-ob.length:1/0)),g+=p,a=wa+ob,("<"===d?g+a+u:">"===d?u+g+a:"^"===d?u.substring(0,v>>=1)+g+a+u.substring(v):g+(s?a:u+a))+e}}}
function hc(a){return a+""}function Wa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function eb(a,b,c){function d(b){var c=a(b),e=f(c,1);return e-b>b-c?c:e}function e(c){return b(c=a(new Na(c-1)),1),c}function f(a,c){return b(a=new Na(+a),c),a}function h(a,d,f){a=e(a);var g=[];if(1<f)for(;d>a;)c(a)%f||g.push(new Date(+a)),b(a,1);else for(;d>a;)g.push(new Date(+a)),b(a,1);return g}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=h;var g=a.utc=bb(a);return g.floor=
g,g.round=bb(d),g.ceil=bb(e),g.offset=bb(f),g.range=function(a,b,c){try{Na=Wa;var d=new Wa;return d._=a,h(d,b,c)}finally{Na=Date}},a}function bb(a){return function(b,c){try{Na=Wa;var d=new Wa;return d._=b,a(d,c)._}finally{Na=Date}}}function kb(a){function b(a){function d(b){for(var c,f,h,g=[],k=-1,N=0;++k<e;)37===a.charCodeAt(k)&&(g.push(a.slice(N,k)),null!=(f=Mf[c=a.charAt(++k)])&&(c=a.charAt(++k)),(h=w[c])&&(c=h(b,null==f?"e"===c?" ":"0":f)),g.push(c),N=k+1);return g.push(a.slice(N,k)),g.join("")}
var e=a.length;return d.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&Na!==Wa;var e=new (b?Wa:Na);return"j"in d?e.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d),e.setHours(d.H+(0|d.Z/100),d.M+d.Z%100,d.S,d.L),b?e._:e},d.toString=function(){return a},d}function c(a,
b,d,e){for(var f,h,g,k=0,N=b.length,m=d.length;N>k;){if(e>=m)return-1;if(f=b.charCodeAt(k++),37===f){if(g=b.charAt(k++),h=D[g in Mf?b.charAt(k++):g],!h||0>(e=h(a,d,e)))return-1}else if(f!=d.charCodeAt(e++))return-1}return e}var d=a.dateTime,e=a.date,f=a.time,h=a.periods,g=a.days,k=a.shortDays,m=a.months,l=a.shortMonths;b.utc=function(a){function c(a){try{Na=Wa;var b=new Na;return b._=a,d(b)}finally{Na=Date}}var d=b(a);return c.parse=function(a){try{Na=Wa;var b=d.parse(a);return b&&b._}finally{Na=
Date}},c.toString=d.toString,c};b.multi=b.utc.multi=Fc;var n=z.map(),p=mb(g),q=yb(g),r=mb(k),s=yb(k),v=mb(m),u=yb(m),t=mb(l),x=yb(l);h.forEach(function(a,b){n.set(a.toLowerCase(),b)});var w={a:function(a){return k[a.getDay()]},A:function(a){return g[a.getDay()]},b:function(a){return l[a.getMonth()]},B:function(a){return m[a.getMonth()]},c:b(d),d:function(a,b){return Ca(a.getDate(),b,2)},e:function(a,b){return Ca(a.getDate(),b,2)},H:function(a,b){return Ca(a.getHours(),b,2)},I:function(a,b){return Ca(a.getHours()%
12||12,b,2)},j:function(a,b){return Ca(1+T.dayOfYear(a),b,3)},L:function(a,b){return Ca(a.getMilliseconds(),b,3)},m:function(a,b){return Ca(a.getMonth()+1,b,2)},M:function(a,b){return Ca(a.getMinutes(),b,2)},p:function(a){return h[+(12<=a.getHours())]},S:function(a,b){return Ca(a.getSeconds(),b,2)},U:function(a,b){return Ca(T.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Ca(T.mondayOfYear(a),b,2)},x:b(e),X:b(f),y:function(a,b){return Ca(a.getFullYear()%100,b,2)},Y:function(a,
b){return Ca(a.getFullYear()%1E4,b,4)},Z:Ec,"%":function(){return"%"}},D={a:function(a,b,c){r.lastIndex=0;return(b=r.exec(b.slice(c)))?(a.w=s.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){p.lastIndex=0;return(b=p.exec(b.slice(c)))?(a.w=q.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){t.lastIndex=0;return(b=t.exec(b.slice(c)))?(a.m=x.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){v.lastIndex=0;return(b=v.exec(b.slice(c)))?(a.m=u.get(b[0].toLowerCase()),c+
b[0].length):-1},c:function(a,b,d){return c(a,w.c.toString(),b,d)},d:Ua,e:Ua,H:ya,I:ya,j:Zb,L:zb,m:oc,M:nb,p:function(a,b,c){b=n.get(b.slice(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:Dc,U:ic,w:Nb,W:jc,x:function(a,b,d){return c(a,w.x.toString(),b,d)},X:function(a,b,d){return c(a,w.X.toString(),b,d)},y:cb,Y:La,Z:Db,"%":$c};return b}function Ca(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(c>e?Array(c-e+1).join(b)+a:a)}function mb(a){return RegExp("^(?:"+a.map(z.requote).join("|")+
")","i")}function yb(a){for(var b=new n,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Nb(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function ic(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function jc(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function La(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function cb(a,b,c){Fa.lastIndex=
0;return(b=Fa.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Db(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function oc(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function Ua(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Zb(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function ya(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,
c+2)))?(a.H=+b[0],c+b[0].length):-1}function nb(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Dc(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function zb(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Ec(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=0|ea(b)/60,b=ea(b)%60;return a+Ca(c,"0",2)+Ca(b,"0",2)}function $c(a,b,c){Nf.lastIndex=0;return(a=Nf.exec(b.slice(c,
c+1)))?c+a[0].length:-1}function Fc(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function Lb(){}function hd(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function pc(a,b){a&&Of.hasOwnProperty(a.type)&&Of[a.type](a,b)}function qc(a,b,c){var d=-1,e=a.length-c;for(b.lineStart();++d<e;)c=a[d],b.point(c[0],c[1],c[2]);b.lineEnd()}function Gc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)qc(a[c],b,1);b.polygonEnd()}
function ad(){function a(b,c){b*=da;c=c*da/2+ba/4;var h=b-d,g=0<=h?1:-1,k=g*h,h=Math.cos(c),N=Math.sin(c),m=f*N,l=e*h+m*Math.cos(k),g=m*g*Math.sin(k);dc.add(Math.atan2(g,l));d=b;e=h;f=N}var b,c,d,e,f;Za.point=function(h,g){Za.point=a;d=(b=h)*da;e=Math.cos(g=(c=g)*da/2+ba/4);f=Math.sin(g)};Za.lineEnd=function(){a(b,c)}}function Sa(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function lb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Ob(a,b){return[a[1]*
b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Pc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function $b(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function ub(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function rc(a){return[Math.atan2(a[1],a[0]),E(a[2])]}function sc(a,b){return ea(a[0]-b[0])<S&&ea(a[1]-b[1])<S}function ac(a,b){a*=da;var c=Math.cos(b*=da);bc(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function bc(a,b,c){++Wc;Hb+=(a-Hb)/Wc;Ib+=(b-Ib)/Wc;wb+=(c-wb)/Wc}
function id(){function a(e,f){e*=da;var h=Math.cos(f*=da),g=h*Math.cos(e),h=h*Math.sin(e),k=Math.sin(f),N=Math.atan2(Math.sqrt((N=c*k-d*h)*N+(N=d*g-b*k)*N+(N=b*h-c*g)*N),b*g+c*h+d*k);wc+=N;gb+=N*(b+(b=g));hb+=N*(c+(c=h));Va+=N*(d+(d=k));bc(b,c,d)}var b,c,d;pb.point=function(e,f){e*=da;var h=Math.cos(f*=da);b=h*Math.cos(e);c=h*Math.sin(e);d=Math.sin(f);pb.point=a;bc(b,c,d)}}function Qc(){pb.point=ac}function cc(){function a(b,c){b*=da;var h=Math.cos(c*=da),g=h*Math.cos(b),h=h*Math.sin(b),k=Math.sin(c),
N=e*k-f*h,m=f*g-d*k,l=d*h-e*g,n=Math.sqrt(N*N+m*m+l*l),Aa=d*g+e*h+f*k,Da=n&&-(1<Aa?0:-1>Aa?ba:Math.acos(Aa))/n,n=Math.atan2(n,Aa);Rb+=Da*N;Sb+=Da*m;xb+=Da*l;wc+=n;gb+=n*(d+(d=g));hb+=n*(e+(e=h));Va+=n*(f+(f=k));bc(d,e,f)}var b,c,d,e,f;pb.point=function(h,g){b=h;c=g;pb.point=a;h*=da;var k=Math.cos(g*=da);d=k*Math.cos(h);e=k*Math.sin(h);f=Math.sin(g);bc(d,e,f)};pb.lineEnd=function(){a(b,c);pb.lineEnd=Qc;pb.point=ac}}function Rc(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}return a.invert&&b.invert&&
(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function vb(){return!0}function bd(a,b,c,d,e){var f=[],h=[];if(a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(sc(c,d)){e.lineStart();for(d=0;b>d;++d)e.point((c=a[d])[0],c[1]);return e.lineEnd(),void 0}b=new tc(c,a,null,!0);c=new tc(c,null,b,!1);b.o=c;f.push(b);h.push(c);b=new tc(d,a,null,!1);c=new tc(d,null,b,!0);b.o=c;f.push(b);h.push(c)}}),h.sort(b),Sc(f),Sc(h),f.length){a=0;b=c;for(c=h.length;c>a;++a)h[a].e=
b=!b;for(var g,k=f[0];;){for(var m=k,l=!0;m.v;)if((m=m.n)===k)return;b=m.z;e.lineStart();do{if(m.v=m.o.v=!0,m.e){if(l)for(a=0,c=b.length;c>a;++a)e.point((g=b[a])[0],g[1]);else d(m.x,m.n.x,1,e);m=m.n}else{if(l)for(b=m.p.z,a=b.length-1;0<=a;--a)e.point((g=b[a])[0],g[1]);else d(m.x,m.p.x,-1,e);m=m.p}m=m.o;b=m.z;l=!l}while(!m.v);e.lineEnd()}}}function Sc(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0];c.p=e}}function tc(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=
!1;this.n=this.p=null}function jd(a,b,c,d){return function(e,f){function h(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function g(a,b){var c=e(a,b);v.point(c[0],c[1])}function k(){t.point=g;v.lineStart()}function m(){t.point=h;v.lineEnd()}function l(a,b){s.push([a,b]);var c=e(a,b);w.point(c[0],c[1])}function n(){w.lineStart();s=[]}function p(){l(s[0][0],s[0][1]);w.lineEnd();var a;a=w.clean();var b=x.buffer(),c=b.length;if(s.pop(),r.push(s),s=null,c)if(1&a){a=b[0];var d,c=a.length-1,b=-1;if(0<
c){D||(f.polygonStart(),D=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&2&a&&b.push(b.pop().concat(b.shift())),q.push(b.filter(ie))}var q,r,s,v=b(f),u=e.invert(d[0],d[1]),t={point:h,lineStart:k,lineEnd:m,polygonStart:function(){t.point=l;t.lineStart=n;t.lineEnd=p;q=[];r=[]},polygonEnd:function(){t.point=h;t.lineStart=k;t.lineEnd=m;q=z.merge(q);var a,b=u;a=r;var d=b[0],e=b[1],g=[Math.sin(d),-Math.cos(d),0],N=0,l=0;dc.reset();for(var n=0,Aa=a.length;Aa>n;++n){var p=a[n],
Qa=p.length;if(Qa)for(var wa=p[0],s=wa[0],b=wa[1]/2+ba/4,fb=Math.sin(b),v=Math.cos(b),x=1;;){x===Qa&&(x=0);var b=p[x],Pb=b[0],w=b[1]/2+ba/4,Gf=Math.sin(w),w=Math.cos(w),A=Pb-s,qe=0<=A?1:-1,F=qe*A,y=F>ba,fb=fb*Gf;if(dc.add(Math.atan2(fb*qe*Math.sin(F),v*w+fb*Math.cos(F))),N+=y?A+qe*$a:A,y^s>=d^Pb>=d)wa=Ob(Sa(wa),Sa(b)),ub(wa),s=Ob(g,wa),ub(s),s=(y^0<=A?-1:1)*E(s[2]),(e>s||e===s&&(wa[0]||wa[1]))&&(l+=y^0<=A?1:-1);if(!x++)break;s=Pb;fb=Gf;v=w;wa=b}}a=(-S>N||S>N&&0>dc)^1&l;q.length?(D||(f.polygonStart(),
D=!0),bd(q,je,a,c,f)):a&&(D||(f.polygonStart(),D=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());D&&(f.polygonEnd(),D=!1);q=r=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},x=kd(),w=b(x),D=!1;return t}}function ie(a){return 1<a.length}function kd(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:h,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}
function je(a,b){return(0>(a=a.x)[0]?a[1]-Ea-S:Ea-a[1])-(0>(b=b.x)[0]?b[1]-Ea-S:Ea-b[1])}function ke(a){function b(a,c){return Math.cos(a)*Math.cos(c)>e}function c(a,b,d){var f=Sa(a),h=Sa(b),g=[1,0,0],h=Ob(f,h),k=lb(h,h),f=h[0],N=k-f*f;if(!N)return!d&&a;k=e*k/N;N=-e*f/N;f=Ob(g,h);g=$b(g,k);h=$b(h,N);Pc(g,h);h=lb(g,f);k=lb(f,f);N=h*h-k*(lb(g,g)-1);if(!(0>N)){var m=Math.sqrt(N),N=$b(f,(-h-m)/k);if(Pc(N,g),N=rc(N),!d)return N;var l;d=a[0];var n=b[0];a=a[1];b=b[1];d>n&&(l=d,d=n,n=l);var Aa=n-d,Da=ea(Aa-
ba)<S,p=Da||S>Aa;if(!Da&&a>b&&(l=a,a=b,b=l),p?Da?0<a+b^N[1]<(ea(N[0]-d)<S?a:b):a<=N[1]&&N[1]<=b:Aa>ba^(d<=N[0]&&N[0]<=n))return l=$b(f,(-h+m)/k),Pc(l,g),[N,rc(l)]}}function d(b,c){var e=f?a:ba-a,h=0;return-e>b?h|=1:b>e&&(h|=2),-e>c?h|=4:c>e&&(h|=8),h}var e=Math.cos(a),f=0<e,h=ea(e)>S,g=Zd(a,6*da);return jd(b,function(a){var e,g,k,N,m;return{lineStart:function(){N=k=!1;m=1},point:function(l,n){var p,q=[l,n],wa=b(l,n),r=f?wa?0:d(l,n):wa?d(l+(0>l?ba:-ba),n):0;if(!e&&(N=k=wa)&&a.lineStart(),wa!==k&&(p=
c(e,q),(sc(e,p)||sc(q,p))&&(q[0]+=S,q[1]+=S,wa=b(q[0],q[1]))),wa!==k)m=0,wa?(a.lineStart(),p=c(q,e),a.point(p[0],p[1])):(p=c(e,q),a.point(p[0],p[1]),a.lineEnd()),e=p;else if(h&&e&&f^wa){var s;r&g||!(s=c(q,e,!0))||(m=0,f?(a.lineStart(),a.point(s[0][0],s[0][1]),a.point(s[1][0],s[1][1]),a.lineEnd()):(a.point(s[1][0],s[1][1]),a.lineEnd(),a.lineStart(),a.point(s[0][0],s[0][1])))}!wa||e&&sc(e,q)||a.point(q[0],q[1]);e=q;k=wa;g=r},lineEnd:function(){k&&a.lineEnd();e=null},clean:function(){return m|(N&&k)<<
1}}},g,f?[0,-a]:[-ba,a-ba])}function ld(a,b,c,d){return function(e){var f,h=e.a,g=e.b,k=h.x,h=h.y,m=0,l=1,n=g.x-k,g=g.y-h;if(f=a-k,n||!(0<f)){if(f/=n,0>n){if(m>f)return;l>f&&(l=f)}else if(0<n){if(f>l)return;f>m&&(m=f)}if(f=c-k,n||!(0>f)){if(f/=n,0>n){if(f>l)return;f>m&&(m=f)}else if(0<n){if(m>f)return;l>f&&(l=f)}if(f=b-h,g||!(0<f)){if(f/=g,0>g){if(m>f)return;l>f&&(l=f)}else if(0<g){if(f>l)return;f>m&&(m=f)}if(f=d-h,g||!(0>f)){if(f/=g,0>g){if(f>l)return;f>m&&(m=f)}else if(0<g){if(m>f)return;l>f&&(l=
f)}return 0<m&&(e.a={x:k+m*n,y:h+m*g}),1>l&&(e.b={x:k+l*n,y:h+l*g}),e}}}}}}function md(a,b,c,d){function e(d,f){return ea(d[0]-a)<S?0<f?0:3:ea(d[0]-c)<S?0<f?2:1:ea(d[1]-b)<S?0<f?1:0:0<f?3:2}function f(a,b){return h(a.x,b.x)}function h(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(g){function k(f,g,m,l){var n=0,p=0;if(null==f||(n=e(f,m))!==(p=e(g,m))||0>h(f,g)^0<m){do l.point(0===n||3===n?a:c,1<n?d:b);while((n=(n+m+4)%4)!==p)}else l.point(g[0],
g[1])}function m(e,f){e>=a&&c>=e&&f>=b&&d>=f&&g.point(e,f)}function l(e,f){e=Math.max(-vd,Math.min(vd,e));f=Math.max(-vd,Math.min(vd,f));var h=e>=a&&c>=e&&f>=b&&d>=f;if(p&&q.push([e,f]),w)r=e,s=f,v=h,w=!1,h&&(g.lineStart(),g.point(e,f));else if(h&&x)g.point(e,f);else{var k={a:{x:u,y:t},b:{x:e,y:f}};y(k)?(x||(g.lineStart(),g.point(k.a.x,k.a.y)),g.point(k.b.x,k.b.y),h||g.lineEnd(),D=!1):h&&(g.lineStart(),g.point(e,f),D=!1)}u=e;t=f;x=h}var n,p,q,r,s,v,u,t,x,w,D,A=g,F=kd(),y=ld(a,b,c,d),K={point:m,lineStart:function(){K.point=
l;p&&p.push(q=[]);w=!0;x=!1;u=t=0/0},lineEnd:function(){n&&(l(r,s),v&&x&&F.rejoin(),n.push(F.buffer()));K.point=m;x&&g.lineEnd()},polygonStart:function(){g=F;n=[];p=[];D=!0},polygonEnd:function(){g=A;n=z.merge(n);var b;b=[a,d];for(var c=0,e=p.length,h=b[1],m=0;e>m;++m)for(var l,Aa=1,Da=p[m],wa=Da.length,r=Da[0];wa>Aa;++Aa)l=Da[Aa],r[1]<=h?l[1]>h&&0<ka(r,l,b)&&++c:l[1]<=h&&0>ka(r,l,b)&&--c,r=l;b=0!==c;c=D&&b;e=n.length;(c||e)&&(g.polygonStart(),c&&(g.lineStart(),k(null,null,1,g),g.lineEnd()),e&&bd(n,
f,b,k,g),g.polygonEnd());n=p=q=null}};return K}}function uc(a){var b=0,c=ba/3,d=Xd(a);a=d(b,c);return a.parallels=function(a){return arguments.length?d(b=a[0]*ba/180,c=a[1]*ba/180):[180*(b/ba),180*(c/ba)]},a}function kc(a,b){function c(a,b){var d=Math.sqrt(f-2*e*Math.sin(b))/e;return[d*Math.sin(a*=e),h-d*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),h=Math.sqrt(f)/e;return c.invert=function(a,b){var c=h-b;return[Math.atan2(a,c)/e,E((f-(a*a+c*c)*e*e)/(2*e))]},c}function nd(){function a(b,
c){wd+=e*b-d*c;d=b;e=c}var b,c,d,e;Tb.point=function(f,h){Tb.point=a;b=d=f;c=e=h};Tb.lineEnd=function(){a(b,c)}}function Tc(){function a(b,c){h.push("M",b,",",c,f)}function b(a,d){h.push("M",a,",",d);g.point=c}function c(a,b){h.push("L",a,",",b)}function d(){g.point=a}function e(){h.push("Z")}var f=od(4.5),h=[],g={point:a,lineStart:function(){g.point=b},lineEnd:d,polygonStart:function(){g.lineEnd=e},polygonEnd:function(){g.lineEnd=d;g.point=a},pointRadius:function(a){return f=od(a),g},result:function(){if(h.length){var a=
h.join("");return h=[],a}}};return g}function od(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ya(a,b){Hb+=a;Ib+=b;++wb}function Uc(){function a(d,e){var f=d-b,h=e-c,f=Math.sqrt(f*f+h*h);gb+=f*(b+d)/2;hb+=f*(c+e)/2;Va+=f;Ya(b=d,c=e)}var b,c;qb.point=function(d,e){qb.point=a;Ya(b=d,c=e)}}function vc(){qb.point=Ya}function le(){function a(b,c){var f=b-d,h=c-e,f=Math.sqrt(f*f+h*h);gb+=f*(d+b)/2;hb+=f*(e+c)/2;Va+=f;f=e*b-d*c;Rb+=f*(d+b);Sb+=f*(e+c);xb+=3*f;Ya(d=
b,e=c)}var b,c,d,e;qb.point=function(f,h){qb.point=a;Ya(b=d=f,c=e=h)};qb.lineEnd=function(){a(b,c)}}function me(a){function b(c,d){a.moveTo(c+g,d);a.arc(c,d,g,0,$a)}function c(b,e){a.moveTo(b,e);k.point=d}function d(b,c){a.lineTo(b,c)}function e(){k.point=b}function f(){a.closePath()}var g=4.5,k={point:b,lineStart:function(){k.point=c},lineEnd:e,polygonStart:function(){k.lineEnd=f},polygonEnd:function(){k.lineEnd=e;k.point=b},pointRadius:function(a){return g=a,k},result:h};return k}function Xe(a){function b(a){return(g?
d:c)(a)}function c(b){return Ze(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function f(){s=0/0;x.point=h;b.lineStart()}function h(c,d){var f=Sa([c,d]),k=a(c,d);e(s,v,r,u,t,ob,s=k[0],v=k[1],r=c,u=f[0],t=f[1],ob=f[2],g,b);b.point(s,v)}function k(){x.point=c;b.lineEnd()}function m(){f();x.point=l;x.lineEnd=n}function l(a,b){h(Aa=a,b);p=s;Da=v;Qa=u;q=t;Df=ob;x.point=h}function n(){e(s,v,r,u,t,ob,p,Da,Aa,Qa,q,Df,g,b);x.lineEnd=k;k()}var Aa,p,
Da,Qa,q,Df,r,s,v,u,t,ob,x={point:c,lineStart:f,lineEnd:k,polygonStart:function(){b.polygonStart();x.lineStart=m},polygonEnd:function(){b.polygonEnd();x.lineStart=f}};return x}function e(b,c,d,g,k,m,l,n,Aa,p,Da,Qa,q,r){var s=l-b,v=n-c,u=s*s+v*v;if(u>4*f&&q--){var fb=g+p,t=k+Da,x=m+Qa,w=Math.sqrt(fb*fb+t*t+x*x),D=Math.asin(x/=w),A=ea(ea(x)-1)<S||ea(d-Aa)<S?(d+Aa)/2:Math.atan2(t,fb),F=a(A,D),D=F[0],F=F[1],y=D-b,K=F-c,B=v*y-s*K;(B*B/u>f||0.3<ea((s*y+v*K)/u-0.5)||h>g*p+k*Da+m*Qa)&&(e(b,c,d,g,k,m,D,F,A,
fb/=w,t/=w,x,q,r),r.point(D,F),e(D,F,A,fb,t,x,l,n,Aa,p,Da,Qa,q,r))}}var f=0.5,h=Math.cos(30*da),g=16;return b.precision=function(a){return arguments.length?(g=0<(f=a*a)&&16,b):Math.sqrt(f)},b}function Rg(a){var b=Xe(function(b,c){return a([b*Ba,c*Ba])});return function(a){return $e(b(a))}}function Ye(a){this.stream=a}function Ze(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}
function Kb(a){return Xd(function(){return a})()}function Xd(a){function b(a){return a=g(a[0]*da,a[1]*da),[a[0]*p+k,m-a[1]*p]}function c(a){return a=g.invert((a[0]-k)/p,(m-a[1])/p),a&&[a[0]*Ba,a[1]*Ba]}function d(){g=Rc(h=Yd(u,t,x),f);var a=f(s,v);return k=q-a[0]*p,m=r+a[1]*p,e()}function e(){return l&&(l.valid=!1,l=null),b}var f,h,g,k,m,l,n=Xe(function(a,b){return a=f(a,b),[a[0]*p+k,m-a[1]*p]}),p=150,q=480,r=250,s=0,v=0,u=0,t=0,x=0,w=Pf,D=Ga,A=null,F=null;return b.stream=function(a){return l&&(l.valid=
!1),l=$e(w(h,n(D(a)))),l.valid=!0,l},b.clipAngle=function(a){return arguments.length?(w=null==a?(A=a,Pf):ke((A=+a)*da),e()):A},b.clipExtent=function(a){return arguments.length?(F=a,D=a?md(a[0][0],a[0][1],a[1][0],a[1][1]):Ga,e()):F},b.scale=function(a){return arguments.length?(p=+a,d()):p},b.translate=function(a){return arguments.length?(q=+a[0],r=+a[1],d()):[q,r]},b.center=function(a){return arguments.length?(s=a[0]%360*da,v=a[1]%360*da,d()):[s*Ba,v*Ba]},b.rotate=function(a){return arguments.length?
(u=a[0]%360*da,t=a[1]%360*da,x=2<a.length?a[2]%360*da:0,d()):[u*Ba,t*Ba,x*Ba]},z.rebind(b,n,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function $e(a){return Ze(a,function(b,c){a.point(b*da,c*da)})}function Cc(a,b){return[a,b]}function af(a,b){return[a>ba?a-$a:-ba>a?a+$a:a,b]}function Yd(a,b,c){return a?b||c?Rc(Zc(a),cf(b,c)):Zc(a):b||c?cf(b,c):af}function bf(a){return function(b,c){return b+=a,[b>ba?b-$a:-ba>b?b+$a:b,c]}}function Zc(a){var b=bf(a);return b.invert=
bf(-a),b}function cf(a,b){function c(a,b){var g=Math.cos(b),k=Math.cos(a)*g,g=Math.sin(a)*g,N=Math.sin(b),m=N*d+k*e;return[Math.atan2(g*f-m*h,k*d-N*e),E(m*f+g*h)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),h=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),g=Math.cos(a)*c,c=Math.sin(a)*c,k=Math.sin(b),N=k*f-c*h;return[Math.atan2(c*f+k*h,g*d+N*e),E(N*d-g*e)]},c}function Zd(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,h,g){var k=h*b;null!=e?(e=df(c,e),f=df(c,f),(0<h?f>e:e>
f)&&(e+=h*$a)):(e=a+h*$a,f=a-0.5*k);for(var m;0<h?e>f:f>e;e-=k)g.point((m=rc([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],m[1])}}function df(a,b){var c=Sa(b);c[0]-=a;ub(c);var d=1<-c[1]?0:-1>-c[1]?ba:Math.acos(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-S)%(2*Math.PI)}function pf(a,b,c){var d=z.range(a,b-S,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function qf(a,b,c){var d=z.range(a,b-S,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function ce(a){return a.source}
function ee(a){return a.target}function kh(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),h=Math.cos(d),g=Math.sin(d),k=e*Math.cos(a),m=e*Math.sin(a),l=h*Math.cos(c),n=h*Math.sin(c),p=2*Math.asin(Math.sqrt(M(d-b)+e*h*M(c-a))),q=1/Math.sin(p);c=p?function(a){var b=Math.sin(a*=p)*q,c=Math.sin(p-a)*q;a=c*k+b*l;var d=c*m+b*n,b=c*f+b*g;return[Math.atan2(d,a)*Ba,Math.atan2(b,Math.sqrt(a*a+d*d))*Ba]}:function(){return[a*Ba,b*Ba]};return c.distance=p,c}function Lc(a,b){function c(b,d){var e=Math.cos(b),f=Math.cos(d),
e=a(e*f);return[e*f*Math.sin(b),e*Math.sin(d)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),e=Math.cos(e);return[Math.atan2(a*f,d*e),Math.asin(d&&c*f/d)]},c}function nf(a,b){function c(a,b){0<f?-Ea+S>b&&(b=-Ea+S):b>Ea-S&&(b=Ea-S);var d=f/Math.pow(Math.tan(ba/4+b/2),e);return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(ba/4+b/2)/Math.tan(ba/4+a/2)),f=d*Math.pow(Math.tan(ba/4+a/2),e)/e;return e?(c.invert=
function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Ea]},c):ed}function of(a,b){function c(a,b){var d=f-b;return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return ea(e)<S?Cc:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]},c)}function ed(a,b){return[a,Math.log(Math.tan(ba/4+b/2))]}function tf(a){var b,c=Kb(a),d=c.scale,e=c.translate,
f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var h=f.apply(c,arguments);if(h===c){if(b=null==a){var g=ba*d(),k=e();f([[k[0]-g,k[1]-g],[k[0]+g,k[1]+g]])}}else b&&(h=null);return h},c.clipExtent(null)}function be(a,b){return[Math.log(Math.tan(ba/4+b/2)),-a]}function nc(a){return a[0]}function Ic(a){return a[1]}function sf(a){for(var b=
a.length,c=[0,1],d=2,e=2;b>e;e++){for(;1<d&&0>=ka(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function mh(a,b){return a[0]-b[0]||a[1]-b[1]}function fe(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function $d(a,b,c,d){var e=a[0],f=c[0],h=b[0]-e,g=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(g*(a-c)-d*(e-f))/(d*h-g*b);return[e+f*h,a+f*b]}function kf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function nh(){dd(this);this.edge=this.site=this.circle=null}function lf(a){var b=
Qf.pop()||new nh;return b.site=a,b}function ae(a){mc(a);xc.remove(a);Qf.push(a);dd(a)}function uf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var h=a.P;if(!h)return-1/0;var c=h.site,h=c.x,c=c.y,g=c-b;if(!g)return h;var k=h-d,m=1/f-1/g,l=k/g;return m?(-l+Math.sqrt(l*l-2*m*(k*k/(-2*g)-c+g/2+e-f/2)))/m+d:(d+h)/2}function vf(a){this.site=a;this.edges=[]}function mf(a,b){return b.angle-a.angle}function ah(){dd(this);this.x=this.y=this.arc=this.site=this.cy=null}function lc(a){var b=a.P,c=a.N;if(b&&
c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,h=d.x-c,g=d.y-f,d=e.x-c,e=e.y-f,k=2*(h*e-g*d);if(!(k>=-te)){var m=h*h+g*g,l=d*d+e*e,g=(e*m-g*l)/k,h=(h*l-d*m)/k,e=h+f,f=Rf.pop()||new ah;f.arc=a;f.site=b;f.x=g+c;f.y=e+Math.sqrt(g*g+h*h);f.cy=e;a.circle=f;a=null;for(b=Xc._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x){if(!b.L){a=b.P;break}b=b.L}else{if(!b.R){a=b;break}b=b.R}Xc.insert(a,f);a||(ue=f)}}}}function mc(a){var b=a.circle;b&&(b.P||(ue=b.N),Xc.remove(b),Rf.push(b),dd(b),a.circle=null)}function fh(a,
b){var c=a.b;if(c)return!0;var d,e,f=a.a,c=b[0][0],h=b[1][0],g=b[0][1],k=b[1][1],m=a.l,l=a.r,n=m.x,m=m.y,p=l.x,l=l.y;e=(n+p)/2;if(l===m){if(c>e||e>=h)return;if(n>p){if(f){if(f.y>=k)return}else f={x:e,y:g};c={x:e,y:k}}else{if(f){if(f.y<g)return}else f={x:e,y:k};c={x:e,y:g}}}else if(d=(n-p)/(l-m),e=(m+l)/2-d*e,-1>d||1<d)if(n>p){if(f){if(f.y>=k)return}else f={x:(g-e)/d,y:g};c={x:(k-e)/d,y:k}}else{if(f){if(f.y<g)return}else f={x:(k-e)/d,y:k};c={x:(g-e)/d,y:g}}else if(l>m){if(f){if(f.x>=h)return}else f=
{x:c,y:d*c+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<c)return}else f={x:h,y:d*h+e};c={x:c,y:d*c+e}}return a.a=f,a.b=c,!0}function wf(a,b){this.l=a;this.r=b;this.a=this.b=null}function Mc(a,b,c,d){var e=new wf(a,b);return yc.push(e),c&&fd(e,a,b,c),d&&fd(e,b,a,d),ec[a.i].edges.push(new gd(e,a,b)),ec[b.i].edges.push(new gd(e,b,a)),e}function Yg(a,b,c){a=new wf(a,null);return a.a=b,a.b=c,yc.push(a),a}function fd(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function gd(a,b,c){var d=a.a,e=a.b;this.edge=
a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function ge(){this._=null}function dd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Nc(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Hc(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function xf(a){for(;a.L;)a=a.L;return a}function de(a,b){var c,d,e,f=a.sort(oh).pop();yc=[];ec=Array(a.length);
xc=new ge;for(Xc=new ge;;)if(e=ue,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x)){if(f.x!==c||f.y!==d){ec[f.i]=new vf(f);c=f;for(var h=d=void 0,g=void 0,k=void 0,m=c.x,l=c.y,n=xc._;n;)if(g=uf(n,l)-m,g>S)n=n.L;else{var p=m,q;var r=n;q=l;var s=r.N;s?q=uf(s,q):(r=r.site,q=r.y===q?r.x:1/0);if(k=p-q,!(k>S)){g>-S?(d=n.P,h=n):k>-S?(d=n,h=n.N):d=h=n;break}if(!n.R){d=n;break}n=n.R}g=lf(c);if(xc.insert(d,g),d||h)if(d===h)mc(d),h=lf(d.site),xc.insert(g,h),g.edge=h.edge=Mc(d.site,g.site),lc(d),lc(h);else if(h){mc(d);mc(h);
k=d.site;l=k.x;n=k.y;p=c.x-l;q=c.y-n;var m=h.site,r=m.x-l,s=m.y-n,v=2*(p*s-q*r),u=p*p+q*q,t=r*r+s*s,l={x:(s*u-q*t)/v+l,y:(p*t-r*u)/v+n};fd(h.edge,k,m,l);g.edge=Mc(k,c,null,l);h.edge=Mc(c,m,null,l);lc(d);lc(h)}else g.edge=Mc(d.site,g.site);c=f.x;d=f.y}f=a.pop()}else{if(!e)break;m=e.arc;h=m.circle;k=h.x;l=h.cy;h={x:k,y:l};p=m.P;n=m.N;g=[m];ae(m);for(m=p;m.circle&&ea(k-m.circle.x)<S&&ea(l-m.circle.cy)<S;)p=m.P,g.unshift(m),ae(m),m=p;g.unshift(m);mc(m);for(p=n;p.circle&&ea(k-p.circle.x)<S&&ea(l-p.circle.cy)<
S;)n=p.N,g.push(p),ae(p),p=n;g.push(p);mc(p);k=void 0;l=g.length;for(k=1;l>k;++k)p=g[k],m=g[k-1],fd(p.edge,m.site,p.site,h);m=g[0];p=g[l-1];p.edge=Mc(m.site,p.site,null,h);lc(m);lc(p)}if(b){f=yc;c=ld(b[0][0],b[0][1],b[1][0],b[1][1]);for(d=f.length;d--;)e=f[d],(!fh(e,b)||!c(e)||ea(e.a.x-e.b.x)<S&&ea(e.a.y-e.b.y)<S)&&(e.a=e.b=null,f.splice(d,1));var x,m=b[0][0],l=b[1][0],n=b[0][1],p=b[1][1];q=ec;for(r=q.length;r--;)if(x=q[r],x&&x.prepare())for(h=x.edges,g=h.length,d=0;g>d;)k=h[d].end(),f=k.x,c=k.y,
s=h[++d%g].start(),e=s.x,s=s.y,(ea(f-e)>S||ea(c-s)>S)&&(h.splice(d,0,new gd(Yg(x.site,k,ea(f-m)<S&&p-c>S?{x:m,y:ea(e-m)<S?s:p}:ea(c-p)<S&&l-f>S?{x:ea(s-p)<S?e:l,y:p}:ea(f-l)<S&&c-n>S?{x:l,y:ea(e-l)<S?s:n}:ea(c-n)<S&&f-m>S?{x:ea(s-n)<S?e:m,y:n}:null),x.site,null)),++g)}x={cells:ec,edges:yc};return xc=Xc=yc=ec=null,x}function oh(a,b){return b.y-a.y||b.x-a.x}function dh(a){return a.x}function ph(a){return a.y}function yf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Oc(a,b,c,d,e,f){if(!a(b,
c,d,e,f)){var h=0.5*(c+e),g=0.5*(d+f);b=b.nodes;b[0]&&Oc(a,b[0],c,d,h,g);b[1]&&Oc(a,b[1],h,d,e,g);b[2]&&Oc(a,b[2],c,g,h,f);b[3]&&Oc(a,b[3],h,g,e,f)}}function qh(a,b,c,d,e,f,h){var g,k=1/0;return function Pb(a,m,N,l,n){if(!(m>f||N>h||d>l||e>n)){if(p=a.point){var p,q=b-p[0],r=c-p[1],q=q*q+r*r;k>q&&(q=Math.sqrt(k=q),d=b-q,e=c-q,f=b+q,h=c+q,g=p)}p=a.nodes;for(var q=0.5*(m+l),r=0.5*(N+n),s=(c>=r)<<1|b>=q,v=s+4;v>s;++s)if(a=p[3&s])switch(3&s){case 0:Pb(a,m,N,q,r);break;case 1:Pb(a,q,N,l,r);break;case 2:Pb(a,
m,r,q,n);break;case 3:Pb(a,q,r,l,n)}}}(a,d,e,f,h),g}function he(a,b){a=z.rgb(a);b=z.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,h=b.g-d,g=b.b-e;return function(a){return"#"+Ma(Math.round(c+f*a))+Ma(Math.round(d+h*a))+Ma(Math.round(e+g*a))}}function zf(a,b){var c,d={},e={};for(c in a)c in b?d[c]=Wb(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function Ab(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function Af(a,b){var c,d,e,f=ve.lastIndex=
we.lastIndex=0,h=-1,g=[],k=[];a+="";for(b+="";(c=ve.exec(a))&&(d=we.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),g[h]?g[h]+=e:g[++h]=e),(c=c[0])===(d=d[0])?g[h]?g[h]+=d:g[++h]=d:(g[++h]=null,k.push({i:h,x:Ab(c,d)})),f=we.lastIndex;return f<b.length&&(e=b.slice(f),g[h]?g[h]+=e:g[++h]=e),2>g.length?k[0]?(b=k[0].x,function(a){return b(a)+""}):function(){return b}:(b=k.length,function(a){for(var c,d=0;b>d;++d)g[(c=k[d]).i]=c.x(a);return g.join("")})}function Wb(a,b){for(var c,d=z.interpolators.length;0<=
--d&&!(c=z.interpolators[d](a,b)););return c}function cd(a,b){var c,d=[],e=[],f=a.length,h=b.length,g=Math.min(a.length,b.length);for(c=0;g>c;++c)d.push(Wb(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;h>c;++c)e[c]=b[c];return function(a){for(c=0;g>c;++c)e[c]=d[c](a);return e}}function bh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function Bf(a){return function(b){return 1-a(1-b)}}function Cf(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function Zg(a){return a*a}function $g(a){return a*
a*a}function rh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function eh(a){return 1-Math.cos(a*Ea)}function sh(a){return Math.pow(2,10*(a-1))}function Sg(a){return 1-Math.sqrt(1-a*a)}function Tg(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function ef(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function ff(a){var b=[a.a,a.b],c=[a.c,a.d],d=gf(b),e=
b[0]*c[0]+b[1]*c[1],f=gf((c[0]+=-e*b[0],c[1]+=-e*b[1],c))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Ba;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*Ba:0}function gf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]/=b,a[1]/=b),b}function hf(a,b){var c,d=[],e=[],f=z.transform(a),h=z.transform(b),g=f.translate,k=h.translate,m=f.rotate,l=h.rotate,n=f.skew,p=h.skew,f=f.scale,h=h.scale;return g[0]!=
k[0]||g[1]!=k[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:Ab(g[0],k[0])},{i:3,x:Ab(g[1],k[1])})):k[0]||k[1]?d.push("translate("+k+")"):d.push(""),m!=l?(180<m-l?l+=360:180<l-m&&(m+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:Ab(m,l)})):l&&d.push(d.pop()+"rotate("+l+")"),n!=p?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:Ab(n,p)}):p&&d.push(d.pop()+"skewX("+p+")"),f[0]!=h[0]||f[1]!=h[1]?(c=d.push(d.pop()+"scale(",null,",",null,")"),e.push({i:c-4,x:Ab(f[0],h[0])},{i:c-2,x:Ab(f[1],
h[1])})):(1!=h[0]||1!=h[1])&&d.push(d.pop()+"scale("+h+")"),c=e.length,function(a){for(var b,f=-1;++f<c;)d[(b=e[f]).i]=b.x(a);return d.join("")}}function Ug(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Vg(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Wg(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=jf(b);for(var d=jf(d),e=c.pop(),f=d.pop(),h=null;e===f;)h=e,e=c.pop(),f=d.pop();c=h}for(d=[b];b!==c;)b=b.parent,d.push(b);
for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function jf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Xg(a){a.fixed|=2}function ch(a){a.fixed&=-7}function gh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function hh(a){a.fixed&=-5}function rf(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,h=a.nodes,g=h.length,k=-1;++k<g;)f=h[k],null!=f&&(rf(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=
Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Jc(a,b){return z.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=wh,a}function Kc(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function sb(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,h=-1;++h<e;)c.push(f[h]);for(;null!=(a=d.pop());)b(a)}function ih(a){return a.children}
function jh(a){return a.value}function lh(a,b){return b.value-a.value}function wh(a){return z.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function xh(a){return a.x}function yh(a){return a.y}function zh(a,b,c){a.y0=b;a.y=c}function xe(a){return z.range(a.length)}function ye(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Ah(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function Bh(a){return a.reduce(Ch,
0)}function Ch(a,b){return a+b[1]}function Dh(a,b){return Sf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Sf(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Eh(a){return[z.min(a),z.max(a)]}function Fh(a,b){return a.value-b.value}function ze(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function Tf(a,b){a._pack_next=b;b._pack_prev=a}function Uf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return 0.999*e*e>c*c+d*d}function Vf(a){function b(a){l=
Math.min(a.x-a.r,l);n=Math.max(a.x+a.r,n);p=Math.min(a.y-a.r,p);q=Math.max(a.y+a.r,q)}if((c=a.children)&&(m=c.length)){var c,d,e,f,h,g,k,m,l=1/0,n=-1/0,p=1/0,q=-1/0;if(c.forEach(Gh),d=c[0],d.x=-d.r,d.y=0,b(d),1<m&&(e=c[1],e.x=e.r,e.y=0,b(e),2<m))for(f=c[2],Wf(d,e,f),b(f),ze(d,f),d._pack_prev=f,ze(f,e),e=d._pack_next,h=3;m>h;h++){Wf(d,e,f=c[h]);var r=0,s=1,v=1;for(g=e._pack_next;g!==e;g=g._pack_next,s++)if(Uf(g,f)){r=1;break}if(1==r)for(k=d._pack_prev;k!==g._pack_prev&&!Uf(k,f);k=k._pack_prev,v++);
r?(v>s||s==v&&e.r<d.r?Tf(d,e=g):Tf(d=k,e),h--):(ze(d,f),e=f,b(f))}d=(l+n)/2;e=(p+q)/2;for(h=g=0;m>h;h++)f=c[h],f.x-=d,f.y-=e,g=Math.max(g,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=g;c.forEach(Hh)}}function Gh(a){a._pack_next=a._pack_prev=a}function Hh(a){delete a._pack_next;delete a._pack_prev}function Xf(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e){a=-1;for(var f=e.length;++a<f;)Xf(e[a],b,c,d)}}function Wf(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var h=b.r+c.r,g=e*e+f*
f,h=h*h,d=d*d;b=0.5+(d-h)/(2*g);h=Math.sqrt(Math.max(0,2*h*(d+g)-(d-=g)*d-h*h))/(2*g);c.x=a.x+b*e+h*f;c.y=a.y+b*f-h*e}else c.x=a.x+d,c.y=a.y}function Yf(a,b){return a.parent==b.parent?1:2}function Ae(a){var b=a.children;return b.length?b[0]:a.t}function Be(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Ih(a){return 1+z.max(a,function(a){return a.y})}function Jh(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Zf(a){var b=a.children;return b&&b.length?Zf(b[0]):a}function $f(a){var b,
c=a.children;return c&&(b=c.length)?$f(c[b-1]):a}function Ce(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ag(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function zc(a){var b=a[0];a=a[a.length-1];return a>b?[b,a]:[a,b]}function xd(a){return a.rangeExtent?a.rangeExtent():zc(a.range())}function Kh(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function yd(a,b){var c,d=0,e=a.length-1,
f=a[d],h=a[e];return f>h&&(c=d,d=e,e=c,c=f,f=h,h=c),a[d]=b.floor(f),a[e]=b.ceil(h),a}function bg(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Lh}function Mh(a,b,c,d){var e=[],f=[],h=0,g=Math.min(a.length,b.length)-1;for(a[g]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++h<=g;)e.push(c(a[h-1],a[h])),f.push(d(b[h-1],b[h]));return function(b){var c=z.bisect(a,b,1,g)-1;return f[c](e[c](b))}}function cg(a,b,c,d){function e(){var k=2<Math.min(a.length,
b.length)?Mh:Kh,m=d?Vg:Ug;return h=k(a,b,m,c),g=k(b,a,m,Wb),f}function f(a){return h(a)}var h,g;return f.invert=function(a){return g(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(ef)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return z.range.apply(z,Ub(a,b))},f.tickFormat=
function(b,c){return De(a,b,c)},f.nice=function(b){return yd(a,bg(Ub(a,b)[2])),e()},f.copy=function(){return cg(a,b,c,d)},e()}function Ee(a,b){return z.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ub(a,b){null==b&&(b=10);var c=zc(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;return 0.15>=d?e*=10:0.35>=d?e*=5:0.75>=d&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+0.5*e,c[2]=e,c}function De(a,b,c){a=Ub(a,b);if(c){b=Lf.exec(c);if(b.shift(),"s"===
b[8]){var d=z.formatPrefix(Math.max(ea(a[0]),ea(a[1])));return b[7]||(b[7]="."+zd(d.scale(a[2]))),b[8]="f",c=z.format(b.join("")),function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Nh(b[8],a));c=b.join("")}else c=",."+zd(a[2])+"f";return z.format(c)}function zd(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}function Nh(a,b){var c=zd(b[2]);return a in Oh?Math.abs(c-zd(Math.max(ea(b[0]),ea(b[1]))))+ +("e"!==a):c-2*("%"===a)}function dg(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<
a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function h(b){return a(e(b))}return h.invert=function(b){return f(a.invert(b))},h.domain=function(b){return arguments.length?(c=0<=b[0],a.domain((d=b.map(Number)).map(e)),h):d},h.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),h):b},h.nice=function(){var b=yd(d.map(e),c?Math:Ph);return a.domain(b),d=b.map(f),h},h.ticks=function(){var a=zc(d),h=[],g=a[0],a=a[1],k=Math.floor(e(g)),m=Math.ceil(e(a)),l=b%1?2:b;
if(isFinite(m-k)){if(c){for(;m>k;k++)for(var n=1;l>n;n++)h.push(f(k)*n);h.push(f(k))}else for(h.push(f(k));k++<m;)for(n=l-1;0<n;n--)h.push(f(k)*n);for(k=0;h[k]<g;k++);for(m=h.length;h[m-1]>a;m--);h=h.slice(k,m)}return h},h.tickFormat=function(a,b){if(!arguments.length)return eg;2>arguments.length?b=eg:"function"!=typeof b&&(b=z.format(b));var d,g=Math.max(0.1,a/h.ticks().length),k=c?(d=1E-12,Math.ceil):(d=-1E-12,Math.floor);return function(a){return a/f(k(e(a)+d))<=g?b(a):""}},h.copy=function(){return dg(a.copy(),
b,c,d)},Ee(h,a)}function fg(a,b,c){function d(b){return a(e(b))}var e=Ad(b),f=Ad(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return z.range.apply(z,Ub(c,a))},d.tickFormat=function(a,b){return De(c,a,b)},d.nice=function(a){return d.domain(yd(c,bg(Ub(c,a)[2])))},d.exponent=function(h){return arguments.length?(e=Ad(b=h),f=Ad(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return fg(a.copy(),
b,c)},Ee(d,a)}function Ad(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function gg(a,b){function c(d){return f[((e.get(d)||("range"===b.t?e.set(d,a.push(d)):0/0))-1)%f.length]}function d(b,c){return z.range(a.length).map(function(a){return b+c*a})}var e,f,h;return c.domain=function(d){if(!arguments.length)return a;a=[];e=new n;for(var f,h=-1,g=d.length;++h<g;)e.has(f=d[h])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,h=0,b={t:"range",
a:arguments},c):f},c.rangePoints=function(e,g){2>arguments.length&&(g=0);var k=e[0],m=e[1],m=2>a.length?(k=(k+m)/2,0):(m-k)/(a.length-1+g);return f=d(k+m*g/2,m),h=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,g){2>arguments.length&&(g=0);var k=e[0],m=e[1],l=2>a.length?(k=m=Math.round((k+m)/2),0):0|(m-k)/(a.length-1+g);return f=d(k+Math.round(l*g/2+(m-k-(a.length-1+g)*l)/2),l),h=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,g,k){2>arguments.length&&(g=0);3>
arguments.length&&(k=g);var m=e[1]<e[0],l=e[m-0],n=(e[1-m]-l)/(a.length-g+2*k);return f=d(l+n*k,n),m&&f.reverse(),h=n*(1-g),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,g,k){2>arguments.length&&(g=0);3>arguments.length&&(k=g);var m=e[1]<e[0],l=e[m-0],n=e[1-m],p=Math.floor((n-l)/(a.length-g+2*k));return f=d(l+Math.round((n-l-(a.length-g)*p)/2),p),m&&f.reverse(),h=Math.round(p*(1-g)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return h},c.rangeExtent=function(){return zc(b.a[0])},
c.copy=function(){return gg(a,b)},c.domain(a)}function hg(a,c){function d(){var b=0,h=c.length;for(f=[];++b<h;)f[b-1]=z.quantile(a,b/h);return e}function e(a){return isNaN(a=+a)?void 0:c[z.bisect(f,a)]}var f;return e.domain=function(c){return arguments.length?(a=c.map(l).filter(k).sort(b),d()):a},e.range=function(a){return arguments.length?(c=a,d()):c},e.quantiles=function(){return f},e.invertExtent=function(b){return b=c.indexOf(b),0>b?[0/0,0/0]:[0<b?f[b-1]:a[0],b<f.length?f[b]:a[a.length-1]]},e.copy=
function(){return hg(a,c)},d()}function ig(a,b,c){function d(b){return c[Math.max(0,Math.min(h,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),h=c.length-1,d}var f,h;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?0/0:b/f+a,[b,b+1/f]},d.copy=function(){return ig(a,b,c)},e()}function jg(a,b){function c(d){return d>=d?b[z.bisect(a,d)]:
void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return jg(a,b)},c}function kg(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return z.range.apply(z,Ub(a,b))},b.tickFormat=function(b,c){return De(a,b,c)},b.copy=function(){return kg(a)},b}function Qh(){return 0}
function Rh(a){return a.innerRadius}function Sh(a){return a.outerRadius}function lg(a){return a.startAngle}function mg(a){return a.endAngle}function Th(a){return a&&a.padAngle}function Bd(a,b,c,d,e){var f=a[0]-b[0],h=a[1]-b[1];e=(e?d:-d)/Math.sqrt(f*f+h*h);var h=e*h,f=-e*f,g=a[0]+h,k=a[1]+f,m=b[0]+h,l=b[1]+f;a=(g+m)/2;b=(k+l)/2;e=m-g;var n=l-k,p=e*e+n*n;d=c-d;var l=g*l-m*k,q=(0>n?-1:1)*Math.sqrt(d*d*p-l*l),g=(l*n-e*q)/p,k=(-l*e-n*q)/p,m=(l*n+e*q)/p;e=(-l*e+n*q)/p;n=g-a;p=k-b;a=m-a;b=e-b;return n*
n+p*p>a*a+b*b&&(g=m,k=e),[[g-h,k-f],[g*c/d,k*c/d]]}function ng(a){function b(h){function k(){l.push("M",f(a(n),g))}for(var m,l=[],n=[],p=-1,q=h.length,Aa=pa(c),r=pa(d);++p<q;)e.call(this,m=h[p],p)?n.push([+Aa.call(this,m,p),+r.call(this,m,p)]):n.length&&(k(),n=[]);return n.length&&k(),l.length?l.join(""):null}var c=nc,d=Ic,e=vb,f=ab,h=f.key,g=0.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?
(e=a,b):e},b.interpolate=function(a){return arguments.length?(h="function"==typeof a?f=a:(f=Fe.get(a)||ab).key,b):h},b.tension=function(a){return arguments.length?(g=a,b):g},b}function ab(a){return a.join("L")}function Ge(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function He(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Cd(a,b){if(1>b.length||a.length!=b.length&&
a.length!=b.length+2)return ab(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],h=b[0],g=h,k=1;if(c&&(d+="Q"+(f[0]-2*h[0]/3)+","+(f[1]-2*h[1]/3)+","+f[0]+","+f[1],e=a[1],k=2),1<b.length)for(g=b[1],f=a[k],k++,d+="C"+(e[0]+h[0])+","+(e[1]+h[1])+","+(f[0]-g[0])+","+(f[1]-g[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,k++)f=a[k],g=b[e],d+="S"+(f[0]-g[0])+","+(f[1]-g[1])+","+f[0]+","+f[1];c&&(c=a[k],d+="Q"+(f[0]+2*g[0]/3)+","+(f[1]+2*g[1]/3)+","+c[0]+","+c[1]);return d}function Ie(a,b){for(var c,d=[],e=(1-b)/
2,f=a[0],h=a[1],g=1,k=a.length;++g<k;)c=f,f=h,h=a[g],d.push([e*(h[0]-c[0]),e*(h[1]-c[1])]);return d}function og(a){if(3>a.length)return ab(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],h=[e,e,e,(d=a[1])[0]],g=[f,f,f,d[1]],e=[e,",",f,"L",ib(Vb,h),",",ib(Vb,g)];for(a.push(a[c-1]);++b<=c;)d=a[b],h.shift(),h.push(d[0]),g.shift(),g.push(d[1]),Je(e,h,g);return a.pop(),e.push("L",d),e.join("")}function ib(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Je(a,b,c){a.push("C",ib(pg,b),",",ib(pg,c),
",",ib(qg,b),",",ib(qg,c),",",ib(Vb,b),",",ib(Vb,c))}function Ke(a,b){return(b[1]-a[1])/(b[0]-a[0])}function rg(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Ea,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function sg(a){function b(k){function p(){Aa.push("M",g(a(u),n),l,m(a(v.reverse()),n),"Z")}for(var q,r,s,Aa=[],v=[],u=[],t=-1,x=k.length,w=pa(c),D=pa(e),A=c===d?function(){return r}:pa(d),F=e===f?function(){return s}:pa(f);++t<x;)h.call(this,q=k[t],t)?(v.push([r=+w.call(this,q,
t),s=+D.call(this,q,t)]),u.push([+A.call(this,q,t),+F.call(this,q,t)])):v.length&&(p(),v=[],u=[]);return v.length&&p(),Aa.length?Aa.join(""):null}var c=nc,d=nc,e=0,f=Ic,h=vb,g=ab,k=g.key,m=g,l="L",n=0.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?
(f=a,b):f},b.defined=function(a){return arguments.length?(h=a,b):h},b.interpolate=function(a){return arguments.length?(k="function"==typeof a?g=a:(g=Fe.get(a)||ab).key,m=g.reverse||g,l=g.closed?"M":"L",b):k},b.tension=function(a){return arguments.length?(n=a,b):n},b}function Uh(a){return a.radius}function tg(a){return[a.x,a.y]}function Vh(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]-Ea;return[c*Math.cos(b),c*Math.sin(b)]}}function Wh(){return 64}function Xh(){return"circle"}function ug(a){a=
Math.sqrt(a/ba);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function vg(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?(delete b[b.active],b.active+=0.5):delete this[a],c.event&&c.event.interrupt.call(this,this.__data__,c.index))}}function Yc(a,b,c){return pd(a,Ia),a.namespace=b,a.id=c,a}function Le(a,b,c,d){var e=a.id,f=a.namespace;return Q(a,"function"==typeof c?function(a,h,g){a[f][e].tween.set(b,d(c.call(a,a.__data__,h,g)))}:(c=d(c),function(a){a[f][e].tween.set(b,
c)}))}function Yh(a){return null==a&&(a=""),function(){this.textContent=a}}function Me(a){return null==a?"__transition__":"__transition_"+a+"__"}function Dd(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),h=f[d];if(!h){var g=e.time,h=f[d]={tween:new n,time:g,delay:e.delay,duration:e.duration,ease:e.ease,index:b};e=null;++f.count;z.timer(function(e){function k(c){if(f.active>d)return l();var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));f.active=
d;h.event&&h.event.start.call(a,a.__data__,b);h.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&s.push(d)});p=h.ease;n=h.duration;z.timer(function(){return r.c=m(c||1)?vb:m,1},0,g)}function m(c){if(f.active!==d)return 1;c/=n;for(var e=p(c),g=s.length;0<g;)s[--g].call(a,e);return 1<=c?(h.event&&h.event.end.call(a,a.__data__,b),l()):void 0}function l(){return--f.count?delete f[d]:delete a[c],1}var n,p,q=h.delay,r=Gb,s=[];return r.t=q+g,e>=q?k(e-q):(r.c=k,void 0)},0,g)}}function Zh(a,b,c){a.attr("transform",
function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function $h(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Ne(a){return a.toISOString()}function Oe(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,f=z.bisect(Ed,d);return f==Ed.length?[b.year,Ub(a.map(function(a){return a/31536E6}),c)[2]]:f?b[d/Ed[f-1]<Ed[f]/d?f-1:f]:[ai,Ub(a,c)[2]]}return d.invert=function(b){return fc(a.invert(b))},d.domain=function(b){return arguments.length?
(a.domain(b),d):a.domain().map(fc)},d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,fc(+d+1),b).length}var f=d.domain(),h=zc(f),h=null==a?e(h,10):"number"==typeof a&&e(h,a);return h&&(a=h[0],b=h[1]),d.domain(yd(f,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=fc(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=fc(+b+1);return b}}:a))},d.ticks=function(a,b){var c=zc(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],
fc(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return Oe(a.copy(),b,c)},Ee(d,a)}function fc(a){return new Date(a)}function bi(a){return JSON.parse(a.responseText)}function ci(a){var b=rb.createRange();return b.selectNode(rb.body),b.createContextualFragment(a.responseText)}var z={version:"3.5.2"};Date.now||(Date.now=function(){return+new Date});var wg=[].slice,Qb=function(a){return wg.call(a)},rb=document,Fb=rb.documentElement,Ra=window;try{Qb(Fb.childNodes)[0].nodeType}catch(Ci){Qb=
function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}try{rb.createElement("div").style.setProperty("opacity",0,"")}catch(Di){var Fd=Ra.Element.prototype,di=Fd.setAttribute,ei=Fd.setAttributeNS,xg=Ra.CSSStyleDeclaration.prototype,fi=xg.setProperty;Fd.setAttribute=function(a,b){di.call(this,a,b+"")};Fd.setAttributeNS=function(a,b,c){ei.call(this,a,b,c+"")};xg.setProperty=function(a,b,c){fi.call(this,a,b+"",c)}}z.ascending=b;z.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:0/0};z.min=
function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c};z.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<
f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c};z.extent=function(a,b){var c,d,e,f=-1,h=a.length;if(1===arguments.length){for(;++f<h;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<h;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<h;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<h;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]};z.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)k(c=+a[f])&&(d+=c);else for(;++f<e;)k(c=+b.call(a,
a[f],f))&&(d+=c);return d};z.mean=function(a,b){var c,d=0,e=a.length,f=-1,h=e;if(1===arguments.length)for(;++f<e;)k(c=l(a[f]))?d+=c:--h;else for(;++f<e;)k(c=l(b.call(a,a[f],f)))?d+=c:--h;return h?d/h:void 0};z.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};z.median=function(a,c){var d,e=[],f=a.length,h=-1;if(1===arguments.length)for(;++h<f;)k(d=l(a[h]))&&e.push(d);else for(;++h<f;)k(d=l(c.call(a,a[h],h)))&&e.push(d);return e.length?z.quantile(e.sort(b),
0.5):void 0};z.variance=function(a,b){var c,d,e=a.length,f=0,h=0,g=-1,m=0;if(1===arguments.length)for(;++g<e;)k(c=l(a[g]))&&(d=c-f,f+=d/++m,h+=d*(c-f));else for(;++g<e;)k(c=l(b.call(a,a[g],g)))&&(d=c-f,f+=d/++m,h+=d*(c-f));return 1<m?h/(m-1):void 0};z.deviation=function(){var a=z.variance.apply(this,arguments);return a?Math.sqrt(a):a};var yg=g(b);z.bisectLeft=yg.left;z.bisect=z.bisectRight=yg.right;z.bisector=function(a){return g(1===a.length?function(c,d){return b(a(c),d)}:a)};z.shuffle=function(a,
b,c){3>(f=arguments.length)&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=0|Math.random()*f--,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a};z.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};z.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);c>b;)e[b]=[d,d=a[++b]];return e};z.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=z.min(arguments,c),d=Array(b);++a<b;)for(var e,f=-1,h=d[a]=Array(e);++f<e;)h[f]=arguments[f][a];return d};z.transpose=
function(a){return z.zip.apply(z,a)};z.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};z.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};z.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};z.merge=function(a){var b,c,d,e=a.length;b=-1;for(var f=0;++b<e;)f+=a[b].length;for(c=Array(f);0<=--e;)for(d=a[e],b=d.length;0<=--b;)c[--f]=d[b];return c};var ea=Math.abs;z.range=function(a,b,c){if(3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0)),1/
0===(b-a)/c)throw Error("infinite range");var d,e=[],f;d=ea(c);for(f=1;d*f%1;)f*=10;var h=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++h)>b;)e.push(d/f);else for(;(d=a+c*++h)<b;)e.push(d/f);return e};z.map=function(a,b){var c=new n;if(a instanceof n)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(e in a)c.set(e,a[e]);return c};var th="__proto__",ne="\x00";f(n,{has:m,
get:function(a){return this._[e(a)]},set:function(a,b){return this._[e(a)]=b},remove:r,keys:s,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:p(b),value:this._[b]});return a},size:v,empty:u,forEach:function(a){for(var b in this._)a.call(this,p(b),this._[b])}});z.nest=function(){function a(b,h,g){if(g>=f.length)return d?d.call(e,h):c?h.sort(c):h;for(var k,m,l,p,q=-1,r=h.length,s=f[g++],v=new n;++q<r;)(p=v.get(k=s(m=
h[q])))?p.push(m):v.set(k,[m]);return b?(m=b(),l=function(c,d){m.set(c,a(b,d,g))}):(m={},l=function(c,d){m[c]=a(b,d,g)}),v.forEach(l),m}function b(a,c){if(c>=f.length)return a;var d=[],e=h[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],h=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(z.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return h[f.length-1]=
a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e};z.set=function(a){var b=new A;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b};f(A,{has:m,add:function(a){return this._[e(a+="")]=!0,a},remove:r,values:s,size:v,empty:u,forEach:function(a){for(var b in this._)a.call(this,p(b))}});z.behavior={};z.rebind=function(b,c){for(var d,e=1,f=arguments.length;++e<f;)b[d=arguments[e]]=a(b,c,c[d]);return b};var Ef="webkit ms moz Moz o O".split(" ");z.dispatch=function(){for(var a=
new q,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=w(a);return a};q.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(0<=c&&(d=a.slice(c+1),a=a.slice(0,c)),a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}};z.event=null;z.requote=function(a){return a.replace(gi,"\\$&")};var gi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,pd={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=
b[c]},oe=function(a,b){return b.querySelector(a)},pe=function(a,b){return b.querySelectorAll(a)},hi=Fb.matches||Fb[d(Fb,"matchesSelector")],Ff=function(a,b){return hi.call(a,b)};"function"==typeof Sizzle&&(oe=function(a,b){return Sizzle(a,b)[0]||null},pe=Sizzle,Ff=Sizzle.matchesSelector);z.selection=function(){return zg};var ta=z.selection.prototype=[];ta.select=function(a){var b,c,d,e,f=[];a=W(a);for(var h=-1,g=this.length;++h<g;){f.push(b=[]);b.parentNode=(d=this[h]).parentNode;for(var k=-1,m=d.length;++k<
m;)(e=d[k])?(b.push(c=a.call(e,e.__data__,k,h)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return O(f)};ta.selectAll=function(a){var b,c,d=[];a=ca(a);for(var e=-1,f=this.length;++e<f;)for(var h=this[e],g=-1,k=h.length;++g<k;)(c=h[g])&&(d.push(b=Qb(a.call(c,c.__data__,g,e))),b.parentNode=c);return O(d)};var Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};
z.ns={prefix:Pe,qualify:function(a){var b=a.indexOf(":"),c=a;return 0<=b&&(c=a.slice(0,b),a=a.slice(b+1)),Pe.hasOwnProperty(c)?{space:Pe[c],local:a}:a}};ta.attr=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node();return a=z.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(R(b,a[b]));return this}return this.each(R(a,b))};ta.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,
e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!Y(a[e]).test(b))return!1;return!0}for(b in a)this.each(J(b,a[b]));return this}return this.each(J(a,b))};ta.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b="");for(c in a)this.each(H(c,a[c],b));return this}if(2>d)return Ra.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(H(a,b,c))};ta.property=function(a,b){if(2>arguments.length){if("string"==
typeof a)return this.node()[a];for(b in a)this.each(x(b,a[b]));return this}return this.each(x(a,b))};ta.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};ta.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=
""}:function(){this.innerHTML=a}):this.node().innerHTML};ta.append=function(a){return a=D(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};ta.insert=function(a,b){return a=D(a),b=W(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};ta.remove=function(){return this.each(K)};ta.data=function(a,b){function c(a,d){var e,f,h,l=a.length,p=d.length,N=Math.min(l,p),q=Array(p),r=Array(p),s=Array(l);if(b){var v,N=new n,u=
Array(l);for(e=-1;++e<l;)N.has(v=b.call(f=a[e],f.__data__,e))?s[e]=f:N.set(v,f),u[e]=v;for(e=-1;++e<p;)(f=N.get(v=b.call(d,h=d[e],e)))?!0!==f&&(q[e]=f,f.__data__=h):r[e]={__data__:h},N.set(v,!0);for(e=-1;++e<l;)!0!==N.get(u[e])&&(s[e]=a[e])}else{for(e=-1;++e<N;)f=a[e],h=d[e],f?(f.__data__=h,q[e]=f):r[e]={__data__:h};for(;p>e;++e)r[e]={__data__:d[e]};for(;l>e;++e)s[e]=a[e]}r.update=q;r.parentNode=q.parentNode=s.parentNode=a.parentNode;g.push(r);k.push(q);m.push(s)}var d,e,f=-1,h=this.length;if(!arguments.length){for(a=
Array(h=(d=this[0]).length);++f<h;)(e=d[f])&&(a[f]=e.__data__);return a}var g=ha([]),k=O([]),m=O([]);if("function"==typeof a)for(;++f<h;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<h;)c(d=this[f],a);return k.enter=function(){return g},k.exit=function(){return m},k};ta.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ta.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=F(a));for(var f=0,h=this.length;h>f;f++){e.push(b=[]);b.parentNode=
(c=this[f]).parentNode;for(var g=0,k=c.length;k>g;g++)(d=c[g])&&a.call(d,d.__data__,g,f)&&b.push(d)}return O(e)};ta.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];0<=--e;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this};ta.sort=function(a){a=L.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};ta.each=function(a){return Q(this,function(b,c,d){a.call(b,b.__data__,c,d)})};ta.call=function(a){var b=
Qb(arguments);return a.apply(b[0]=this,b),this};ta.empty=function(){return!this.node()};ta.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null};ta.size=function(){var a=0;return Q(this,function(){++a}),a};var Eb=[];z.selection.enter=ha;z.selection.enter.prototype=Eb;Eb.append=ta.append;Eb.empty=ta.empty;Eb.node=ta.node;Eb.call=ta.call;Eb.size=ta.size;Eb.select=function(a){for(var b,c,d,e,f,h=[],g=-1,k=this.length;++g<k;){d=
(e=this[g]).update;h.push(b=[]);b.parentNode=e.parentNode;for(var m=-1,l=e.length;++m<l;)(f=e[m])?(b.push(d[m]=c=a.call(e.parentNode,f.__data__,m,g)),c.__data__=f.__data__):b.push(null)}return O(h)};Eb.insert=function(a,b){return 2>arguments.length&&(b=na(this)),ta.insert.call(this,a,b)};z.select=function(a){a=["string"==typeof a?oe(a,rb):a];return a.parentNode=Fb,O([a])};z.selectAll=function(a){a=Qb("string"==typeof a?pe(a,rb):a);return a.parentNode=Fb,O([a])};var zg=z.select(Fb);ta.on=function(a,
b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(ua(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(ua(a,b,c))};var re=z.map({mouseenter:"mouseover",mouseleave:"mouseout"});re.forEach(function(a){"on"+a in rb&&re.remove(a)});var Vc="onselectstart"in rb?null:d(Fb.style,"userSelect"),uh=0;z.mouse=function(a){return X(a,y())};var se=/WebKit/.test(Ra.navigator.userAgent)?-1:0;z.touch=function(a,b,c){if(3>arguments.length&&
(c=b,b=y().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return X(a,d)};z.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,e,f,h,g){return function(){var b,k=z.event.target,m=this.parentNode,l=c.of(this,arguments),n=0,p=a(),q=".drag"+(null==p?"":"-"+p),N=z.select(f()).on(h+q,function(){var a,c,d=e(m,p);d&&(a=d[0]-s[0],c=d[1]-s[1],n=n|a|c,s=d,l({type:"drag",x:d[0]+b[0],y:d[1]+b[1],dx:a,dy:c}))}).on(g+q,function(){e(m,
p)&&(N.on(h+q,null).on(g+q,null),r(n&&z.event.target===k),l({type:"dragend"}))}),r=C(),s=e(m,p);d?(b=d.apply(this,arguments),b=[b.x-s[0],b.y-s[1]]):b=[0,0];l({type:"dragstart"})}}var c=P(a,"drag","dragstart","dragend"),d=null,e=b(h,z.mouse,G,"mousemove","mouseup"),f=b(ja,z.touch,aa,"touchmove","touchend");return a.origin=function(b){return arguments.length?(d=b,a):d},z.rebind(a,c,"on")};z.touches=function(a,b){return 2>arguments.length&&(b=y().touches),b?Qb(b).map(function(b){var c=X(a,b);return c.identifier=
b.identifier,c}):[]};var S=1E-6,te=S*S,ba=Math.PI,$a=2*ba,ii=$a-S,Ea=ba/2,da=ba/180,Ba=180/ba,Gd=Math.SQRT2,Qe=2;z.interpolateZoom=function(a,b){function c(a){var b=a*r;if(q){a=ma(p);var h=f/(Qe*l),m,n=Gd*b+p;m=((n=Math.exp(2*n))-1)/(n+1);m*=a;var N=p,n=((N=Math.exp(N))-1/N)/2,h=h*(m-n);return[d+h*g,e+h*k,f*a/ma(Gd*b+p)]}return[d+a*g,e+a*k,f*Math.exp(Gd*b)]}var d=a[0],e=a[1],f=a[2],h=b[2],g=b[0]-d,k=b[1]-e,m=g*g+k*k,l=Math.sqrt(m),n=(h*h-f*f+4*m)/(2*f*Qe*l),m=(h*h-f*f-4*m)/(2*h*Qe*l),p=Math.log(Math.sqrt(n*
n+1)-n),q=Math.log(Math.sqrt(m*m+1)-m)-p,r=(q||Math.log(h/f))/Gd;return c.duration=1E3*r,c};z.behavior.zoom=function(){function a(b){b.on(I,m).on(ji+".zoom",n).on("dblclick.zoom",p).on(G,l)}function b(a){return[(a[0]-A.x)/A.k,(a[1]-A.y)/A.k]}function c(a){A.k=Math.max(y[0],Math.min(y[1],a))}function d(a,b){b=[b[0]*A.k+A.x,b[1]*A.k+A.y];A.x+=a[0]-b[0];A.y+=a[1]-b[1]}function e(b,f,h,g){b.__chart__={x:A.x,y:A.y,k:A.k};c(Math.pow(2,g));d(r=f,h);b=z.select(b);0<K&&(b=b.transition().duration(K));b.call(a.event)}
function f(){x&&x.domain(t.range().map(function(a){return(a-A.x)/A.k}).map(t.invert));D&&D.domain(w.range().map(function(a){return(a-A.y)/A.k}).map(w.invert))}function h(a){L++||a({type:"zoomstart"})}function g(a){f();a({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function k(a){--L||a({type:"zoomend"});r=null}function m(){var a=this,c=z.event.target,e=E.of(a,arguments),f=0,l=z.select(Ra).on(Q,function(){f=1;d(z.mouse(a),n);g(e)}).on(ha,function(){l.on(Q,null).on(ha,null);p(f&&z.event.target===c);
k(e)}),n=b(z.mouse(a)),p=C();Hd.call(a);h(e)}function l(){function a(){var c=z.touches(N);return q=A.k,c.forEach(function(a){a.identifier in s&&(s[a.identifier]=b(a))}),c}function f(){var b=z.event.target;z.select(b).on(x,n).on(w,p);D.push(b);for(var b=z.event.changedTouches,c=0,d=b.length;d>c;++c)s[b[c].identifier]=null;c=a();d=Date.now();1===c.length?(500>d-u&&(b=c[0],e(N,b,s[b.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),B()),u=d):1<c.length&&(b=c[0],d=c[1],c=b[0]-d[0],b=b[1]-d[1],v=c*c+b*
b)}function n(){var a,b,e,f,h=z.touches(N);Hd.call(N);for(var k=0,m=h.length;m>k;++k,f=null)if(e=h[k],f=s[e.identifier]){if(b)break;a=e;b=f}if(f){var l=(l=e[0]-a[0])*l+(l=e[1]-a[1])*l,h=v&&Math.sqrt(l/v);a=[(a[0]+e[0])/2,(a[1]+e[1])/2];b=[(b[0]+f[0])/2,(b[1]+f[1])/2];c(h*q)}u=null;d(a,b);g(r)}function p(){if(z.event.touches.length){for(var b=z.event.changedTouches,c=0,d=b.length;d>c;++c)delete s[b[c].identifier];for(var e in s)return void a()}z.selectAll(D).on(t,null);F.on(I,m).on(G,l);y();k(r)}var q,
N=this,r=E.of(N,arguments),s={},v=0,t=".zoom-"+z.event.changedTouches[0].identifier,x="touchmove"+t,w="touchend"+t,D=[],F=z.select(N),y=C();f();h(r);F.on(I,null).on(G,f)}function n(){var a=E.of(this,arguments);v?clearTimeout(v):(q=b(r=s||z.mouse(this)),Hd.call(this),h(a));v=setTimeout(function(){v=null;k(a)},50);B();c(Math.pow(2,0.002*Id())*A.k);d(r,q);g(a)}function p(){var a=z.mouse(this),c=Math.log(A.k)/Math.LN2;e(this,a,b(a),z.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var q,r,s,v,u,t,x,w,
D,A={x:0,y:0,k:1},F=[960,500],y=Ag,K=250,L=0,I="mousedown.zoom",Q="mousemove.zoom",ha="mouseup.zoom",G="touchstart.zoom",E=P(a,"zoomstart","zoom","zoomend");return a.event=function(a){a.each(function(){var a=E.of(this,arguments),b=A;gc?z.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1};h(a)}).tween("zoom:zoom",function(){var c=F[0],d=F[1],e=r?r[0]:c/2,f=r?r[1]:d/2,h=z.interpolateZoom([(e-A.x)/A.k,(f-A.y)/A.k,c/A.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){b=
h(b);var d=c/b[2];this.__chart__=A={x:e-b[0]*d,y:f-b[1]*d,k:d};g(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=A,h(a),g(a),k(a))})},a.translate=function(b){return arguments.length?(A={x:+b[0],y:+b[1],k:A.k},f(),a):[A.x,A.y]},a.scale=function(b){return arguments.length?(A={x:A.x,y:A.y,k:+b},f(),a):A.k},a.scaleExtent=function(b){return arguments.length?(y=null==b?Ag:[+b[0],+b[1]],a):y},a.center=function(b){return arguments.length?(s=b&&[+b[0],+b[1]],
a):s},a.size=function(b){return arguments.length?(F=b&&[+b[0],+b[1]],a):F},a.duration=function(b){return arguments.length?(K=+b,a):K},a.x=function(b){return arguments.length?(x=b,t=b.copy(),A={x:0,y:0,k:1},a):x},a.y=function(b){return arguments.length?(D=b,w=b.copy(),A={x:0,y:0,k:1},a):D},z.rebind(a,E,"on")};var Id,Ag=[0,1/0],ji="onwheel"in rb?(Id=function(){return-z.event.deltaY*(z.event.deltaMode?120:1)},"wheel"):"onmousewheel"in rb?(Id=function(){return z.event.wheelDelta},"mousewheel"):(Id=function(){return-z.event.detail},
"MozMousePixelScroll");z.color=va;va.prototype.toString=function(){return this.rgb()+""};z.hsl=ia;var Re=ia.prototype=new va;Re.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),new ia(this.h,this.s,this.l/a)};Re.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new ia(this.h,this.s,a*this.l)};Re.rgb=function(){return oa(this.h,this.s,this.l)};z.hcl=Z;var Se=Z.prototype=new va;Se.brighter=function(a){return new Z(this.h,this.c,Math.min(100,this.l+Jd*(arguments.length?a:
1)))};Se.darker=function(a){return new Z(this.h,this.c,Math.max(0,this.l-Jd*(arguments.length?a:1)))};Se.rgb=function(){return ra(this.h,this.c,this.l).rgb()};z.lab=sa;var Jd=18,Hf=0.95047,If=1,Jf=1.08883,Te=sa.prototype=new va;Te.brighter=function(a){return new sa(Math.min(100,this.l+Jd*(arguments.length?a:1)),this.a,this.b)};Te.darker=function(a){return new sa(Math.max(0,this.l-Jd*(arguments.length?a:1)),this.a,this.b)};Te.rgb=function(){return la(this.l,this.a,this.b)};z.rgb=Ha;var Kd=Ha.prototype=
new va;Kd.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;return b||c||d?(b&&30>b&&(b=30),c&&30>c&&(c=30),d&&30>d&&(d=30),new Ha(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new Ha(30,30,30)};Kd.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new Ha(a*this.r,a*this.g,a*this.b)};Kd.hsl=function(){return tb(this.r,this.g,this.b)};Kd.toString=function(){return"#"+Ma(this.r)+Ma(this.g)+Ma(this.b)};var qd=z.map({aliceblue:15792383,antiquewhite:16444375,
aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,
darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,
indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,
maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,
papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,
white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});qd.forEach(function(a,b){qd.set(a,new Ha(b>>16,255&b>>8,255&b))});z.functor=pa;z.xhr=Xb(Ga);z.dsv=function(a,b){function c(a,f,h){3>arguments.length&&(h=f,f=null);var g=za(a,b,null==f?d:e(f),h);return g.row=function(a){return arguments.length?g.response(null==(f=a)?d:e(a)):f},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(h).join(a)}
function h(a){return g.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var g=RegExp('["'+a+"\n]"),k=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(l>=m)return h;if(e)return e=!1,f;var b=l;if(34===a.charCodeAt(b)){for(var d=b;d++<m;)if(34===a.charCodeAt(d)){if(34!==
a.charCodeAt(d+1))break;++d}l=d+2;var g=a.charCodeAt(d+1);return 13===g?(e=!0,10===a.charCodeAt(d+2)&&++l):10===g&&(e=!0),a.slice(b+1,d).replace(/""/g,'"')}for(;m>l;){g=a.charCodeAt(l++);d=1;if(10===g)e=!0;else if(13===g)e=!0,10===a.charCodeAt(l)&&(++l,++d);else if(g!==k)continue;return a.slice(b,l-d)}return a.slice(b)}for(var d,e,f={},h={},g=[],m=a.length,l=0,n=0;(d=c())!==h;){for(var p=[];d!==f&&d!==h;)p.push(d),d=c();b&&null==(p=b(p,n++))||g.push(p)}return g},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);
var d=new A,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(h).join(a)].concat(b.map(function(b){return e.map(function(a){return h(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c};z.csv=z.dsv(",","text/csv");z.tsv=z.dsv("\t","text/tab-separated-values");var td,ud,sd,rd,Gb,Kf=Ra[d(Ra,"requestAnimationFrame")]||function(a){setTimeout(a,17)};z.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,
t:c+b,f:!1,n:null};ud?ud.n=d:td=d;ud=d;sd||(rd=clearTimeout(rd),sd=1,Kf(Bb))};z.timer.flush=function(){Ta();Cb()};z.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var ki="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*ea(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});z.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a*=-1),b&&(a=z.round(a,fa(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),
c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),ki[8+c/3]};var Lf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,vh=z.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=
z.round(a,fa(a,b))).toFixed(Math.max(0,Math.min(20,fa(a*(1+1E-15),b))))}}),T=z.time={},Na=Date;Wa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Jb.setUTCDate.apply(this._,arguments)},setDay:function(){Jb.setUTCDay.apply(this._,arguments)},setFullYear:function(){Jb.setUTCFullYear.apply(this._,arguments)},setHours:function(){Jb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Jb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Jb.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){Jb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Jb.setUTCSeconds.apply(this._,arguments)},setTime:function(){Jb.setTime.apply(this._,arguments)}};var Jb=Date.prototype;T.year=eb(function(a){return a=T.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});T.years=T.year.range;T.years.utc=T.year.utc.range;T.day=eb(function(a){var b=new Na(2E3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},
function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});T.days=T.day.range;T.days.utc=T.day.utc.range;T.dayOfYear=function(a){var b=T.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=T[a]=eb(function(a){return(a=T.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=T.year(a).getDay();
return Math.floor((T.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});T[a+"s"]=c.range;T[a+"s"].utc=c.utc.range;T[a+"OfYear"]=function(a){var c=T.year(a).getDay();return Math.floor((T.dayOfYear(a)+(c+b)%7)/7)}});T.week=T.sunday;T.weeks=T.sunday.range;T.weeks.utc=T.sunday.utc.range;T.weekOfYear=T.sundayOfYear;var Mf={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,Nf=/^%/;z.locale=function(a){return{numberFormat:Ka(a),timeFormat:kb(a)}};var Bg=z.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",
date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});z.format=Bg.numberFormat;z.geo={};Lb.prototype={s:0,t:0,add:function(a){hd(a,this.t,Ld);hd(Ld.s,this.s,this);this.s?this.t+=Ld.t:this.s=Ld.t},
reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ld=new Lb;z.geo.stream=function(a,b){a&&Cg.hasOwnProperty(a.type)?Cg[a.type](a,b):pc(a,b)};var Cg={Feature:function(a,b){pc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)pc(c[d].geometry,b)}},Of={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],
a[2])},LineString:function(a,b){qc(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)qc(c[d],b,0)},Polygon:function(a,b){Gc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Gc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)pc(c[d],b)}};z.geo.area=function(a){return Ac=0,z.geo.stream(a,Za),Ac};var Ac,dc=new Lb,Za={sphere:function(){Ac+=4*ba},point:h,lineStart:h,lineEnd:h,
polygonStart:function(){dc.reset();Za.lineStart=ad},polygonEnd:function(){var a=2*dc;Ac+=0>a?4*ba+a:a;Za.lineStart=Za.lineEnd=Za.point=h}};z.geo.bounds=function(){function a(b,c){x.push(w=[l=b,p=b]);n>c&&(n=c);c>q&&(q=c)}function b(c,d){var e=Sa([c*da,d*da]);if(u){var f=Ob(u,e),f=Ob([f[1],-f[0],0],f);ub(f);var f=rc(f),h=c-r,k=0<h?1:-1,m=f[0]*Ba*k,h=180<ea(h);h^(m>k*r&&k*c>m)?(f=f[1]*Ba,f>q&&(q=f)):(m=(m+360)%360-180,h^(m>k*r&&k*c>m))?(f=-f[1]*Ba,n>f&&(n=f)):(n>d&&(n=d),d>q&&(q=d));h?r>c?g(l,c)>g(l,
p)&&(p=c):g(c,p)>g(l,p)&&(l=c):p>=l?(l>c&&(l=c),c>p&&(p=c)):c>r?g(l,c)>g(l,p)&&(p=c):g(c,p)>g(l,p)&&(l=c)}else a(c,d);u=e;r=c}function c(){D.point=b}function d(){w[0]=l;w[1]=p;D.point=a;u=null}function e(a,c){if(u){var d=a-r;t+=180<ea(d)?d+(0<d?360:-360):d}else s=a,v=c;Za.point(a,c);b(a,c)}function f(){Za.lineStart()}function h(){e(s,v);Za.lineEnd();ea(t)>S&&(l=-(p=180));w[0]=l;w[1]=p;u=null}function g(a,b){return 0>(b-=a)?b+360:b}function k(a,b){return a[0]-b[0]}function m(a,b){return b[0]<=b[1]?
b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var l,n,p,q,r,s,v,u,t,x,w,D={point:a,lineStart:c,lineEnd:d,polygonStart:function(){D.point=e;D.lineStart=f;D.lineEnd=h;t=0;Za.polygonStart()},polygonEnd:function(){Za.polygonEnd();D.point=a;D.lineStart=c;D.lineEnd=d;0>dc?(l=-(p=180),n=-(q=90)):t>S?q=90:-S>t&&(n=-90);w[0]=l;w[1]=p}};return function(a){q=p=-(l=n=1/0);x=[];z.geo.stream(a,D);if(a=x.length){x.sort(k);for(var b,c=1,d=x[0],e=[d];a>c;++c)b=x[c],m(b[0],d)||m(b[1],d)?(g(d[0],b[1])>g(d[0],d[1])&&(d[1]=b[1]),g(b[0],
d[1])>g(d[0],d[1])&&(d[0]=b[0])):e.push(d=b);var f,h=-1/0;a=e.length-1;c=0;for(d=e[a];a>=c;d=b,++c)b=e[c],(f=g(d[1],b[0]))>h&&(h=f,l=b[0],p=d[1])}return x=w=null,1/0===l||1/0===n?[[0/0,0/0],[0/0,0/0]]:[[l,n],[p,q]]}}();z.geo.centroid=function(a){Wc=wc=Hb=Ib=wb=gb=hb=Va=Rb=Sb=xb=0;z.geo.stream(a,pb);a=Rb;var b=Sb,c=xb,d=a*a+b*b+c*c;return te>d&&(a=gb,b=hb,c=Va,S>wc&&(a=Hb,b=Ib,c=wb),d=a*a+b*b+c*c,te>d)?[0/0,0/0]:[Math.atan2(b,a)*Ba,E(c/Math.sqrt(d))*Ba]};var Wc,wc,Hb,Ib,wb,gb,hb,Va,Rb,Sb,xb,pb={sphere:h,
point:ac,lineStart:id,lineEnd:Qc,polygonStart:function(){pb.lineStart=cc},polygonEnd:function(){pb.lineStart=id}},Pf=jd(vb,function(a){var b,c=0/0,d=0/0,e=0/0;return{lineStart:function(){a.lineStart();b=1},point:function(f,h){var g=0<f?ba:-ba,k=ea(f-c);if(ea(k-ba)<S)a.point(c,d=0<(d+h)/2?Ea:-Ea),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(g,d),a.point(f,d),b=0;else if(e!==g&&k>=ba){ea(c-e)<S&&(c-=e*S);ea(f-g)<S&&(f-=g*S);var k=c,m=d,l=f,n,p,q=Math.sin(k-l);d=ea(q)>S?Math.atan((Math.sin(m)*(p=Math.cos(h))*
Math.sin(l)-Math.sin(h)*(n=Math.cos(m))*Math.sin(k))/(n*p*q)):(m+h)/2;a.point(e,d);a.lineEnd();a.lineStart();a.point(g,d);b=0}a.point(c=f,d=h);e=g},lineEnd:function(){a.lineEnd();c=d=0/0},clean:function(){return 2-b}}},function(a,b,c,d){null==a?(c*=Ea,d.point(-ba,c),d.point(0,c),d.point(ba,c),d.point(ba,0),d.point(ba,-c),d.point(0,-c),d.point(-ba,-c),d.point(-ba,0),d.point(-ba,c)):ea(a[0]-b[0])>S?(a=a[0]<b[0]?ba:-ba,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-ba,-ba/2]),
vd=1E9;z.geo.clipExtent=function(){var a,b,c,d,e,f,h={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(g){return arguments.length?(f=md(a=+g[0][0],b=+g[0][1],c=+g[1][0],d=+g[1][1]),e&&(e.valid=!1,e=null),h):[[a,b],[c,d]]}};return h.extent([[0,0],[960,500]])};(z.geo.conicEqualArea=function(){return uc(kc)}).raw=kc;z.geo.albers=function(){return z.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};z.geo.albersUsa=function(){function a(f){var h=
f[0];f=f[1];return b=null,c(h,f),b||(d(h,f),b)||e(h,f),b}var b,c,d,e,f=z.geo.albers(),h=z.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=z.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,b=(a[1]-c[1])/b;return(0.12<=b&&0.234>b&&-0.425<=d&&-0.214>d?h:0.166<=b&&0.234>b&&-0.214<=d&&-0.115>d?g:f).invert(a)},a.stream=function(a){var b=f.stream(a),
c=h.stream(a),d=g.stream(a);return{point:function(a,e){b.point(a,e);c.point(a,e);d.point(a,e)},sphere:function(){b.sphere();c.sphere();d.sphere()},lineStart:function(){b.lineStart();c.lineStart();d.lineStart()},lineEnd:function(){b.lineEnd();c.lineEnd();d.lineEnd()},polygonStart:function(){b.polygonStart();c.polygonStart();d.polygonStart()},polygonEnd:function(){b.polygonEnd();c.polygonEnd();d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),h.precision(b),g.precision(b),
a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),h.scale(0.35*b),g.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var m=f.scale(),l=+b[0],n=+b[1];return c=f.translate(b).clipExtent([[l-0.455*m,n-0.238*m],[l+0.455*m,n+0.238*m]]).stream(k).point,d=h.translate([l-0.307*m,n+0.201*m]).clipExtent([[l-0.425*m+S,n+0.12*m+S],[l-0.214*m-S,n+0.234*m-S]]).stream(k).point,e=g.translate([l-0.205*m,n+0.212*m]).clipExtent([[l-
0.214*m+S,n+0.166*m+S],[l-0.115*m-S,n+0.234*m-S]]).stream(k).point,a},a.scale(1070)};var Md,wd,Nd,Od,Pd,Qd,Tb={point:h,lineStart:h,lineEnd:h,polygonStart:function(){wd=0;Tb.lineStart=nd},polygonEnd:function(){Tb.lineStart=Tb.lineEnd=Tb.point=h;Md+=ea(wd/2)}},li={point:function(a,b){Nd>a&&(Nd=a);a>Pd&&(Pd=a);Od>b&&(Od=b);b>Qd&&(Qd=b)},lineStart:h,lineEnd:h,polygonStart:h,polygonEnd:h},qb={point:Ya,lineStart:Uc,lineEnd:vc,polygonStart:function(){qb.lineStart=le},polygonEnd:function(){qb.point=Ya;qb.lineStart=
Uc;qb.lineEnd=vc}};z.geo.path=function(){function a(b){return b&&("function"==typeof h&&e.pointRadius(+h.apply(this,arguments)),f&&f.valid||(f=d(e)),z.geo.stream(b,f)),e.result()}var b,c,d,e,f,h=4.5;return a.area=function(a){return Md=0,z.geo.stream(a,d(Tb)),Md},a.centroid=function(a){return Hb=Ib=wb=gb=hb=Va=Rb=Sb=xb=0,z.geo.stream(a,d(qb)),xb?[Rb/xb,Sb/xb]:Va?[gb/Va,hb/Va]:wb?[Hb/wb,Ib/wb]:[0/0,0/0]},a.bounds=function(a){return Pd=Qd=-(Nd=Od=1/0),z.geo.stream(a,d(li)),[[Nd,Od],[Pd,Qd]]},a.projection=
function(c){return arguments.length?(d=(b=c)?c.stream||Rg(c):Ga,f=null,a):b},a.context=function(b){return arguments.length?(e=null==(c=b)?new Tc:new me(b),"function"!=typeof h&&e.pointRadius(h),f=null,a):c},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(e.pointRadius(+b),+b),a):h},a.projection(z.geo.albersUsa()).context(null)};z.geo.transform=function(a){return{stream:function(b){b=new Ye(b);for(var c in a)b[c]=a[c];return b}}};Ye.prototype={point:function(a,b){this.stream.point(a,
b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};z.geo.projection=Kb;z.geo.projectionMutator=Xd;(z.geo.equirectangular=function(){return Kb(Cc)}).raw=Cc.invert=Cc;z.geo.rotation=function(a){function b(c){return c=a(c[0]*da,c[1]*da),c[0]*=Ba,c[1]*=Ba,c}return a=Yd(a[0]%360*da,a[1]*da,2<a.length?a[2]*da:0),b.invert=function(b){return b=
a.invert(b[0]*da,b[1]*da),b[0]*=Ba,b[1]*=Ba,b},b};af.invert=Cc;z.geo.circle=function(){function a(){var b="function"==typeof d?d.apply(this,arguments):d,e=Yd(-b[0]*da,-b[1]*da,0).invert,f=[];return c(null,null,1,{point:function(a,b){f.push(a=e(a,b));a[0]*=Ba;a[1]*=Ba}}),{type:"Polygon",coordinates:[f]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=Zd((b=+d)*da,e*da),a):b},a.precision=function(d){return arguments.length?
(c=Zd(b*da,(e=+d)*da),a):e},a.angle(90)};z.geo.distance=function(a,b){var c,d=(b[0]-a[0])*da,e=a[1]*da,f=b[1]*da,h=Math.sin(d),d=Math.cos(d),g=Math.sin(e),e=Math.cos(e),k=Math.sin(f),f=Math.cos(f);return Math.atan2(Math.sqrt((c=f*h)*c+(c=e*k-g*f*d)*c),g*k+e*f*d)};z.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return z.range(Math.ceil(f/v)*v,e,v).map(p).concat(z.range(Math.ceil(m/u)*u,k,u).map(q)).concat(z.range(Math.ceil(d/r)*r,c,r).filter(function(a){return ea(a%
v)>S}).map(l)).concat(z.range(Math.ceil(g/s)*s,h,s).filter(function(a){return ea(a%u)>S}).map(n))}var c,d,e,f,h,g,k,m,l,n,p,q,r=10,s=r,v=90,u=360,t=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[p(f).concat(q(k).slice(1),p(e).reverse().slice(1),q(m).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?
(f=+b[0][0],e=+b[1][0],m=+b[0][1],k=+b[1][1],f>e&&(b=f,f=e,e=b),m>k&&(b=m,m=k,k=b),a.precision(t)):[[f,m],[e,k]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],g=+b[0][1],h=+b[1][1],d>c&&(b=d,d=c,c=b),g>h&&(b=g,g=h,h=b),a.precision(t)):[[d,g],[c,h]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(v=+b[0],u=+b[1],a):[v,u]},a.minorStep=function(b){return arguments.length?(r=+b[0],s=+b[1],
a):[r,s]},a.precision=function(b){return arguments.length?(t=+b,l=pf(g,h,90),n=qf(d,c,t),p=pf(m,k,90),q=qf(f,e,t),a):t},a.majorExtent([[-180,-90+S],[180,90-S]]).minorExtent([[-180,-80-S],[180,80+S]])};z.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=ce,e=ee;return a.distance=function(){return z.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?
(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a};z.geo.interpolate=function(a,b){return kh(a[0]*da,a[1]*da,b[0]*da,b[1]*da)};z.geo.length=function(a){return Rd=0,z.geo.stream(a,Bc),Rd};var Rd,Bc={sphere:h,point:h,lineStart:function(){function a(e,f){var h=Math.sin(f*=da),g=Math.cos(f),k=ea((e*=da)-b),m=Math.cos(k);Rd+=Math.atan2(Math.sqrt((k=g*Math.sin(k))*k+(k=d*h-
c*g*m)*k),c*h+d*g*m);b=e;c=h;d=g}var b,c,d;Bc.point=function(e,f){b=e*da;c=Math.sin(f*=da);d=Math.cos(f);Bc.point=a};Bc.lineEnd=function(){Bc.point=Bc.lineEnd=h}},lineEnd:h,polygonStart:h,polygonEnd:h},Dg=Lc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(z.geo.azimuthalEqualArea=function(){return Kb(Dg)}).raw=Dg;var Eg=Lc(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},Ga);(z.geo.azimuthalEquidistant=function(){return Kb(Eg)}).raw=Eg;(z.geo.conicConformal=function(){return uc(nf)}).raw=
nf;(z.geo.conicEquidistant=function(){return uc(of)}).raw=of;var Fg=Lc(function(a){return 1/a},Math.atan);(z.geo.gnomonic=function(){return Kb(Fg)}).raw=Fg;ed.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ea]};(z.geo.mercator=function(){return tf(ed)}).raw=ed;var Gg=Lc(function(){return 1},Math.asin);(z.geo.orthographic=function(){return Kb(Gg)}).raw=Gg;var Hg=Lc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(z.geo.stereographic=function(){return Kb(Hg)}).raw=Hg;be.invert=
function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ea]};(z.geo.transverseMercator=function(){var a=tf(be),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=be;z.geom={};z.geom.hull=function(a){function b(a){if(3>a.length)return[];var e,f=pa(c),h=pa(d),g=a.length,k=[],m=[];for(e=0;g>e;e++)k.push([+f.call(this,a[e],e),+h.call(this,a[e],e),e]);
k.sort(mh);for(e=0;g>e;e++)m.push([k[e][0],-k[e][1]]);var f=sf(k),m=sf(m),h=m[0]===f[0],g=m[m.length-1]===f[f.length-1],l=[];for(e=f.length-1;0<=e;--e)l.push(a[k[f[e]][2]]);for(e=+h;e<m.length-g;++e)l.push(a[k[m[e]][2]]);return l}var c=nc,d=Ic;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)};z.geom.polygon=function(a){return pd(a,Sd),a};var Sd=z.geom.polygon.prototype=[];Sd.area=function(){for(var a,b=-1,c=this.length,
d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return 0.5*e};Sd.centroid=function(a){var b,c,d=-1,e=this.length,f=0,h=0,g=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=g,g=this[d],c=b[0]*g[1]-g[0]*b[1],f+=(b[0]+g[0])*c,h+=(b[1]+g[1])*c;return[f*a,h*a]};Sd.clip=function(a){for(var b,c,d,e,f,h,g=kf(a),k=-1,m=this.length-kf(this),l=this[m-1];++k<m;){b=a.slice();a.length=0;e=this[k];f=b[(d=b.length-g)-1];for(c=-1;++c<d;)h=b[c],fe(h,l,e)?(fe(f,l,e)||a.push($d(f,h,l,e)),a.push(h)):
fe(f,l,e)&&a.push($d(f,h,l,e)),f=h;g&&a.push(a[0]);l=e}return a};var yc,ec,xc,ue,Xc,Qf=[],Rf=[];vf.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(mf),b.length};gd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};ge.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=
a.L;a.L=b}else a.R=b;c=a}else this._?(a=xf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Nc(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Hc(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(Hc(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Nc(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b,c,d,e=a.U,f=a.L,h=a.R;if(c=f?h?xf(h):f:h,e?e.L===
a?e.L=c:e.R=c:this._=c,f&&h?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==h?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=h,h.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return a.C=!1,void 0;do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,Nc(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,Hc(this,b),b=e.R);b.C=e.C;e.C=b.R.C=!1;Nc(this,e);a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,Hc(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,Nc(this,b),b=e.L);
b.C=e.C;e.C=b.L.C=!1;Hc(this,e);a=this._;break}b.C=!0;a=e;e=e.U}while(!a.C);a&&(a.C=!1)}}};z.geom.voronoi=function(a){function b(a){var d=Array(a.length),e=g[0][0],f=g[0][1],h=g[1][0],k=g[1][1];return de(c(a),g).cells.forEach(function(b,c){var g=b.edges,m=b.site;(d[c]=g.length?g.map(function(a){a=a.start();return[a.x,a.y]}):m.x>=e&&m.x<=h&&m.y>=f&&m.y<=k?[[e,k],[h,k],[h,f],[e,f]]:[]).point=a[c]}),d}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/S)*S,y:Math.round(h(a,b)/S)*S,i:b}})}
var d=nc,e=Ic,f=d,h=e,g=Td;return a?b(a):(b.links=function(a){return de(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return de(c(a)).cells.forEach(function(c,d){for(var e,f=c.site,h=c.edges.sort(mf),g=-1,k=h.length,m=h[k-1].edge,m=m.l===f?m.r:m.l;++g<k;)e=m,m=h[g].edge,m=m.l===f?m.r:m.l,d<e.i&&d<m.i&&0>(f.x-m.x)*(e.y-f.y)-(f.x-e.x)*(m.y-f.y)&&b.push([a[d],a[e.i],a[m.i]])}),b},b.x=function(a){return arguments.length?
(f=pa(d=a),b):d},b.y=function(a){return arguments.length?(h=pa(e=a),b):e},b.clipExtent=function(a){return arguments.length?(g=null==a?Td:a,b):g===Td?null:g},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):g===Td?null:g&&g[1]},b)};var Td=[[-1E6,-1E6],[1E6,1E6]];z.geom.delaunay=function(a){return z.geom.voronoi().triangles(a)};z.geom.quadtree=function(a,b,c,d,e){function f(a){function m(a,b,c,d,e,f,h,g){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var k=a.x,n=a.y;if(null!=k){if(!(0.01>ea(k-
c)+ea(n-d))){var p=a.point;a.x=a.y=a.point=null;l(a,p,k,n,e,f,h,g)}l(a,b,c,d,e,f,h,g)}else a.x=c,a.y=d,a.point=b}else l(a,b,c,d,e,f,h,g)}function l(a,b,c,d,e,f,h,g){var k=0.5*(e+h),n=0.5*(f+g),p=c>=k,q=d>=n,r=q<<1|p;a.leaf=!1;a=a.nodes[r]||(a.nodes[r]=yf());p?e=k:h=k;q?f=n:g=n;m(a,b,c,d,e,f,h,g)}var n,p,q,r,s,v,u,t,x,N=pa(g),w=pa(k);if(null!=b)v=b,u=c,t=d,x=e;else if(t=x=-(v=u=1/0),p=[],q=[],s=a.length,h)for(r=0;s>r;++r)n=a[r],n.x<v&&(v=n.x),n.y<u&&(u=n.y),n.x>t&&(t=n.x),n.y>x&&(x=n.y),p.push(n.x),
q.push(n.y);else for(r=0;s>r;++r){var D=+N(n=a[r],r);n=+w(n,r);v>D&&(v=D);u>n&&(u=n);D>t&&(t=D);n>x&&(x=n);p.push(D);q.push(n)}D=t-v;n=x-u;D>n?x=u+D:t=v+n;var A=yf();if(A.add=function(a){m(A,a,+N(a,++r),+w(a,r),v,u,t,x)},A.visit=function(a){Oc(a,A,v,u,t,x)},A.find=function(a){return qh(A,a[0],a[1],v,u,t,x)},r=-1,null==b){for(;++r<s;)m(A,a[r],p[r],q[r],v,u,t,x);--r}else a.forEach(A.add);return p=q=a=n=null,A}var h,g=nc,k=Ic;return(h=arguments.length)?(g=dh,k=ph,3===h&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?
(g=a,f):g},f.y=function(a){return arguments.length?(k=a,f):k},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)};z.interpolateRgb=he;z.interpolateObject=zf;z.interpolateNumber=Ab;z.interpolateString=Af;var ve=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,we=RegExp(ve.source,"g");z.interpolate=
Wb;z.interpolators=[function(a,b){var c=typeof b;return("string"===c?qd.has(b)||/^(#|rgb\(|hsl\()/.test(b)?he:Af:b instanceof va?he:Array.isArray(b)?cd:"object"===c&&isNaN(b)?zf:Ab)(a,b)}];z.interpolateArray=cd;var Ig=function(){return Ga},mi=z.map({linear:Ig,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Zg},cubic:function(){return $g},sin:function(){return eh},exp:function(){return sh},circle:function(){return Sg},elastic:function(a,b){var c;return 2>arguments.length&&
(b=0.45),arguments.length?c=b/$a*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*$a/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return Tg}}),ni=z.map({"in":Ga,out:Bf,"in-out":Cf,"out-in":function(a){return Cf(Bf(a))}});z.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in";return c=mi.get(c)||Ig,b=ni.get(b)||Ga,bh(b(c.apply(null,wg.call(arguments,1))))};z.interpolateHcl=function(a,
b){a=z.hcl(a);b=z.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,h=b.c-d,g=b.l-e;return isNaN(h)&&(h=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360),function(a){return ra(c+f*a,d+h*a,e+g*a)+""}};z.interpolateHsl=function(a,b){a=z.hsl(a);b=z.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,h=b.s-d,g=b.l-e;return isNaN(h)&&(h=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360),function(a){return oa(c+f*a,d+h*a,e+g*a)+""}};z.interpolateLab=function(a,b){a=z.lab(a);
b=z.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,h=b.a-d,g=b.b-e;return function(a){return la(c+f*a,d+h*a,e+g*a)+""}};z.interpolateRound=ef;z.transform=function(a){var b=rb.createElementNS(z.ns.prefix.svg,"g");return(z.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new ff(c?c.matrix:oi)})(a)};ff.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oi={a:1,b:0,
c:0,d:1,e:0,f:0};z.interpolateTransform=hf;z.layout={};z.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Wg(a[c]));return b}};z.layout.chord=function(){function a(){var m,n,p,q,r,s={},v=[],u=z.range(f),t=[];c=[];d=[];m=0;for(q=-1;++q<f;){n=0;for(r=-1;++r<f;)n+=e[q][r];v.push(n);t.push(z.range(f));m+=n}h&&u.sort(function(a,b){return h(v[a],v[b])});g&&t.forEach(function(a,b){a.sort(function(a,c){return g(e[b][a],e[b][c])})});m=($a-l*f)/m;n=0;for(q=-1;++q<f;){p=
n;for(r=-1;++r<f;){var x=u[q],N=t[x][r],w=e[x][N],D=n,A=n+=w*m;s[x+"-"+N]={index:x,subindex:N,startAngle:D,endAngle:A,value:w}}d[x]={index:x,startAngle:p,endAngle:n,value:(n-p)/m};n+=l}for(q=-1;++q<f;)for(r=q-1;++r<f;)m=s[q+"-"+r],n=s[r+"-"+q],(m.value||n.value)&&c.push(m.value<n.value?{source:n,target:m}:{source:m,target:n});k&&b()}function b(){c.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,h,g,k,m={},l=0;return m.matrix=function(a){return arguments.length?
(f=(e=a)&&e.length,c=d=null,m):e},m.padding=function(a){return arguments.length?(l=a,c=d=null,m):l},m.sortGroups=function(a){return arguments.length?(h=a,c=d=null,m):h},m.sortSubgroups=function(a){return arguments.length?(g=a,c=null,m):g},m.sortChords=function(a){return arguments.length?(k=a,c&&b(),m):k},m.chords=function(){return c||a(),c},m.groups=function(){return d||a(),d},m};z.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.cx-b.x;var f=a.cy-b.y;c=e-c;e=d*d+
f*f;if(e>c*c/v)return r>e&&(c=a.charge/e,b.px-=d*c,b.py-=f*c),!0;a.point&&e&&r>e&&(c=a.pointCharge/e,b.px-=d*c,b.py-=f*c)}return!a.charge}}function b(a){a.px=z.event.x;a.py=z.event.y;g.resume()}var c,d,e,f,h,g={},k=z.dispatch("start","tick","end"),m=[1,1],l=0.9,n=pi,p=qi,q=-30,r=ri,s=0.1,v=0.64,u=[],t=[];return g.tick=function(){if(0.005>(d*=0.99))return k.end({type:"end",alpha:d=0}),!0;var b,c,g,n,p,r,v,x,w=u.length,D=t.length;for(c=0;D>c;++c)g=t[c],b=g.source,n=g.target,v=n.x-b.x,x=n.y-b.y,(p=v*
v+x*x)&&(p=d*f[c]*((p=Math.sqrt(p))-e[c])/p,v*=p,x*=p,n.x-=v*(r=b.weight/(n.weight+b.weight)),n.y-=x*r,b.x+=v*(r=1-r),b.y+=x*r);if((r=d*s)&&(v=m[0]/2,x=m[1]/2,c=-1,r))for(;++c<w;)g=u[c],g.x+=(v-g.x)*r,g.y+=(x-g.y)*r;if(q)for(rf(b=z.geom.quadtree(u),d,h),c=-1;++c<w;)(g=u[c]).fixed||b.visit(a(g));for(c=-1;++c<w;)g=u[c],g.fixed?(g.x=g.px,g.y=g.py):(g.x-=(g.px-(g.px=g.x))*l,g.y-=(g.py-(g.py=g.y))*l);k.tick({type:"tick",alpha:d})},g.nodes=function(a){return arguments.length?(u=a,g):u},g.links=function(a){return arguments.length?
(t=a,g):t},g.size=function(a){return arguments.length?(m=a,g):m},g.linkDistance=function(a){return arguments.length?(n="function"==typeof a?a:+a,g):n},g.distance=g.linkDistance,g.linkStrength=function(a){return arguments.length?(p="function"==typeof a?a:+a,g):p},g.friction=function(a){return arguments.length?(l=+a,g):l},g.charge=function(a){return arguments.length?(q="function"==typeof a?a:+a,g):q},g.chargeDistance=function(a){return arguments.length?(r=a*a,g):Math.sqrt(r)},g.gravity=function(a){return arguments.length?
(s=+a,g):s},g.theta=function(a){return arguments.length?(v=a*a,g):Math.sqrt(v)},g.alpha=function(a){return arguments.length?(a=+a,d?d=0<a?a:0:0<a&&(k.start({type:"start",alpha:d=a}),z.timer(g.tick)),g):d},g.start=function(){function a(d,e){if(!c){c=Array(k);for(g=0;k>g;++g)c[g]=[];for(g=0;m>g;++g){var f=t[g];c[f.source.index].push(f.target);c[f.target.index].push(f.source)}}for(var h=c[b],g=-1,m=h.length;++g<m;)if(!isNaN(f=h[g][d]))return f;return Math.random()*e}var b,c,d,k=u.length,l=t.length,r=
m[0],s=m[1];for(b=0;k>b;++b)(d=u[b]).index=b,d.weight=0;for(b=0;l>b;++b)d=t[b],"number"==typeof d.source&&(d.source=u[d.source]),"number"==typeof d.target&&(d.target=u[d.target]),++d.source.weight,++d.target.weight;for(b=0;k>b;++b)d=u[b],isNaN(d.x)&&(d.x=a("x",r)),isNaN(d.y)&&(d.y=a("y",s)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(e=[],"function"==typeof n)for(b=0;l>b;++b)e[b]=+n.call(this,t[b],b);else for(b=0;l>b;++b)e[b]=n;if(f=[],"function"==typeof p)for(b=0;l>b;++b)f[b]=+p.call(this,
t[b],b);else for(b=0;l>b;++b)f[b]=p;if(h=[],"function"==typeof q)for(b=0;k>b;++b)h[b]=+q.call(this,u[b],b);else for(b=0;k>b;++b)h[b]=q;return g.resume()},g.resume=function(){return g.alpha(0.1)},g.stop=function(){return g.alpha(0)},g.drag=function(){return c||(c=z.behavior.drag().origin(Ga).on("dragstart.force",Xg).on("drag.force",b).on("dragend.force",ch)),arguments.length?(this.on("mouseover.force",gh).on("mouseout.force",hh).call(c),void 0):c},z.rebind(g,k,"on")};var pi=20,qi=1,ri=1/0;z.layout.hierarchy=
function(){function a(e){var f,h=[e],g=[];for(e.depth=0;null!=(f=h.pop());)if(g.push(f),(m=c.call(a,f,f.depth))&&(k=m.length)){for(var k,m,l;0<=--k;)h.push(l=m[k]),l.parent=f,l.depth=f.depth+1;d&&(f.value=0);f.children=m}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return sb(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);d&&(e=a.parent)&&(e.value+=a.value)}),g}var b=lh,c=ih,d=jh;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?
(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(Kc(b,function(a){a.children&&(a.value=0)}),sb(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);(c=b.parent)&&(c.value+=b.value)})),b},a};z.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(h=f.length)){var h,g,k=-1;for(d=b.value?d/b.value:0;++k<h;)a(g=f[k],c,b=g.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(d=a.length))for(var d,
e=-1;++e<d;)c=Math.max(c,b(a[e]));return 1+c}function c(f,h){var g=d.call(this,f,h);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=z.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},Jc(c,d)};z.layout.pie=function(){function a(h){var g,k=h.length,m=h.map(function(c,d){return+b.call(a,c,d)}),l=+("function"==typeof d?d.apply(this,arguments):d),n=("function"==typeof e?e.apply(this,arguments):e)-l,p=Math.min(Math.abs(n)/k,+("function"==typeof f?f.apply(this,arguments):
f)),q=p*(0>n?-1:1),r=(n-k*q)/z.sum(m),k=z.range(k),s=[];return null!=c&&k.sort(c===Jg?function(a,b){return m[b]-m[a]}:function(a,b){return c(h[a],h[b])}),k.forEach(function(a){s[a]={data:h[a],value:g=m[a],startAngle:l,endAngle:l+=g*r+q,padAngle:p}}),s}var b=Number,c=Jg,d=0,e=$a,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?
(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var Jg={};z.layout.stack=function(){function a(g,k){if(!(p=g.length))return g;var m=g.map(function(c,d){return b.call(a,c,d)}),l=m.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),h.call(a,b,c)]})}),n=c.call(a,l,k),m=z.permute(m,n),l=z.permute(l,n),p,q,r,s=d.call(a,l,k),v=m[0].length;for(q=0;v>q;++q)for(e.call(a,m[0][q],r=s[q],l[0][q][1]),n=1;p>n;++n)e.call(a,m[n][q],r+=l[n-1][q][1],l[n][q][1]);return g}var b=Ga,
c=xe,d=ye,e=zh,f=xh,h=yh;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:si.get(b)||xe,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:ti.get(b)||ye,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(h=b,a):h},a.out=function(b){return arguments.length?(e=b,a):e},a};var si=z.map({"inside-out":function(a){var b,c=a.length,d=a.map(Ah),e=a.map(Bh),
f=z.range(c).sort(function(a,b){return d[a]-d[b]}),h=0,g=0,k=[],m=[];for(a=0;c>a;++a)b=f[a],g>h?(h+=e[b],k.push(b)):(g+=e[b],m.push(b));return m.reverse().concat(k)},reverse:function(a){return z.range(a.length).reverse()},"default":xe}),ti=z.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,h=[],g=0,k=[];for(c=0;f>c;++c){for(d=b=0;e>b;b++)d+=a[b][c][1];d>g&&(g=d);h.push(d)}for(c=0;f>c;++c)k[c]=(g-h[c])/2;return k},wiggle:function(a){var b,c,d,e,f,h,g,k,m,l=a.length,n=a[0],p=n.length,
q=[];q[0]=k=m=0;for(c=1;p>c;++c){for(e=b=0;l>b;++b)e+=a[b][c][1];f=b=0;for(g=n[c][0]-n[c-1][0];l>b;++b){d=0;for(h=(a[b][c][1]-a[b][c-1][1])/(2*g);b>d;++d)h+=(a[d][c][1]-a[d][c-1][1])/g;f+=h*a[b][c][1]}q[c]=k-=e?f/e*g:0;m>k&&(m=k)}for(c=0;p>c;++c)q[c]-=m;return q},expand:function(a){var b,c,d,e=a.length,f=a[0].length,h=1/e,g=[];for(c=0;f>c;++c){for(d=b=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=h}for(c=0;f>c;++c)g[c]=0;return g},zero:ye});z.layout.histogram=
function(){function a(f,h){var g,k,m=[],l=f.map(c,this),n=d.call(this,l,h),p=e.call(this,n,l,h);h=-1;for(var q=l.length,r=p.length-1,s=b?1:1/q;++h<r;)g=m[h]=[],g.dx=p[h+1]-(g.x=p[h]),g.y=0;if(0<r)for(h=-1;++h<q;)k=l[h],k>=n[0]&&k<=n[1]&&(g=m[z.bisect(p,k,1,r)-1],g.y+=s,g.push(f[h]));return m}var b=!0,c=Number,d=Eh,e=Dh;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=pa(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?
function(a){return Sf(a,b)}:pa(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a};z.layout.pack=function(){function a(f,h){var g=c.call(this,f,h),k=g[0],m=e[0],l=e[1],n=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(k.x=k.y=0,sb(k,function(a){a.r=+n(a.value)}),sb(k,Vf),d){var p=d*(b?1:Math.max(2*k.r/m,2*k.r/l))/2;sb(k,function(a){a.r+=p});sb(k,Vf);sb(k,function(a){a.r-=p})}return Xf(k,m/2,l/2,b?1:1/Math.max(2*k.r/m,2*k.r/l)),g}var b,c=z.layout.hierarchy().sort(Fh),
d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},Jc(a,c)};z.layout.tree=function(){function a(m,l){var n=f.call(this,m,l),p=n[0],q=b(p);if(sb(q,c),q.parent.m=-q.z,Kc(q,d),k)Kc(p,e);else{var r=p,s=p,v=p;Kc(p,function(a){a.x<r.x&&(r=a);a.x>s.x&&(s=a);a.depth>v.depth&&(v=a)});var u=h(r,s)/2-r.x,t=g[0]/(s.x+h(s,r)/2+u),x=g[1]/(v.depth||
1);Kc(p,function(a){a.x=(a.x+u)*t;a.y=a.depth*x})}return n}function b(a){for(var c={A:null,children:[a]},d=[c];null!=(a=d.pop());)for(var e,f=a.children,h=0,g=f.length;g>h;++h)d.push((f[h]=e={_:f[h],parent:a,children:(e=f[h].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:h}).a=e);return c.children[0]}function c(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){for(var f,g=0,k=0,m=a.children,l=m.length;0<=--l;)f=m[l],f.z+=g,f.m+=g,g+=f.s+(k+=f.c);b=(b[0].z+b[b.length-
1].z)/2;e?(a.z=e.z+h(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+h(a._,e._));b=a.parent;d=a.parent.A||d[0];if(e){for(var g=f=a,k=e,m=f.parent.children[0],l=f.m,n=g.m,p=k.m,q=m.m;k=Be(k),f=Ae(f),k&&f;){m=Ae(m);g=Be(g);g.a=a;e=k.z+p-f.z-l+h(k._,f._);if(0<e){var r=k.a.parent===a.parent?k.a:d,s=a,v=e,u=v/(s.i-r.i);s.c-=u;s.s+=v;r.c+=u;s.z+=v;s.m+=v;l+=e;n+=e}p+=k.m;l+=f.m;q+=m.m;n+=g.m}k&&!Be(g)&&(g.t=k,g.m+=p-n);f&&!Ae(m)&&(m.t=f,m.m+=l-q,d=a)}b.A=d}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}
function e(a){a.x*=g[0];a.y=a.depth*g[1]}var f=z.layout.hierarchy().sort(null).value(null),h=Yf,g=[1,1],k=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(k=null==(g=b)?e:null,a):k?null:g},a.nodeSize=function(b){return arguments.length?(k=null==(g=b)?null:e,a):k?g:null},Jc(a,f)};z.layout.cluster=function(){function a(f,h){var g,k=b.call(this,f,h),m=k[0],l=0;sb(m,function(a){var b=a.children;b&&b.length?(a.x=Jh(b),a.y=Ih(b)):(a.x=g?
l+=c(a,g):0,a.y=0,g=a)});var n=Zf(m),p=$f(m),q=n.x-c(n,p)/2,r=p.x+c(p,n)/2;return sb(m,e?function(a){a.x=(a.x-m.x)*d[0];a.y=(m.y-a.y)*d[1]}:function(a){a.x=(a.x-q)/(r-q)*d[0];a.y=(1-(m.y?a.y/m.y:1))*d[1]}),k}var b=z.layout.hierarchy().sort(null).value(null),c=Yf,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},Jc(a,b)};z.layout.treemap=
function(){function a(b,c){for(var d,e,f=-1,h=b.length;++f<h;)e=(d=b[f]).value*(0>c?0:c),d.area=isNaN(e)||0>=e?0:e}function b(c){var e=c.children;if(e&&e.length){var f,h=l(c),g=[],k=e.slice(),m=1/0,n="slice"===p?h.dx:"dice"===p?h.dy:"slice-dice"===p?1&c.depth?h.dy:h.dx:Math.min(h.dx,h.dy);a(k,h.dx*h.dy/c.value);for(g.area=0;0<(c=k.length);){g.push(c=k[c-1]);g.area+=c.area;var r;if(!(r="squarify"!==p)){c=n;f=void 0;var s=g.area;r=0;for(var v=1/0,u=-1,t=g.length;++u<t;)(f=g[u].area)&&(v>f&&(v=f),f>
r&&(r=f));r=(f=(s*=s,c*=c,s?Math.max(c*r*q/s,s/(c*v*q)):1/0))<=m}r?(k.pop(),m=f):(g.area-=g.pop().area,d(g,n,h,!1),n=Math.min(h.dx,h.dy),g.length=g.area=0,m=1/0)}g.length&&(d(g,n,h,!0),g.length=g.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=l(b),h=e.slice(),g=[];a(h,f.dx*f.dy/b.value);for(g.area=0;b=h.pop();)g.push(b),g.area+=b.area,null!=b.z&&(d(g,b.z?f.dx:f.dy,f,!h.length),g.length=g.area=0);e.forEach(c)}}function d(a,b,c,e){var f,h=-1,k=a.length,m=c.x,l=c.y,n=b?g(a.area/
b):0;if(b==c.dx){for((e||n>c.dy)&&(n=c.dy);++h<k;)f=a[h],f.x=m,f.y=l,f.dy=n,m+=f.dx=Math.min(c.x+c.dx-m,n?g(f.area/n):0);f.z=!0;f.dx+=c.x+c.dx-m;c.y+=n;c.dy-=n}else{for((e||n>c.dx)&&(n=c.dx);++h<k;)f=a[h],f.x=m,f.y=l,f.dx=n,l+=f.dy=Math.min(c.y+c.dy-l,n?g(f.area/n):0);f.z=!1;f.dy+=c.y+c.dy-l;c.x+=n;c.dx-=n}}function e(d){d=f||h(d);var g=d[0];return g.x=0,g.y=0,g.dx=k[0],g.dy=k[1],f&&h.revalue(g),a([g],g.dx*g.dy/g.value),(f?c:b)(g),n&&(f=d),d}var f,h=z.layout.hierarchy(),g=Math.round,k=[1,1],m=null,
l=Ce,n=!1,p="squarify",q=0.5*(1+Math.sqrt(5));return e.size=function(a){return arguments.length?(k=a,e):k},e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return null==d?Ce(c):ag(c,"number"==typeof d?[d,d,d,d]:d)}function c(b){return ag(b,a)}if(!arguments.length)return m;var d;return l=null==(m=a)?Ce:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,e},e.round=function(a){return arguments.length?(g=a?Math.round:Number,e):g!=Number},e.sticky=function(a){return arguments.length?
(n=a,f=null,e):n},e.ratio=function(a){return arguments.length?(q=a,e):q},e.mode=function(a){return arguments.length?(p=a+"",e):p},Jc(e,h)};z.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=z.random.normal.apply(z,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=z.random.irwinHall(a);
return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}};z.scale={};var Lh={floor:Ga,ceil:Ga};z.scale.linear=function(){return cg([0,1],[0,1],Wb,!1)};var Oh={s:1,g:1,p:1,r:1,e:1};z.scale.log=function(){return dg(z.scale.linear().domain([0,1]),10,!0,[1,10])};var eg=z.format(".0e"),Ph={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};z.scale.pow=function(){return fg(z.scale.linear(),1,[0,1])};z.scale.sqrt=
function(){return z.scale.pow().exponent(0.5)};z.scale.ordinal=function(){return gg([],{t:"range",a:[[]]})};z.scale.category10=function(){return z.scale.ordinal().range(ui)};z.scale.category20=function(){return z.scale.ordinal().range(vi)};z.scale.category20b=function(){return z.scale.ordinal().range(wi)};z.scale.category20c=function(){return z.scale.ordinal().range(xi)};var ui=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Oa),vi=[2062260,11454440,16744206,
16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Oa),wi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Oa),xi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,
12434877,14277081].map(Oa);z.scale.quantile=function(){return hg([],[])};z.scale.quantize=function(){return ig(0,1,[0,1])};z.scale.threshold=function(){return jg([0.5],[0,1])};z.scale.identity=function(){return kg([0,1])};z.svg={};z.svg.arc=function(){function a(){var m=Math.max(0,+c.apply(this,arguments)),l=Math.max(0,+d.apply(this,arguments)),n=h.apply(this,arguments)-Ea,p=g.apply(this,arguments)-Ea,q=Math.abs(p-n),r=n>p?0:1;if(m>l&&(s=l,l=m,m=s),q>=ii)return b(l,r)+(m?b(m,1-r):"")+"Z";var s,v,
u,t,x,w,D,A,N,F;D=s=0;q=[];((t=(+k.apply(this,arguments)||0)/2)&&(u=f===Ud?Math.sqrt(m*m+l*l):+f.apply(this,arguments),r||(D*=-1),l&&(D=E(u/l*Math.sin(t))),m&&(s=E(u/m*Math.sin(t)))),l)?(u=l*Math.cos(n+D),t=l*Math.sin(n+D),x=l*Math.cos(p-D),w=l*Math.sin(p-D),v=Math.abs(p-n-2*D)<=ba?0:1,D&&(0<(u-x)*t-(t-w)*u?0:1)===r^v&&(x=(n+p)/2,u=l*Math.cos(x),t=l*Math.sin(x),x=w=null)):u=t=0;if(m){D=m*Math.cos(p-s);A=m*Math.sin(p-s);N=m*Math.cos(n+s);F=m*Math.sin(n+s);var y=Math.abs(n-p+2*s)<=ba?0:1;s&&(0<(D-N)*
A-(A-F)*D?0:1)===1-r^y&&(N=(n+p)/2,D=m*Math.cos(N),A=m*Math.sin(N),N=F=null)}else D=A=0;if(0.001<(s=Math.min(Math.abs(l-m)/2,+e.apply(this,arguments)))){v=l>m^r?0:1;var y=null==N?[D,A]:null==x?[u,t]:$d([u,t],[N,F],[x,w],[D,A]),n=u-y[0],p=t-y[1],K=x-y[0],B=w-y[1],n=1/Math.sin(Math.acos((n*K+p*B)/(Math.sqrt(n*n+p*p)*Math.sqrt(K*K+B*B)))/2),y=Math.sqrt(y[0]*y[0]+y[1]*y[1]);null!=x?(p=Math.min(s,(l-y)/(n+1)),K=Bd(null==N?[D,A]:[N,F],[u,t],l,p,r),B=Bd([x,w],[D,A],l,p,r),s===p?q.push("M",K[0],"A",p,",",
p," 0 0,",v," ",K[1],"A",l,",",l," 0 ",1-r^(0<(K[1][0]-B[1][0])*K[1][1]-(K[1][1]-B[1][1])*K[1][0]?0:1),",",r," ",B[1],"A",p,",",p," 0 0,",v," ",B[0]):q.push("M",K[0],"A",p,",",p," 0 1,",v," ",B[0])):q.push("M",u,",",t);null!=N?(l=Math.min(s,(m-y)/(n-1)),N=Bd([u,t],[N,F],m,-l,r),x=Bd([D,A],null==x?[u,t]:[x,w],m,-l,r),s===l?q.push("L",x[0],"A",l,",",l," 0 0,",v," ",x[1],"A",m,",",m," 0 ",r^(0<(x[1][0]-N[1][0])*x[1][1]-(x[1][1]-N[1][1])*x[1][0]?0:1),",",1-r," ",N[1],"A",l,",",l," 0 0,",v," ",N[0]):q.push("L",
x[0],"A",l,",",l," 0 0,",v," ",N[0])):q.push("L",D,",",A)}else q.push("M",u,",",t),null!=x&&q.push("A",l,",",l," 0 ",v,",",r," ",x,",",w),q.push("L",D,",",A),null!=N&&q.push("A",m,",",m," 0 ",y,",",1-r," ",N,",",F);return q.push("Z"),q.join("")}function b(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var c=Rh,d=Sh,e=Qh,f=Ud,h=lg,g=mg,k=Th;return a.innerRadius=function(b){return arguments.length?(c=pa(b),a):c},a.outerRadius=function(b){return arguments.length?(d=pa(b),
a):d},a.cornerRadius=function(b){return arguments.length?(e=pa(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Ud?Ud:pa(b),a):f},a.startAngle=function(b){return arguments.length?(h=pa(b),a):h},a.endAngle=function(b){return arguments.length?(g=pa(b),a):g},a.padAngle=function(b){return arguments.length?(k=pa(b),a):k},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+h.apply(this,arguments)+ +g.apply(this,arguments))/2-Ea;return[Math.cos(b)*a,Math.sin(b)*
a]},a};var Ud="auto";z.svg.line=function(){return ng(Ga)};var Fe=z.map({linear:ab,"linear-closed":function(a){return ab(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return 1<c&&e.push("H",d[0]),e.join("")},"step-before":Ge,"step-after":He,basis:og,"basis-open":function(a){if(4>a.length)return ab(a);for(var b,c=[],d=-1,e=a.length,f=[0],h=[0];3>++d;)b=a[d],f.push(b[0]),h.push(b[1]);c.push(ib(Vb,f)+","+ib(Vb,h));for(--d;++d<
e;)b=a[d],f.shift(),f.push(b[0]),h.shift(),h.push(b[1]),Je(c,f,h);return c.join("")},"basis-closed":function(a){for(var b,c,d=-1,e=a.length,f=e+4,h=[],g=[];4>++d;)c=a[d%e],h.push(c[0]),g.push(c[1]);b=[ib(Vb,h),",",ib(Vb,g)];for(--d;++d<f;)c=a[d%e],h.shift(),h.push(c[0]),g.shift(),g.push(c[1]),Je(b,h,g);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],h=a[0][1],g=a[c][0]-f,k=a[c][1]-h,m=-1;++m<=c;)d=a[m],e=m/c,d[0]=b*d[0]+(1-b)*(f+e*g),d[1]=b*d[1]+(1-b)*(h+e*k);return og(a)},
cardinal:function(a,b){return 3>a.length?ab(a):a[0]+Cd(a,Ie(a,b))},"cardinal-open":function(a,b){return 4>a.length?ab(a):a[1]+Cd(a.slice(1,-1),Ie(a,b))},"cardinal-closed":function(a,b){return 3>a.length?ab(a):a[0]+Cd((a.push(a[0]),a),Ie([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=ab(a);else{var b=a[0],c,d,e,f,h=[],g;c=0;g=a.length-1;for(var k=[],m=a[1],l=k[0]=Ke(a[0],m);++c<g;)k[c]=(l+(l=Ke(m,m=a[c+1])))/2;g=(k[c]=l,k);k=-1;for(m=a.length-1;++k<m;)c=Ke(a[k],a[k+1]),
ea(c)<S?g[k]=g[k+1]=0:(d=g[k]/c,e=g[k+1]/c,f=d*d+e*e,9<f&&(f=3*c/Math.sqrt(f),g[k]=f*d,g[k+1]=f*e));for(k=-1;++k<=m;)f=(a[Math.min(m,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+g[k]*g[k])),h.push([f||0,g[k]*f||0]);a=b+Cd(a,h)}return a}});Fe.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var pg=[0,2/3,1/3,0],qg=[0,1/3,2/3,0],Vb=[0,1/6,2/3,1/6];z.svg.line.radial=function(){var a=ng(rg);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};Ge.reverse=He;He.reverse=Ge;z.svg.area=function(){return sg(Ga)};
z.svg.area.radial=function(){var a=sg(rg);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};z.svg.chord=function(){function a(e,f){var h=b(this,c,e,f),g=b(this,d,e,f);return"M"+h.p0+("A"+h.r+","+h.r+" 0 "+ +(h.a1-h.a0>ba)+",1 "+h.p1)+(h.a0==g.a0&&h.a1==g.a1?"Q 0,0 "+h.p0:"Q 0,0 "+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>ba)+",1 "+g.p1)+("Q 0,0 "+h.p0))+"Z"}function b(a,c,
d,g){var k=c.call(a,d,g);c=e.call(a,k,g);d=f.call(a,k,g)-Ea;a=h.call(a,k,g)-Ea;return{r:c,a0:d,a1:a,p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}var c=ce,d=ee,e=Uh,f=lg,h=mg;return a.radius=function(b){return arguments.length?(e=pa(b),a):e},a.source=function(b){return arguments.length?(c=pa(b),a):c},a.target=function(b){return arguments.length?(d=pa(b),a):d},a.startAngle=function(b){return arguments.length?(f=pa(b),a):f},a.endAngle=function(b){return arguments.length?(h=pa(b),
a):h},a};z.svg.diagonal=function(){function a(e,f){var h=b.call(this,e,f),g=c.call(this,e,f),k=(h.y+g.y)/2,h=[h,{x:h.x,y:k},{x:g.x,y:k},g];return h=h.map(d),"M"+h[0]+"C"+h[1]+" "+h[2]+" "+h[3]}var b=ce,c=ee,d=tg;return a.source=function(c){return arguments.length?(b=pa(c),a):b},a.target=function(b){return arguments.length?(c=pa(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a};z.svg.diagonal.radial=function(){var a=z.svg.diagonal(),b=tg,c=a.projection;return a.projection=function(a){return arguments.length?
c(Vh(b=a)):b},a};z.svg.symbol=function(){function a(d,e){return(Kg.get(b.call(this,d,e))||ug)(c.call(this,d,e))}var b=Xh,c=Wh;return a.type=function(c){return arguments.length?(b=pa(c),a):b},a.size=function(b){return arguments.length?(c=pa(b),a):c},a};var Kg=z.map({circle:ug,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Lg));var b=a*Lg;return"M0,"+-a+"L"+b+",0 0,"+
a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Vd);var b=a*Vd/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Vd);var b=a*Vd/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});z.svg.symbolTypes=Kg.keys();var Vd=Math.sqrt(3),Lg=Math.tan(30*da);ta.transition=function(a){for(var b,c=gc||++Mg,d=Me(a),e=[],f=Wd||{time:Date.now(),ease:rh,delay:0,duration:250},
h=-1,g=this.length;++h<g;){e.push(a=[]);for(var k=this[h],m=-1,l=k.length;++m<l;)(b=k[m])&&Dd(b,m,d,c,f),a.push(b)}return Yc(e,d,c)};ta.interrupt=function(a){return this.each(null==a?Hd:vg(Me(a)))};var gc,Wd,Hd=vg(Me()),Ia=[],Mg=0;Ia.call=ta.call;Ia.empty=ta.empty;Ia.node=ta.node;Ia.size=ta.size;z.transition=function(a,b){return a&&a.transition?gc?a.transition(b):a:zg.transition(a)};z.transition.prototype=Ia;Ia.select=function(a){var b,c,d,e=this.id,f=this.namespace,h=[];a=W(a);for(var g=-1,k=this.length;++g<
k;){h.push(b=[]);for(var m=this[g],l=-1,n=m.length;++l<n;)(d=m[l])&&(c=a.call(d,d.__data__,l,g))?("__data__"in d&&(c.__data__=d.__data__),Dd(c,l,f,e,d[f][e]),b.push(c)):b.push(null)}return Yc(h,f,e)};Ia.selectAll=function(a){var b,c,d,e,f=this.id,h=this.namespace,g=[];a=ca(a);for(var k=-1,m=this.length;++k<m;)for(var l=this[k],n=-1,p=l.length;++n<p;)if(b=l[n]){e=b[h][f];c=a.call(b,b.__data__,n,k);g.push(b=[]);for(var q=-1,r=c.length;++q<r;)(d=c[q])&&Dd(d,q,h,f,e),b.push(d)}return Yc(g,h,f)};Ia.filter=
function(a){var b,c,d,e=[];"function"!=typeof a&&(a=F(a));for(var f=0,h=this.length;h>f;f++){e.push(b=[]);c=this[f];for(var g=0,k=c.length;k>g;g++)(d=c[g])&&a.call(d,d.__data__,g,f)&&b.push(d)}return Yc(e,this.namespace,this.id)};Ia.tween=function(a,b){var c=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][c].tween.get(a):Q(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})};Ia.attr=function(a,b){function c(){this.removeAttribute(g)}function d(){this.removeAttributeNS(g.space,
g.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(g);return c!==a&&(b=h(c,a),function(a){this.setAttribute(g,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(g.space,g.local);return c!==a&&(b=h(c,a),function(a){this.setAttributeNS(g.space,g.local,b(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var h="transform"==a?hf:Wb,g=z.ns.qualify(a);return Le(this,"attr."+a,b,g.local?f:e)};Ia.attrTween=function(a,
b){function c(a,d){var f=b.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function d(a,c){var f=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=z.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};Ia.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Le(this,
"style."+a,b,function(b){return null==b?d:(b+="",function(){var d,e=Ra.getComputedStyle(this,null).getPropertyValue(a);return e!==b&&(d=Wb(e,b),function(b){this.style.setProperty(a,d(b),c)})})})};Ia.styleTween=function(a,b,c){return 3>arguments.length&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,Ra.getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})};Ia.text=function(a){return Le(this,"text",a,Yh)};Ia.remove=function(){var a=
this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};Ia.ease=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].ease:("function"!=typeof a&&(a=z.ease.apply(z,arguments)),Q(this,function(d){d[c][b].ease=a}))};Ia.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:Q(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,
f)}:(a=+a,function(d){d[c][b].delay=a}))};Ia.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:Q(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};Ia.each=function(a,b){var c=this.id,d=this.namespace;if(2>arguments.length){var e=Wd,f=gc;try{gc=c,Q(this,function(b,e,f){Wd=b[d][c];a.call(b,b.__data__,e,f)})}finally{Wd=e,gc=f}}else Q(this,function(e){e=
e[d][c];(e.event||(e.event=z.dispatch("start","end","interrupt"))).on(a,b)});return this};Ia.transition=function(){for(var a,b,c,d,e=this.id,f=++Mg,h=this.namespace,g=[],k=0,m=this.length;m>k;k++){g.push(a=[]);b=this[k];for(var l=0,n=b.length;n>l;l++)(c=b[l])&&(d=c[h][e],Dd(c,l,h,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Yc(g,h,f)};z.svg.axis=function(){function a(m){m.each(function(){var a,m=z.select(this),l=this.__chart__||c,n=this.__chart__=c.copy(),
p=null==k?n.ticks?n.ticks.apply(n,g):n.domain():k,q=null==b?n.tickFormat?n.tickFormat.apply(n,g):Ga:b,r=m.selectAll(".tick").data(p,n),p=r.enter().insert("g",".domain").attr("class","tick").style("opacity",S),s=z.transition(r.exit()).style("opacity",S).remove(),v=z.transition(r.order()).style("opacity",1),u=Math.max(e,0)+h,t=xd(n),m=m.selectAll(".domain").data([0]),m=(m.enter().append("path").attr("class","domain"),z.transition(m));p.append("line");p.append("text");var x,w,D,A,F=p.select("line"),
y=v.select("line"),q=r.select("text").text(q),r=p.select("text"),K=v.select("text"),B="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=Zh,x="x",D="y",w="x2",A="y2",q.attr("dy",0>B?"0em":".71em").style("text-anchor","middle"),m.attr("d","M"+t[0]+","+B*f+"V0H"+t[1]+"V"+B*f)):(a=$h,x="y",D="x",w="y2",A="x2",q.attr("dy",".32em").style("text-anchor",0>B?"end":"start"),m.attr("d","M"+B*f+","+t[0]+"H0V"+t[1]+"H"+B*f)),F.attr(A,B*e),r.attr(D,B*u),y.attr(w,0).attr(A,B*e),K.attr(x,0).attr(D,B*u),n.rangeBand)var L=
n,C=L.rangeBand()/2,l=n=function(a){return L(a)+C};else l.rangeBand?l=n:s.call(a,n,l);p.call(a,l,n);v.call(a,n,n)})}var b,c=z.scale.linear(),d=Ng,e=6,f=6,h=3,g=[10],k=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in yi?b+"":Ng,a):d},a.ticks=function(){return arguments.length?(g=arguments,a):g},a.tickValues=function(b){return arguments.length?(k=b,a):k},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=
arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(h=+b,a):h},a.tickSubdivide=function(){return arguments.length&&a},a};var Ng="bottom",yi={top:1,right:1,bottom:1,left:1};z.svg.brush=function(){function a(f){f.each(function(){var f=z.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",
e).on("touchstart.brush",e),h=f.selectAll(".background").data([0]);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var g=f.selectAll(".resize").data(r,Ga);g.exit().remove();g.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return zi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?
-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");g.style("display",a.empty()?"none":null);var l,f=z.transition(f),h=z.transition(h);k&&(l=xd(k),h.attr("x",l[0]).attr("width",l[1]-l[0]),c(f));m&&(l=xd(m),h.attr("y",l[0]).attr("height",l[1]-l[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+n[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",
l[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function d(a){a.select(".extent").attr("y",n[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",n[1]-n[0])}function e(){function r(){var a=z.mouse(x),e=!1;t&&(a[0]+=t[0],a[1]+=t[1]);L||(z.event.altKey?(u||(u=[(l[0]+l[1])/2,(n[0]+n[1])/2]),Q[0]=l[+(a[0]<u[0])],Q[1]=n[+(a[1]<u[1])]):u=null);y&&s(a,k,0)&&(c(A),e=!0);K&&s(a,m,1)&&(d(A),e=!0);e&&(b(A),D({type:"brush",mode:L?"move":"resize"}))}function s(a,b,c){var d,e,g=xd(b);b=
g[0];var g=g[1],k=Q[c],m=c?n:l,r=m[1]-m[0];return L&&(b-=k,g-=r+k),d=(c?q:p)?Math.max(b,Math.min(g,a[c])):a[c],L?e=(d+=k)+r:(u&&(k=Math.max(b,Math.min(g,2*u[c]-d))),d>k?(e=d,d=k):e=k),m[0]!=d||m[1]!=e?(c?h=null:f=null,m[0]=d,m[1]=e,!0):void 0}function v(){r();A.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);z.select("body").style("cursor",null);ha.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);I();D({type:"brushend"})}var u,t,x=this,w=z.select(z.event.target),D=g.of(x,arguments),A=z.select(x),F=w.datum(),y=!/^(n|s)$/.test(F)&&k,K=!/^(e|w)$/.test(F)&&m,L=w.classed("extent"),I=C(),Q=z.mouse(x),ha=z.select(Ra).on("keydown.brush",function(){32==z.event.keyCode&&(L||(u=null,Q[0]-=l[1],Q[1]-=n[1],L=2),B())}).on("keyup.brush",function(){32==z.event.keyCode&&2==L&&(Q[0]+=l[1],Q[1]+=n[1],L=0,B())});if(z.event.changedTouches?ha.on("touchmove.brush",r).on("touchend.brush",
v):ha.on("mousemove.brush",r).on("mouseup.brush",v),A.interrupt().selectAll("*").interrupt(),L)Q[0]=l[0]-Q[0],Q[1]=n[0]-Q[1];else if(F){var G=+/w$/.test(F),F=+/^n/.test(F);t=[l[1-G]-Q[0],n[1-F]-Q[1]];Q[0]=l[G];Q[1]=n[F]}else z.event.altKey&&(u=Q.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null);z.select("body").style("cursor",w.style("cursor"));D({type:"brushstart"});r()}var f,h,g=P(a,"brushstart","brush","brushend"),k=null,m=null,l=[0,0],n=[0,0],p=!0,q=!0,r=Ue[0];
return a.event=function(a){a.each(function(){var a=g.of(this,arguments),b={x:l,y:n,i:f,j:h},c=this.__chart__||b;this.__chart__=b;gc?z.select(this).transition().each("start.brush",function(){f=c.i;h=c.j;l=c.x;n=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=cd(l,b.x),d=cd(n,b.y);return f=h=null,function(e){l=b.x=c(e);n=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){f=b.i;h=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(k=b,r=Ue[!k<<1|!m],a):k},a.y=function(b){return arguments.length?(m=b,r=Ue[!k<<1|!m],a):m},a.clamp=function(b){return arguments.length?(k&&m?(p=!!b[0],q=!!b[1]):k?p=!!b:m&&(q=!!b),a):k&&m?[p,q]:k?p:m?q:null},a.extent=function(b){var c,d,e,g,p;return arguments.length?(k&&(c=b[0],d=b[1],m&&(c=c[0],d=d[0]),f=[c,d],k.invert&&(c=k(c),d=k(d)),c>d&&(p=c,c=d,d=p),(c!=l[0]||d!=l[1])&&(l=[c,d])),m&&(e=b[0],g=b[1],
k&&(e=e[1],g=g[1]),h=[e,g],m.invert&&(e=m(e),g=m(g)),e>g&&(p=e,e=g,g=p),(e!=n[0]||g!=n[1])&&(n=[e,g])),a):(k&&(f?(c=f[0],d=f[1]):(c=l[0],d=l[1],k.invert&&(c=k.invert(c),d=k.invert(d)),c>d&&(p=c,c=d,d=p))),m&&(h?(e=h[0],g=h[1]):(e=n[0],g=n[1],m.invert&&(e=m.invert(e),g=m.invert(g)),e>g&&(p=e,e=g,g=p))),k&&m?[[c,e],[d,g]]:k?[c,d]:m&&[e,g])},a.clear=function(){return a.empty()||(l=[0,0],n=[0,0],f=h=null),a},a.empty=function(){return!!k&&l[0]==l[1]||!!m&&n[0]==n[1]},z.rebind(a,g,"on")};var zi={n:"ns-resize",
e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ue=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Ve=T.format=Bg.timeFormat,Og=Ve.utc,Pg=Og("%Y-%m-%dT%H:%M:%S.%LZ");Ve.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ne:Pg;Ne.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Ne.toString=Pg.toString;T.second=eb(function(a){return new Na(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*
Math.floor(b))},function(a){return a.getSeconds()});T.seconds=T.second.range;T.seconds.utc=T.second.utc.range;T.minute=eb(function(a){return new Na(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});T.minutes=T.minute.range;T.minutes.utc=T.minute.utc.range;T.hour=eb(function(a){var b=a.getTimezoneOffset()/60;return new Na(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});
T.hours=T.hour.range;T.hours.utc=T.hour.utc.range;T.month=eb(function(a){return a=T.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});T.months=T.month.range;T.months.utc=T.month.utc.range;var Ed=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],We=[[T.second,1],[T.second,5],[T.second,15],[T.second,30],[T.minute,1],[T.minute,5],[T.minute,15],[T.minute,30],[T.hour,1],[T.hour,3],[T.hour,6],[T.hour,12],
[T.day,1],[T.day,2],[T.week,1],[T.month,1],[T.month,3],[T.year,1]],Ai=Ve.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",vb]]),ai={range:function(a,b,c){return z.range(Math.ceil(a/c)*c,+b,c).map(fc)},floor:Ga,ceil:Ga};
We.year=T.year;T.scale=function(){return Oe(z.scale.linear(),We,Ai)};var Qg=We.map(function(a){return[a[0].utc,a[1]]}),Bi=Og.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",vb]]);Qg.year=T.year.utc;
T.scale.utc=function(){return Oe(z.scale.linear(),Qg,Bi)};z.text=Xb(function(a){return a.responseText});z.json=function(a,b){return za(a,"application/json",bi,b)};z.html=function(a,b){return za(a,"text/html",ci,b)};z.xml=Xb(function(a){return a.responseXML});"function"==typeof define&&define.amd?define(z):"object"==typeof module&&module.exports&&(module.exports=z);this.d3=z}();
var UrlFunctions={getUrlParameter:function(b){var l=decodeURIComponent(window.location.search.substring(1)).split("&"),k,g;for(g=0;g<l.length;g++)if(k=l[g].split("="),k[0]===b)return void 0===k[1]?!0:k[1]},addNextUrlParameter:function(b){$(b).attr("href",function(){var b=UrlFunctions.getUrlParameter("next");return b?this.href+"?next="+b:this.href})},addEncodedNextUrlParameter:function(b){$(b).attr("href",function(){var b=UrlFunctions.getUrlParameter("next");return b?this.href+encodeURIComponent("?next="+
b):this.href})}};
!function(b){function l(g){if(k[g])return k[g].exports;var c=k[g]={exports:{},id:g,loaded:!1};return b[g].call(c.exports,c,c.exports,l),c.loaded=!0,c.exports}var k={};return l.m=b,l.c=k,l.p="",l(0)}([function(b,l,k){b.exports=k(25)},function(b,l){function k(b,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,f):b.__proto__=f)}Object.defineProperty(l,"__esModule",{value:!0});var g=function(b){function f(b){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");b=(f.__proto__||Object.getPrototypeOf(f)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!=typeof b&&"function"!=typeof b?this:b;return b.name="IntegrationError",b}return k(f,b),f}(Error);l["default"]=g},function(b,l,k){Object.defineProperty(l,
"__esModule",{value:!0});l.zipObject=l.sum=l.stringsIntersection=l.merge=l.omit=l.pickBy=l.pick=l.mapValues=l.isEqual=l.findIndex=l.find=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},c=k(17),f=(l.find=function(b,c){for(var f=0;f<b.length;f++)if(c(b[f]))return b[f]},l.findIndex=function(b,c){for(var f=0;f<b.length;f++)if(c(b[f]))return f;
return-1},"[object Object]"),n=(l.isEqual=function p(b,c){if("object"!==("undefined"==typeof b?"undefined":g(b))||"object"!==("undefined"==typeof c?"undefined":g(c))||null===b||null===c)return b===c;var k=Array.isArray(b),l=Array.isArray(c);if(k!==l)return!1;var l=Object.prototype.toString.call(b)===f,n=Object.prototype.toString.call(c)===f;if(l!==n||!l&&!k)return!1;k=Object.keys(b);l=Object.keys(c);if(k.length!==l.length)return!1;for(var n={},A=0;A<k.length;A++)n[k[A]]=!0;for(A=0;A<l.length;A++)n[l[A]]=
!0;l=Object.keys(n);return l.length!==k.length?!1:l.every(function(a){return p(b[a],c[a])})},l.mapValues=function(b,c){for(var f={},g=Object.keys(b),k=0;k<g.length;k++)f[g[k]]=c(b[g[k]],g[k]);return f},l.pick=function(b,c){for(var f={},g=0;g<c.length;g++)"undefined"!=typeof b[c[g]]&&(f[c[g]]=b[c[g]]);return f},l.pickBy=function(b,c){for(var f={},g=Object.keys(b),k=0;k<g.length;k++)c(g[k],b[g[k]])&&(f[g[k]]=b[g[k]]);return f});l.omit=function(b,c){return n(b,function(b,f){return-1===c.indexOf(b)})};
l.merge=function m(){for(var b=arguments.length,f=Array(b),k=0;k<b;k++)f[k]=arguments[k];var l=Array.isArray(f[0])?[]:{};return f.forEach(function(b){b&&Object.keys(b).forEach(function(a){var d=l[a],f=b[a];"object"!==("undefined"==typeof d?"undefined":g(d))||"object"!==("undefined"==typeof f?"undefined":g(f))||d instanceof c.SafeString?void 0!==f?l[a]=f:void 0!==d&&(l[a]=d):l[a]=m(d,f)})}),l};l.stringsIntersection=function(b,c){for(var f={},g=0;g<c.length;g++)f[c[g]]=!0;for(var g=[],k=0;k<b.length;k++)f[b[k]]&&
g.push(b[k]);return g};l.sum=function(b){for(var c=0,f=0;f<b.length;f++)c+=b[f];return c};l.zipObject=function(b,c){for(var f={},g=0;g<b.length;g++)f[b[g]]=c[g];return f}},function(b,l){function k(b){if(Array.isArray(b)){for(var c=0,e=Array(b.length);c<b.length;c++)e[c]=b[c];return e}return Array.from(b)}Object.defineProperty(l,"__esModule",{value:!0});var g=function(){function b(c,e){for(var f=0;f<e.length;f++){var g=e[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);
Object.defineProperty(c,g.key,g)}}return function(c,e,g){return e&&b(c.prototype,e),g&&b(c,g),c}}(),c=new (function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._shouldLog=!1}return g(b,[{key:"setApiKey",value:function(b){this._shouldLog=/^pk_test_/.test(b)}},{key:"_log",value:function(b,c){if(this._shouldLog&&window.console){var f;(f=window.console)[b].apply(f,k(c))}}},{key:"log",value:function(){for(var b=arguments.length,c=Array(b),f=0;f<
b;f++)c[f]=arguments[f];this._log("log",c)}},{key:"warn",value:function(){for(var b=arguments.length,c=Array(b),f=0;f<b;f++)c[f]=arguments[f];this._log("warn",c)}}]),b}());l["default"]=c},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});l.RELEASE_VERSION=l.Q_URL=l.API_URL=l.ELEMENTS_INNER_URL=l.PARENT_ORIGIN=l.REFERRER=l.ORIGIN=void 0;b=k(10);k=(l.ORIGIN=(0,b.parseUrl)("https://js.stripe.com/v3/").origin,l.REFERRER=document.referrer);l.PARENT_ORIGIN=(0,b.parseUrl)(k).origin;l.ELEMENTS_INNER_URL=
"https://js.stripe.com/v3/elements-inner-413e27711d40e5be703202ef39d01220.html";l.API_URL="https://api.stripe.com/v1/";l.Q_URL="https://q.stripe.com";l.RELEASE_VERSION="bf22aa9"},function(b,l,k){function g(b){if(Array.isArray(b)){for(var c=0,e=Array(b.length);c<b.length;c++)e[c]=b[c];return e}return Array.from(b)}Object.defineProperty(l,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&
b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f=k(2),n=(b=k(3))&&b.__esModule?b:{"default":b},e=(k=k(1))&&k.__esModule?k:{"default":k};l["default"]=function m(b,k){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u=l.path||[],A=l.label||"option",a=l.origin,l=null===k?"null":"undefined"==typeof k?"undefined":c(k);if(!b)return void n["default"].warn("Unsupported "+A+": "+u.join(".")+" is not a customizable parameter.");if("function"==typeof b)return b(k,a);if("function"==
typeof b.check){if(b.check(k))return k;throw new e["default"]("Invalid "+A+": "+u.join(".")+" should be "+b.description+".\nYou passed a value of type: "+l+".");}if("object"===("undefined"==typeof b?"undefined":c(b))){if("object"!==l)throw new e["default"]("Invalid "+A+": "+u.join(".")+" should be an object. You passed a value of type: "+l+".");l=function(){return{v:(0,f.pickBy)((0,f.mapValues)(k,function(c,e){return m(b[e],c,{label:A,origin:a,path:[].concat(g(u),[e])})}),function(a,b){return void 0!==
b})}}();if("object"===("undefined"==typeof l?"undefined":c(l)))return l.v}}},function(b,l,k){function g(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){var c={},d;for(d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}
function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(l,
"__esModule",{value:!0});var m=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},r=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b=k(16);b=g(b);var s=k(4),v=k(8),u=g(v),v=k(20),A=g(v),a=k(21),v=
k(18),d=g(v),v=k(1),h=g(v),v=k(3),q=g(v),v=k(5),w=g(v),B=k(7),y={base:"StripeElement",focus:"StripeElement--focus",invalid:"StripeElement--invalid",complete:"StripeElement--complete",empty:"StripeElement--empty",webkitAutofill:"StripeElement--webkit-autofill"};k=function(b){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var b=e(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a));b._formSubmit=function(){for(var a=b._component.parentElement;a&&
"FORM"!==a.nodeName;)a=a.parentElement;if(a){var c=document.createEvent("Event");c.initEvent("submit",!0,!0);a.dispatchEvent(c)}};b.focus=function(){return b._iframe.contentWindow.focus(),b};b.blur=function(){return b._iframe.blur(),b._iframe.contentWindow.blur(),Array.prototype.forEach.call(b._component.querySelectorAll("input"),function(a){return a.blur()}),b};b._sendMessage=function(a){return b._iframe.contentWindow&&b._loaded?b._iframe.contentWindow.postMessage(JSON.stringify(a),s.ORIGIN):b._queuedMessages=
[].concat(n(b._queuedMessages),[a]),b};var c=a.componentName,d=a.classes;return b._createComponent(a),b._componentName=c,b._classes=m({},y),b._queuedMessages=[],b._changeClasses(d),b._loaded=!1,b._lastBackgroundColor="",e(b,b)}return p(g,b),r(g,[{key:"mount",value:function(b){var c,d=void 0,e=Date.now();"string"==typeof b?(d=document.querySelectorAll(b),1<d.length&&q["default"].warn("The selector you specified ("+b+") applies to "+d.length+" visible DOM elements.\nThe Stripe element will be mounted to the first one."),
d=d[0]):b&&b.appendChild&&(d=b);if(!d)throw new h["default"]("The DOM element you specified does not exist");if("INPUT"===d.nodeName)throw new h["default"]("Stripe elements must be mounted in a DOM element that\ncan contain child nodes. `input` elements are not permitted to have child\nnodes. Try using a `div` or `span` element instead.");if(d.children.length&&q["default"].warn("Stripe element must be mounted in a DOM element does not contain child nodes."),d!==this._parent){if(this._parent)throw new h["default"]("This component has already been mounted");
for(this._parent=d;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(this._component);this._sendMessage({action:"stripe-mount",mountTime:e});this._findPossibleLabel();this.on("submit",this._formSubmit);(0,a.updateClasses)(d,(c={},f(c,this._classes.base,!0),f(c,this._classes.empty,!0),c))}}},{key:"_findPossibleLabel",value:function(){var a=this,b=this._parent;if(b){var c=b.getAttribute("id"),d=void 0;if(c&&(d=document.querySelector("label[for="+c+"]")),d)b.addEventListener("click",this.focus);
else for(d=d||b.parentElement;d&&"LABEL"!==d.nodeName;)d=d.parentElement;d?(this._label=d,d.addEventListener("click",function(b){a.focus();b.preventDefault()})):b.addEventListener("click",this.focus)}}},{key:"update",value:function(a){var b=(0,w["default"])(B.createOptions,a,{label:"option for `update()`"})||{},d=b.classes,b=c(b,["classes"]);return this._changeClasses(d),this._updateIFrameHeight(a),Object.keys(b).length&&this._sendMessage(m({action:"stripe-update"},b)),this}},{key:"unmount",value:function(){var b=
this._parent,c=this._label;if(b){var d;b.removeChild(this._component);b.removeEventListener("click",this.focus);(0,a.updateClasses)(b,(d={},f(d,this._classes.base,!1),f(d,this._classes.empty,!1),f(d,this._classes.focus,!1),f(d,this._classes.invalid,!1),f(d,this._classes.complete,!1),d));this._parent=null}return c&&(c.removeEventListener("click",this.focus),this._label=null),this}},{key:"_changeClasses",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={};return Object.keys(a).forEach(function(c){if(!y[c])throw new h["default"](c+
" is not a customizable class name.\nYou can customize: "+Object.keys(y).join(", "));b[c]=a[c].replace(/\./g," ")}),this._classes=m({},this._classes,b),this}},{key:"_receiveMessage",value:function(b){if(this._name!==b.element)return this;switch(b.event){case "redirectfocus":(b=(0,A["default"])(this._iframe,b.focusDirection))&&b.focus();break;case "focus":this._parent&&(0,a.updateClasses)(this._parent,f({},this._classes.focus,!0));this.emit("focus");break;case "blur":this._parent&&(0,a.updateClasses)(this._parent,
f({},this._classes.focus,!1));this.emit("blur");break;case "escape":this.emit("escape");break;case "load":this._loaded=!0;this._queuedMessages.forEach(this._sendMessage);this._queuedMessages=[];break;case "change":var c=b.error,d=b.empty,e=b.complete;if(this.emit("change",{error:c,brand:b.brand,value:b.value,empty:d,complete:e}),this._parent){var h;(0,a.updateClasses)(this._parent,(h={},f(h,this._classes.invalid,c),f(h,this._classes.empty,d),f(h,this._classes.complete,e),h))}break;case "submit":this.emit("submit");
break;case "autofill":this._parent&&(b=this._parent.style.backgroundColor,this._lastBackgroundColor="#faffbd"===b||"rgb(250, 255, 189)"===b?this._lastBackgroundColor:b,this._parent.style.backgroundColor="#faffbd",(0,a.updateClasses)(this._parent,f({},this._classes.webkitAutofill,!0)));break;case "autofill-cleared":this._parent&&(this._parent.style.backgroundColor=this._lastBackgroundColor,(0,a.updateClasses)(this._parent,f({},this._classes.webkitAutofill,!1)))}return this}},{key:"_createToken",value:function(a){return this._sendMessage(m({action:"stripe-create-token"},
a))}},{key:"_createComponent",value:function(a){var b=a.componentName,d=a.groupId,e=a.apiKey,f=(a.classes,c(a,["componentName","groupId","apiKey","classes"]));this._name="stripeField_"+b+"_"+d;b=(0,u["default"])(m({name:this._name,componentName:b,groupId:d,apiKey:e},f));d=b.iframe;this._component=b.component;this._iframe=d;this._updateIFrameHeight(a)}},{key:"_updateIFrameHeight",value:function(a){var b=a.style&&a.style.base||{};a=b.lineHeight;var b=b.fontSize,c=this._iframe.style.height;if(!c||a||
b){var e=(0,d["default"])(a||this._lastHeight,b||this._lastFontSize);c!==e&&(this._iframe.style.height=e);this._lastFontSize=b||this._lastFontSize;this._lastHeight=a||this._lastHeight}}}]),g}(b["default"]);l["default"]=k},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});l.createOptions=void 0;b=k(9);l.createOptions={classes:{base:b.string,complete:b.string,empty:b.string,focus:b.string,invalid:b.string,webkitAutofill:b.string},hidePostalCode:b.bool,hideIcon:b.bool,style:{base:b.object,
complete:b.object,empty:b.object,invalid:b.object,focus:b.object,hover:b.object},iconStyle:(0,b.oneOf)("solid","default"),value:(0,b.or)(b.string,b.object),__privateCvcOptional:b.bool,__privateValue:(0,b.or)(b.string,b.object),error:{type:b.string,code:b.string,decline_code:b.string},locale:(0,b.misuse)("elements()"),fonts:(0,b.misuse)("elements()")}},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});l.PRIVATE_INPUT_CLASSNAME=void 0;var g=(b=k(19))&&b.__esModule?b:{"default":b},c=l.PRIVATE_INPUT_CLASSNAME=
"__PrivateStripeElement-input";l["default"]=function(b){var k=document.createElement("div");k.className="__PrivateStripeElement";k.style.margin="0";k.style.padding="0";k.style.border="none";k.style.display="block";k.style.background="transparent";k.style.position="relative";k.style.opacity="1";var e=(0,g["default"])(b),l=document.createElement("input");return l.className=c,l.style.height="1px",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.border="none",l.style.padding="0",l.style.margin=
"0",l.style.display="block",l.style.width="100%",l.style.opacity="0",l.style.background="transparent",l.style.pointerEvents="none",l.setAttribute("aria-hidden","true"),l.disabled=!0,e.addEventListener("load",function(){l.disabled=!1}),l.addEventListener("focus",function(){e.contentWindow&&e.contentWindow.focus()}),k.appendChild(l),k.appendChild(e),k.appendChild(l),{component:k,iframe:e}}},function(b,l){Object.defineProperty(l,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};l.or=function(){for(var b=arguments.length,c=Array(b),f=0;f<b;f++)c[f]=arguments[f];return{check:function(b){return c.some(function(c){return c.check(b)})},description:"one of the following types: "+c.map(function(b){return b.description}).join(", ")}};l.oneOf=function(){for(var b=arguments.length,c=Array(b),f=0;f<b;f++)c[f]=arguments[f];return{check:function(b){return c.some(function(c){return c===
b})},description:"one of the following strings: "+c.join(", ")}};l.string={check:function(b){return"string"==typeof b},description:"a string"};l.bool={check:function(b){return"boolean"==typeof b},description:"true or false"};l.number={check:function(b){return"number"==typeof b},description:"a number"};l.object={check:function(b){return null!==b&&"object"===("undefined"==typeof b?"undefined":k(b))},description:"an object"};l.arrayOf=function(b){return{check:function(b){function f(f){return b.apply(this,
arguments)}return f.toString=function(){return b.toString()},f}(function(c){return!(!Array.isArray(c)||!c.every(function(c){return b.check(c)}))}),description:"an array of "+b.description}};l.misuse=function(b){return{check:function(b){return void 0===b},description:"used in "+b+" instead"}}},function(b,l){Object.defineProperty(l,"__esModule",{value:!0});var k=l.parseUrl=function(b){if(""===b)return{host:"",protocol:"",origin:""};var c=document.createElement("a");return c.href=b,{host:c.host,protocol:c.protocol,
origin:c.protocol+"//"+c.host}};l.isCrossDomain=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,f=k(b).host;return!!f&&f!==(c||window.location.host)}},function(b,l){(function(k){function g(b){p.length||e();p[p.length]=b}function c(){for(;m<p.length;){var b=m;if(m+=1,p[b].call(),m>r){for(var b=0,c=p.length-m;b<c;b++)p[b]=p[b+m];p.length-=m;m=0}}m=p.length=0}function f(b){var c=1;b=new s(b);var e=document.createTextNode("");return b.observe(e,{characterData:!0}),function(){c=
-c;e.data=c}}function l(b){return function(){function c(){clearTimeout(e);clearInterval(a);b()}var e=setTimeout(c,0),a=setInterval(c,50)}}b.exports=g;var e,p=[],m=0,r=1024;k="undefined"!=typeof k?k:self;var s=k.MutationObserver||k.WebKitMutationObserver;e="function"==typeof s?f(c):l(c);g.requestFlush=e;g.makeRequestCallFromTimer=l}).call(l,function(){return this}())},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});l.validate=function(b,e){if(!(b&&b in f.ELEMENT_SPEC))throw new c["default"]("A valid component name must be provided. Valid component names are:\n"+
Object.keys(f.ELEMENT_SPEC).join(", ")+"; you passed: "+b+".");if(f.ELEMENT_SPEC[b].unique&&-1!==e.indexOf(b))throw new c["default"]("Can only create one element of type "+b+".");var k=(0,g.stringsIntersection)(e,f.ELEMENT_SPEC[b].conflict);if(k.length)throw new c["default"]("Cannot create an element of type "+b+" after an element of type "+k[0]+" has already been created.");};var g=k(2),c=(b=k(1))&&b.__esModule?b:{"default":b},f=k(15)},function(b,l,k){function g(b){return b&&b.__esModule?b:{"default":b}}
Object.defineProperty(l,"__esModule",{value:!0});var c=Object.assign||function(b){for(var a=1;a<arguments.length;a++){var c=arguments[a],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(b[e]=c[e])}return b},f=function(){function b(a,c){for(var e=0;e<c.length;e++){var f=c[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,c,e){return c&&b(a.prototype,c),e&&b(a,e),a}}(),n=k(2);b=k(1);var e=g(b);b=k(3);var p=g(b);
b=k(5);var m=g(b),r=k(12),s=k(7);k=k(6);var v=g(k);k=function(){function b(a,c,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");return u.call(this),this._fields={},this._id=a,this._apiKey=c,p["default"].setApiKey(c),this._commonOptions=e,this}return f(b,[{key:"_registerSiblings",value:function(){var a=this,b=(0,n.mapValues)(this._fields,function(a){return a._componentName});Object.keys(this._fields).forEach(function(c){a._fields[c]._sendMessage({action:"stripe-sibling-register",
frames:b})})}}]),b}();var u=function(){var b=this;this.create=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=Object.keys(b._fields).map(function(a){return b._fields[a]._componentName});(0,r.validate)(a,e);d=(0,m["default"])(s.createOptions,d,{label:"option for `create()`"});d=new v["default"](c({},d,b._commonOptions,{componentName:a,groupId:b._id,apiKey:b._apiKey}));return b._fields[d._name]=d,b._registerSiblings(),d};this._proxyMessage=function(a){var c=b._fields[a.element];
if("stripe-integration-error"===a.action&&c)throw new e["default"](a.message);c&&c._receiveMessage(a)}};l["default"]=k},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});l.elementsOptions=void 0;b=k(9);l.elementsOptions={locale:b.string,fonts:(0,b.arrayOf)(b.object)}},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});l.FieldTypes=l.ELEMENT_SPEC=void 0;b=k(2);k=l.ELEMENT_SPEC={card:{unique:!0,conflict:["cardNumber","cardExpiry","cardCvc","postalCode"]},cardNumber:{unique:!0,
conflict:["card"]},cardExpiry:{unique:!0,conflict:["card"]},cardCvc:{unique:!0,conflict:["card"]},postalCode:{unique:!0,conflict:["card"]}};l.FieldTypes=(0,b.zipObject)(Object.keys(k),Object.keys(k))},function(b,l){Object.defineProperty(l,"__esModule",{value:!0});var k=function(){function b(c,g){for(var e=0;e<g.length;e++){var k=g[e];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(c,k.key,k)}}return function(f,g,e){return g&&b(f.prototype,g),e&&b(f,
e),f}}(),g=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._callbacks={};this.on=this.addListener=this.addEventListener;this.off=this.removeListener=this.removeEventListener}return k(b,[{key:"addEventListener",value:function(b,c){return this._addEventListener(b,c)}},{key:"_addEventListener",value:function(b,c,e){return this._callbacks[b]=this._callbacks[b]||[],this._callbacks[b].push({original:e,fn:c}),this}},{key:"removeEventListener",
value:function(b,c){if("undefined"==typeof c)delete this._callbacks[b];else for(var e=this._callbacks[b],g=void 0,k=0;k<e.length;k++)if(g=e[k],g.fn===c||g.original===c){e.splice(k,1);break}return this}},{key:"removeAllListeners",value:function(){return this._callbacks={},this}},{key:"once",value:function(b,c){var e=this,g=function r(){e.off(b,r);c.apply(void 0,arguments)};return g._original=c,this.on(b,g)}},{key:"emit",value:function(b){for(var c=arguments.length,e=Array(1<c?c-1:0),g=1;g<c;g++)e[g-
1]=arguments[g];return(this._callbacks[b]||[]).forEach(function(b){return b.fn.apply(void 0,e)}),this}}]),b}();l["default"]=g},function(b,l,k){function g(b,c){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?b:c}function c(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}function f(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(l,"__esModule",{value:!0});l.SafeFontSrcUrlString=l.SafeFontSrcFormatString=l.SafeFontStretchString=l.SafeFontStyleString=l.SafeFontWeightString=l.SafeFontVariantString=l.SafeFontUnicodeRangeString=l.SafeFontFamilyString=l.SafeStyleString=l.SafeString=void 0;var n=(b=k(1))&&
b.__esModule?b:{"default":b},e=l.SafeString=function m(b){if(f(this,m),"string"!=typeof b)throw new n["default"]("Invalid string: "+b+".");this.value=b};b=(l.SafeStyleString=function(b){function e(b){if(f(this,e),"string"!=typeof b)throw new n["default"]("Invalid style configuration value: "+b+". This value must be a string.");if(!b.match(/^[#a-zA-Z0-9-_\s,"'().]*$/))throw new n["default"]("Invalid style configuration value: "+b+". This value contains invalid characters.");return g(this,(e.__proto__||
Object.getPrototypeOf(e)).call(this,b))}return c(e,b),e}(e),function(b,k){return function(e){function l(c){if(f(this,l),"string"!=typeof c)throw new n["default"]("Invalid "+b+" value in font configuration: "+c+". This value must be a string.");if(!c.match(k))throw new n["default"]("Invalid "+b+" value in font configuration: "+c+". This value contains invalid characters.");return g(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c))}return c(l,e),l}(e)});k=(l.SafeFontFamilyString=b("family",
/^[-_a-zA-Z0-9\s'"]*$/),l.SafeFontUnicodeRangeString=b("unicodeRange",/^[-U+A-F0-9?, ]*$/),l.SafeFontVariantString=b("variant",/^[a-zA-Z0-9-()\s]*$/),/^[a-zA-Z0-9-]*$/);l.SafeFontWeightString=b("weight",k);l.SafeFontStyleString=b("style",k);l.SafeFontStretchString=b("stretch",k);l.SafeFontSrcFormatString=function(b){function e(b){f(this,e);if(!b.match(/^[-a-zA-Z0-9]*$/))throw new n["default"]("Invalid src value in font configuration value: "+b+". This value contains invalid characters.");return g(this,
(e.__proto__||Object.getPrototypeOf(e)).call(this,window.encodeURI(b)))}return c(e,b),e}(e);l.SafeFontSrcUrlString=function(b){function e(b){f(this,e);if(!b.match(/^("?'?https:\/\/)|data:/))throw new n["default"]("Invalid src value in font configuration: "+b+". URLs have to start with 'https://' or 'data:'.");if(!b.match(/^[#?&=;,a-zA-Z0-9-+_\/.:]*$/))throw new n["default"]("Invalid src value in font configuration value: "+b+". This value contains invalid characters.");return g(this,(e.__proto__||
Object.getPrototypeOf(e)).call(this,window.encodeURI(b)))}return c(e,b),e}(e);l["default"]=e},function(b,l){Object.defineProperty(l,"__esModule",{value:!0});l["default"]=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"1.2em",g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"14px";if(/^[0-9.]+px$/.test(b))return b;var c=parseFloat(g.toString().replace(/[^0-9.]/g,"")),b=parseFloat(b.toString().replace(/[^0-9.]/g,""));/^[0-9.]+px$/.test(g)||(c*=parseFloat("14px".replace(/[^0-9.]/g,
"")));g=b*c+"px";return/^[0-9.]+px$/.test(g)?g:"100%"}},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});var g=Object.assign||function(b){for(var c=1;c<arguments.length;c++){var f=arguments[c],g;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g])}return b},c=k(4),f=k(24),n=k(10);l["default"]=function(b){var k=b.name,l=["name"],r={},s;for(s in b)0<=l.indexOf(s)||Object.prototype.hasOwnProperty.call(b,s)&&(r[s]=b[s]);l=window.location.toString();k=(0,f.serialize)(g({frameId:k,
origin:(0,n.parseUrl)(l).origin,referrer:l},r));r=document.createElement("iframe");return r.setAttribute("frameborder","0"),r.setAttribute("allowTransparency","true"),r.setAttribute("scrolling","no"),r.setAttribute("name",b.name),r.style.border="none",r.style.margin="0",r.style.padding="0",r.style.width="1px",r.style.minWidth="100%",r.style.overflow="hidden",r.style.display="block",r.src=c.ELEMENTS_INNER_URL+"#"+k,r}},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});var g=k(2),c=k(8);
l["default"]=function(b,k){for(var e=document.querySelectorAll("a[href], area[href], input:not([disabled]),\n  select:not([disabled]), textarea:not([disabled]), button:not([disabled]),\n  iframe, object, embed, *[tabindex], *[contenteditable]"),l=(0,g.findIndex)(e,function(c){return c===b}),m="previous"===k?-1:1,r=m,s=e[l+r];s&&-1!==s.className.indexOf(c.PRIVATE_INPUT_CLASSNAME);)r+=m,s=e[l+r];return s&&s.contentWindow?s.contentWindow:s}},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});
l.updateClasses=void 0;var g=(b=k(26))&&b.__esModule?b:{"default":b};l.updateClasses=function(b,f){var k={};Object.keys(f).forEach(function(b){b.split(/\s+/).forEach(function(c){c&&(k[c]=f[b])})});b.className=(0,g["default"])(b.className,k)}},function(b,l){Object.defineProperty(l,"__esModule",{value:!0});var k=0;l.nextId=function(b){return""+b+k++}},function(b,l,k){Object.defineProperty(l,"__esModule",{value:!0});b=(b=k(28))&&b.__esModule?b:{"default":b};l["default"]=window.Promise||b["default"]},
function(b,l){function k(b){if(Array.isArray(b)){for(var f=0,g=Array(b.length);f<b.length;f++)g[f]=b[f];return g}return Array.from(b)}Object.defineProperty(l,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};l.serialize=function f(b,e){var l=[];return Object.keys(b).forEach(function(m){var r=b[m];m=e?e+"["+m+"]":m;"object"===
("undefined"==typeof r?"undefined":g(r))?(r=f(r,m),""!==r&&(l=[].concat(k(l),[r]))):void 0!==r&&(l=[].concat(k(l),[m+"="+encodeURIComponent(r)]))}),l.join("&").replace(/%20/g,"+")};l.deserialize=function(b){var g={};return b.replace(/\+/g," ").split("&").forEach(function(b,f){var k=b.split("="),l=decodeURIComponent(k[0]),s=void 0,v=g,u=0,A=l.split("]["),a=A.length-1;if(/\[/.test(A[0])&&/\]$/.test(A[a])?(A[a]=A[a].replace(/\]$/,""),A=A.shift().split("[").concat(A),a=A.length-1):a=0,2===k.length)if(s=
decodeURIComponent(k[1]),a)for(;u<=a;u++)l=""===A[u]?v.length:A[u],v[l]=u<a?v[l]||(A[u+1]&&isNaN(A[u+1])?{}:[]):s,v=v[l];else Array.isArray(g[l])?g[l].push(s):void 0!==g[l]?g[l]=[g[l],s]:g[l]=s;else l&&(g[l]="")}),g}},function(b,l,k){function g(a){return a&&a.__esModule?a:{"default":a}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=Object.assign||
function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},n=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();l=k(13);var e=g(l);l=k(6);var p=g(l),m=k(14),r=k(22);l=k(3);var s=g(l);l=k(23);var v=g(l);l=k(1);var u=g(l);l=k(5);
var A=g(l),a=k(4),d=function(){function b(a){var c=this;a=a.apiKey;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this.elements=function(a){var b=null;a&&(b=(0,A["default"])(m.elementsOptions,a,{label:"option for `elements()`"}));a=(0,r.nextId)("element");b=new e["default"](a,c._apiKey,b);return c._componentGroups[a]=b,b},this.createToken=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(a instanceof p["default"]))throw new u["default"]("You must pass a Stripe element to createToken. You passed: "+
a);if(c._requests[a._name])return c._requests[a._name].promise;var d=(0,r.nextId)("nonce"),e=new v["default"](function(b,d){c._requests[a._name]=f({},c._requests[a._name],{resolve:b,reject:d})});return c._requests[a._name]=f({},c._requests[a._name],{promise:e,nonce:d}),a._createToken({data:b,apiKey:c._apiKey,referrer:window.location.toString(),nonce:d}),e},!a)throw new u["default"]("Please specify a publishable key.");if(0===a.indexOf("sk_"))throw new u["default"]("You should not use your secret key with Stripe.js.\n        Please pass a publishable key instead.");
s["default"].setApiKey(a);this._apiKey=a;this._requests={};this._componentGroups={};this._setupListeners()}return n(b,[{key:"_setupListeners",value:function(){var b=this;window.addEventListener("message",function(d){var e=d.data;if(0===a.ORIGIN.indexOf(d.origin)){d=e;if("object"!==("undefined"==typeof e?"undefined":c(e)))try{d=JSON.parse(e)}catch(f){return}if(d.__stripeJsV3){var e=b._requests[d.element],h=b._componentGroups[d.groupId];switch(d.action){case "stripe-fieldevent":h&&h._proxyMessage(d);
break;case "stripe-token":e&&e.nonce===d.nonce&&(e.resolve({token:d.token}),delete b._requests[d.element]);break;case "stripe-error":e&&e.nonce===d.nonce&&(e.resolve({error:d.error}),delete b._requests[d.element]);break;case "stripe-integration-error":e&&e.nonce===d.nonce?(e.reject(new u["default"](d.message)),delete b._requests[d.element]):h&&h._proxyMessage(d)}}}})}}]),b}();d.version=3;k=function(a){return new d({apiKey:a})};k.version=d.version;window.Stripe&&2===window.Stripe.version?window.Stripe.StripeV3=
k:window.Stripe=k;b.exports=k},function(b,l,k){var g,c;!function(){var f=function(){function b(){}function c(b,k){for(var l=k.length,n=0;n<l;++n){var A=b,a=k[n];if(a){var d=typeof a;if("string"===d)for(var a=a.split(g),d=a.length,h=0;h<d;++h)A[a[h]]=!0;else if(Array.isArray(a))c(A,a);else if("object"===d)for(d in d=void 0,a)f.call(a,d)&&(A[d]=!!a[d]);else"number"===d&&(A[a]=!0)}}}b.prototype=Object.create(null);var f={}.hasOwnProperty,g=/\s+/;return function(){for(var f=arguments.length,g=Array(f),
k=0;k<f;k++)g[k]=arguments[k];f=new b;c(f,g);var g=[],l;for(l in f)f[l]&&g.push(l);return g.join(" ")}}();"undefined"!=typeof b&&b.exports?b.exports=f:(g=[],c=function(){return f}.apply(l,g),!(void 0!==c&&(b.exports=c)))}()},function(b,l,k){function g(){}function c(b,c,e){try{b(c,e)}catch(f){return a=f,d}}function f(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._81=this._45=0;this._54=this._65=
null;a!==g&&u(a,this)}function n(a,b,c){return new a.constructor(function(d,k){var l=new f(g);l.then(d,k);e(a,new v(b,c,l))})}function e(a,b){for(;3===a._81;)a=a._65;return f._10&&f._10(a),0===a._81?0===a._45?(a._45=1,void(a._54=b)):1===a._45?(a._45=2,void(a._54=[a._54,b])):void a._54.push(b):void p(a,b)}function p(b,c){A(function(){var e=1===b._81?c.onFulfilled:c.onRejected;if(null===e)return void(1===b._81?m(c.promise,b._65):r(c.promise,b._65));var f;try{f=e(b._65)}catch(g){f=(a=g,d)}f===d?r(c.promise,
a):m(c.promise,f)})}function m(b,c){if(c===b)return r(b,new TypeError("A promise cannot be resolved with itself."));if(c&&("object"==typeof c||"function"==typeof c)){var e;try{e=c.then}catch(g){e=(a=g,d)}if(e===d)return r(b,a);if(e===b.then&&c instanceof f)return b._81=3,b._65=c,void s(b);if("function"==typeof e)return void u(e.bind(c),b)}b._81=1;b._65=c;s(b)}function r(a,b){a._81=2;a._65=b;f._97&&f._97(a,b);s(a)}function s(a){if(1===a._45&&(e(a,a._54),a._54=null),2===a._45){for(var b=0;b<a._54.length;b++)e(a,
a._54[b]);a._54=null}}function v(a,b,c){this.onFulfilled="function"==typeof a?a:null;this.onRejected="function"==typeof b?b:null;this.promise=c}function u(b,e){var f=!1,g=c(b,function(a){f||(f=!0,m(e,a))},function(a){f||(f=!0,r(e,a))});f||g!==d||(f=!0,r(e,a))}var A=k(11),a=null,d={};b.exports=f;f._10=null;f._97=null;f._61=g;f.prototype.then=function(a,b){if(this.constructor!==f)return n(this,a,b);var c=new f(g);return e(this,new v(a,b,c)),c}},function(b,l,k){function g(b){var e=new c(c._61);return e._81=
1,e._65=b,e}var c=k(27);b.exports=c;var f=g(!0),n=g(!1),e=g(null),p=g(void 0),m=g(0),r=g("");c.resolve=function(b){if(b instanceof c)return b;if(null===b)return e;if(void 0===b)return p;if(!0===b)return f;if(!1===b)return n;if(0===b)return m;if(""===b)return r;if("object"==typeof b||"function"==typeof b)try{var k=b.then;if("function"==typeof k)return new c(k.bind(b))}catch(l){return new c(function(b,a){a(l)})}return g(b)};c.all=function(b){var e=Array.prototype.slice.call(b);return new c(function(b,
f){function a(g,h){if(h&&("object"==typeof h||"function"==typeof h)){if(h instanceof c&&h.then===c.prototype.then){for(;3===h._81;)h=h._65;return 1===h._81?a(g,h._65):(2===h._81&&f(h._65),void h.then(function(b){a(g,b)},f))}var k=h.then;if("function"==typeof k)return void(new c(k.bind(h))).then(function(b){a(g,b)},f)}e[g]=h;0===--d&&b(e)}if(0===e.length)return b([]);for(var d=e.length,g=0;g<e.length;g++)a(g,e[g])})};c.reject=function(b){return new c(function(c,e){e(b)})};c.race=function(b){return new c(function(e,
f){b.forEach(function(b){c.resolve(b).then(e,f)})})};c.prototype["catch"]=function(b){return this.then(null,b)}}]);
(function(b,l){"function"===typeof define&&define.amd?define(["d3"],function(k){return b.Rickshaw=l(k)}):"object"===typeof exports?module.exports=l(require("d3")):b.Rickshaw=l(d3)})(this,function(b){var l={namespace:function(b,g){for(var c=b.split("."),f=l,n=1,e=c.length;n<e;n++){var p=c[n];f[p]=f[p]||{};f=f[p]}return f},keys:function(b){var g=[],c;for(c in b)g.push(c);return g},extend:function(b,g){for(var c in g)b[c]=g[c];return b},clone:function(b){return JSON.parse(JSON.stringify(b))}};(function(b){function g(a,
b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a){if(f(a)!==d)throw new TypeError;var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function f(b){switch(b){case null:return s;case void 0:return v}switch(typeof b){case "boolean":return u;case "number":return A;case "string":return a}return d}function l(a){a=a.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=a.length||
a[0]?a:[]}function e(a,b){return function(){var c=p([m(a,this)],arguments);return b.apply(this,c)}}function p(a,b){for(var c=a.length,d=b.length;d--;)a[c+d]=b[d];return a}function m(a,b){if(2>arguments.length&&"undefined"===typeof arguments[0])return this;var c=a,d=h.call(arguments,2);return function(){var a;a=d;var e=arguments;a=h.call(a,0);a=p(a,e);return c.apply(b,a)}}var r=Object.prototype.toString,s="Null",v="Undefined",u="Boolean",A="Number",a="String",d="Object",h=Array.prototype.slice,q=function(){},
w=function(){function a(){}var b=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}();return{create:function(){function b(){this.initialize.apply(this,arguments)}var c=null,d=[].slice.apply(arguments);"[object Function]"===r.call(d[0])&&(c=d.shift());g(b,w.Methods);b.superclass=c;b.subclasses=[];if(c){a.prototype=c.prototype;b.prototype=new a;try{c.subclasses.push(b)}catch(e){}}for(var c=0,f=d.length;c<f;c++)b.addMethods(d[c]);b.prototype.initialize||(b.prototype.initialize=
q);return b.prototype.constructor=b},Methods:{addMethods:function(a){var d=this.superclass&&this.superclass.prototype,f=c(a);b&&(a.toString!=Object.prototype.toString&&f.push("toString"),a.valueOf!=Object.prototype.valueOf&&f.push("valueOf"));for(var g=0,h=f.length;g<h;g++){var k=f[g],p=a[k];if(d&&"[object Function]"===r.call(p)&&"$super"==l(p)[0]){var q=p,p=e(function(a){return function(){return d[a].apply(this,arguments)}}(k),q);p.valueOf=m(q.valueOf,q);p.toString=m(q.toString,q)}this.prototype[k]=
p}return this}}}}();b.exports?b.exports.Class=w:b.Class=w})(l);l.namespace("Rickshaw.Compat.ClassList");l.Compat.ClassList=function(){"undefined"===typeof document||"classList"in document.createElement("a")||function(b){b=(b.HTMLElement||b.Element).prototype;var g=Object,c=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array.prototype.indexOf||function(b){for(var c=0,e=this.length;c<e;c++)if(c in this&&this[c]===b)return c;return-1},l=function(b,c){this.name=b;this.code=
DOMException[b];this.message=c},e=function(b,c){if(""===c)throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(c))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return f.call(b,c)},p=function(b){for(var e=c.call(b.className),e=e?e.split(/\s+/):[],f=0,a=e.length;f<a;f++)this.push(e[f]);this._updateClassName=function(){b.className=this.toString()}},m=p.prototype=[],r=function(){return new p(this)};l.prototype=Error.prototype;m.item=function(b){return this[b]||
null};m.contains=function(b){return-1!==e(this,b+"")};m.add=function(b){b+="";-1===e(this,b)&&(this.push(b),this._updateClassName())};m.remove=function(b){b=e(this,b+"");-1!==b&&(this.splice(b,1),this._updateClassName())};m.toggle=function(b){b+="";-1===e(this,b)?this.add(b):this.remove(b)};m.toString=function(){return this.join(" ")};if(g.defineProperty){m={get:r,enumerable:!0,configurable:!0};try{g.defineProperty(b,"classList",m)}catch(s){-2146823252===s.number&&(m.enumerable=!1,g.defineProperty(b,
"classList",m))}}else g.prototype.__defineGetter__&&b.__defineGetter__("classList",r)}(window)};("undefined"!==typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"===typeof RICKSHAW_NO_COMPAT)&&new l.Compat.ClassList;l.namespace("Rickshaw.Graph");l.Graph=function(k){var g=this;this.initialize=function(c){if(!c.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==c.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=c.element;this.series=
c.series;this.window={};this.updateCallbacks=[];this.configureCallbacks=[];this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0};this._loadRenderers();this.configure(c);this.validateSeries(c.series);this.series.active=function(){return g.series.filter(function(b){return!b.disabled})};this.setSize({width:c.width,height:c.height});this.element.classList.add("rickshaw_graph");this.vis=b.select(this.element).append("svg:svg").attr("width",
this.width).attr("height",this.height);this.discoverRange()};this._loadRenderers=function(){for(var b in l.Graph.Renderer)if(b&&l.Graph.Renderer.hasOwnProperty(b)){var f=l.Graph.Renderer[b];f&&f.prototype&&f.prototype.render&&g.registerRenderer(new f({graph:g}))}};this.validateSeries=function(b){if(!(Array.isArray(b)||b instanceof l.Series))throw"series is not an array: "+Object.prototype.toString.apply(b);b.forEach(function(b){if(!(b instanceof Object))throw"series element is not an object: "+b;
if(!b.data)throw"series has no data: "+JSON.stringify(b);if(!Array.isArray(b.data))throw"series data is not an array: "+JSON.stringify(b.data);if(0<b.data.length){var c=b.data[0].x,e=b.data[0].y;if("number"!=typeof c||"number"!=typeof e&&null!==e)throw"x and y properties of points should be numbers instead of "+typeof c+" and "+typeof e;}if(3<=b.data.length&&(b.data[2].x<b.data[1].x||b.data[1].x<b.data[0].x||b.data[b.data.length-1].x<b.data[0].x))throw"series data needs to be sorted on x values for series name: "+
b.name;},this)};this.dataDomain=function(){var c=this.series.map(function(b){return b.data}),f=b.min(c.map(function(b){return b[0].x})),c=b.max(c.map(function(b){return b[b.length-1].x}));return[f,c]};this.discoverRange=function(){var c=this.renderer.domain();this.x=(this.xScale||b.scale.linear()).copy().domain(c.x).range([0,this.width]);this.y=(this.yScale||b.scale.linear()).copy().domain(c.y).range([this.height,0]);this.x.magnitude=b.scale.linear().domain([c.x[0]-c.x[0],c.x[1]-c.x[0]]).range([0,
this.width]);this.y.magnitude=b.scale.linear().domain([c.y[0]-c.y[0],c.y[1]-c.y[0]]).range([0,this.height])};this.update=this.render=function(){this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(b){b()})};this.stackData=function(){var c=this.series.active().map(function(b){return b.data}).map(function(b){return b.filter(function(b){return this._slice(b)},this)},this),f=this.preserve;f||this.series.forEach(function(b){b.scale&&(f=!0)});c=f?l.clone(c):
c;this.series.active().forEach(function(b,e){if(b.scale){var f=c[e];f&&f.forEach(function(c){c.y=b.scale(c.y)})}});this.stackData.hooks.data.forEach(function(b){c=b.f.apply(g,[c])});var k;if(!this.renderer.unstack){this._validateStackable();var e=b.layout.stack();e.offset(g.offset);k=e(c)}k=k||c;this.renderer.unstack&&k.forEach(function(b){b.forEach(function(b){b.y0=void 0===b.y0?0:b.y0})});this.stackData.hooks.after.forEach(function(b){k=b.f.apply(g,[c])});var p=0;this.series.forEach(function(b){b.disabled||
(b.stack=k[p++])});return this.stackedData=k};this._validateStackable=function(){var b;this.series.forEach(function(f){if((b=b||f.data.length)&&f.data.length!=b)throw"stacked series cannot have differing numbers of points: "+b+" vs "+f.data.length+"; see Rickshaw.Series.fill()";},this)};this.stackData.hooks={data:[],after:[]};this._slice=function(b){if(this.window.xMin||this.window.xMax){var f=!0;this.window.xMin&&b.x<this.window.xMin&&(f=!1);this.window.xMax&&b.x>this.window.xMax&&(f=!1);return f}return!0};
this.onUpdate=function(b){this.updateCallbacks.push(b)};this.onConfigure=function(b){this.configureCallbacks.push(b)};this.registerRenderer=function(b){this._renderers=this._renderers||{};this._renderers[b.name]=b};this.configure=function(b){this.config=this.config||{};(b.width||b.height)&&this.setSize(b);l.keys(this.defaults).forEach(function(f){this.config[f]=f in b?b[f]:f in this?this[f]:this.defaults[f]},this);l.keys(this.config).forEach(function(b){this[b]=this.config[b]},this);"stack"in b&&
(b.unstack=!b.stack);this.setRenderer(b.renderer||this.renderer&&this.renderer.name||"stack",b);this.configureCallbacks.forEach(function(f){f(b)})};this.setRenderer=function(b,f){if("function"==typeof b)this.renderer=new b({graph:g}),this.registerRenderer(this.renderer);else{if(!this._renderers[b])throw"couldn't find renderer "+b;this.renderer=this._renderers[b]}"object"==typeof f&&this.renderer.configure(f)};this.setSize=function(b){b=b||{};if(void 0!==typeof window)var f=window.getComputedStyle(this.element,
null),g=parseInt(f.getPropertyValue("width"),10),f=parseInt(f.getPropertyValue("height"),10);this.width=b.width||g||400;this.height=b.height||f||250;this.vis&&this.vis.attr("width",this.width).attr("height",this.height)};this.initialize(k)};l.namespace("Rickshaw.Fixtures.Color");l.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14="#ecb796 #dc8f70 #b2a470 #92875a #716c49 #d2ed82 #bbe468 #a1d05d #e7cbe6 #d8aad6 #a888c2 #9dc2d3 #649eb9 #387aa3".split(" ").reverse();this.schemes.spectrum2000=
"#57306f #514c76 #646583 #738394 #6b9c7d #84b665 #a7ca50 #bfe746 #e2f528 #fff726 #ecdd00 #d4b11d #de8800 #de4800 #c91515 #9a0000 #7b0429 #580839 #31082b".split(" ");this.schemes.spectrum2001="#2f243f #3c2c55 #4a3768 #565270 #6b6b7c #72957f #86ad6e #a1bc5e #b8d954 #d3e04e #ccad2a #cc8412 #c1521d #ad3821 #8a1010 #681717 #531e1e #3d1818 #320a1b".split(" ");this.schemes.classic9="#423d4f #4a6860 #848f39 #a2b73c #ddcb53 #c5a32f #7d5836 #963b20 #7c2626 #491d37 #2f254a".split(" ").reverse();this.schemes.httpStatus=
{503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel="#b5b6a9 #858772 #785f43 #96557e #4682b4 #65b9ac #73c03a #cb513a".split(" ").reverse();this.schemes.cool="#5e9d2f #73c03a #4682b4 #7bc3b8 #a9884e #c1b266 #a47493 #c09fb5".split(" ");
this.schemes.munin="#00cc00 #0066b3 #ff8000 #ffcc00 #330099 #990099 #ccff00 #ff0000 #808080 #008f00 #00487d #b35a00 #b38f00 #6b006b #8fb300 #b30000 #bebebe #80ff80 #80c9ff #ffc080 #ffe680 #aa80ff #ee00cc #ff8080 #666600 #ffbfff #00ffcc #cc6699 #999900".split(" ")};l.namespace("Rickshaw.Fixtures.RandomData");l.Fixtures.RandomData=function(b){b=b||1;var g=200,c=Math.floor((new Date).getTime()/1E3);this.addData=function(f){var l=100*Math.random()+15+g,e=f[0].length,p=1;f.forEach(function(f){var g=20*
Math.random(),s=l/25+p++ +15*(Math.cos(11*e*p/960)+2)+7*(Math.cos(e/7)+2)+1*(Math.cos(e/17)+2);f.push({x:e*b+c,y:s+g})});g=0.85*l};this.removeData=function(f){f.forEach(function(b){b.shift()});c+=b}};l.namespace("Rickshaw.Fixtures.Time");l.Fixtures.Time=function(){var k=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(b){return 10*parseInt(b.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(b){return b.getUTCFullYear()}},
{name:"month",seconds:2635200,formatter:function(b){return k.months[b.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(b){return k.formatDate(b)}},{name:"day",seconds:86400,formatter:function(b){return b.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(b){return k.formatTime(b)}},{name:"hour",seconds:3600,formatter:function(b){return k.formatTime(b)}},{name:"15 minute",seconds:900,formatter:function(b){return k.formatTime(b)}},{name:"minute",seconds:60,formatter:function(b){return b.getUTCMinutes()}},
{name:"15 second",seconds:15,formatter:function(b){return b.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(b){return b.getUTCSeconds()+"s"}},{name:"decisecond",seconds:0.1,formatter:function(b){return b.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:0.01,formatter:function(b){return b.getUTCMilliseconds()+"ms"}}];this.unit=function(b){return this.units.filter(function(c){return b==c.name}).shift()};this.formatDate=function(g){return b.time.format("%b %e")(g)};this.formatTime=
function(b){return b.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(b,c){var f,k;if("month"==c.name){f=new Date(1E3*b);k=Date.UTC(f.getUTCFullYear(),f.getUTCMonth())/1E3;if(k==b)return b;k=f.getUTCFullYear();f=f.getUTCMonth();11==f?(f=0,k+=1):f+=1;return Date.UTC(k,f)/1E3}if("year"==c.name){f=new Date(1E3*b);k=Date.UTC(f.getUTCFullYear(),0)/1E3;if(k==b)return b;k=f.getUTCFullYear()+1;return Date.UTC(k,0)/1E3}return Math.ceil(b/c.seconds)*c.seconds}};l.namespace("Rickshaw.Fixtures.Time.Local");
l.Fixtures.Time.Local=function(){var k=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(b){return 10*parseInt(b.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(b){return b.getFullYear()}},{name:"month",seconds:2635200,formatter:function(b){return k.months[b.getMonth()]}},{name:"week",seconds:604800,formatter:function(b){return k.formatDate(b)}},{name:"day",seconds:86400,formatter:function(b){return b.getDate()}},
{name:"6 hour",seconds:21600,formatter:function(b){return k.formatTime(b)}},{name:"hour",seconds:3600,formatter:function(b){return k.formatTime(b)}},{name:"15 minute",seconds:900,formatter:function(b){return k.formatTime(b)}},{name:"minute",seconds:60,formatter:function(b){return b.getMinutes()}},{name:"15 second",seconds:15,formatter:function(b){return b.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(b){return b.getSeconds()+"s"}},{name:"decisecond",seconds:0.1,formatter:function(b){return b.getMilliseconds()+
"ms"}},{name:"centisecond",seconds:0.01,formatter:function(b){return b.getMilliseconds()+"ms"}}];this.unit=function(b){return this.units.filter(function(c){return b==c.name}).shift()};this.formatDate=function(g){return b.time.format("%b %e")(g)};this.formatTime=function(b){return b.toString().match(/(\d+:\d+):/)[1]};this.ceil=function(b,c){var f,k;if("day"==c.name)return f=new Date(1E3*(b+c.seconds-1)),k=new Date(0),k.setMilliseconds(0),k.setSeconds(0),k.setMinutes(0),k.setHours(0),k.setDate(f.getDate()),
k.setMonth(f.getMonth()),k.setFullYear(f.getFullYear()),k.getTime()/1E3;if("month"==c.name){f=new Date(1E3*b);k=(new Date(f.getFullYear(),f.getMonth())).getTime()/1E3;if(k==b)return b;k=f.getFullYear();f=f.getMonth();11==f?(f=0,k+=1):f+=1;return(new Date(k,f)).getTime()/1E3}if("year"==c.name){f=new Date(1E3*b);k=(new Date(f.getUTCFullYear(),0)).getTime()/1E3;if(k==b)return b;k=f.getFullYear()+1;return(new Date(k,0)).getTime()/1E3}return Math.ceil(b/c.seconds)*c.seconds}};l.namespace("Rickshaw.Fixtures.Number");
l.Fixtures.Number.formatKMBT=function(b){var g=Math.abs(b);return 1E12<=g?b/1E12+"T":1E9<=g?b/1E9+"B":1E6<=g?b/1E6+"M":1E3<=g?b/1E3+"K":1>g&&0<b?b.toFixed(2):0===g?"":b};l.Fixtures.Number.formatBase1024KMGTP=function(b){var g=Math.abs(b);return 0x4000000000000<=g?b/0x4000000000000+"P":1099511627776<=g?b/1099511627776+"T":1073741824<=g?b/1073741824+"G":1048576<=g?b/1048576+"M":1024<=g?b/1024+"K":1>g&&0<b?b.toFixed(2):0===g?"":b};l.namespace("Rickshaw.Color.Palette");l.Color.Palette=function(k){var g=
new l.Fixtures.Color;k=k||{};this.schemes={};this.scheme=g.schemes[k.scheme]||k.scheme||g.schemes.colorwheel;this.generatorIndex=this.runningIndex=0;if(k.interpolatedStopCount){var g=this.scheme.length-1,c,f,n=[];for(c=0;c<g;c++){n.push(this.scheme[c]);var e=b.interpolateHsl(this.scheme[c],this.scheme[c+1]);for(f=1;f<k.interpolatedStopCount;f++)n.push(e(1/k.interpolatedStopCount*f))}n.push(this.scheme[this.scheme.length-1]);this.scheme=n}this.rotateCount=this.scheme.length;this.color=function(b){return this.scheme[b]||
this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(Array.isArray(this.scheme)){var c;this.generatorIndex==2*this.rotateCount-1?(c=b.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(0.5),this.generatorIndex=0,this.rotateCount*=2):(c=b.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(0.5),this.generatorIndex++);this.scheme.push(c);return c}}};l.namespace("Rickshaw.Graph.Ajax");l.Graph.Ajax=l.Class.create({initialize:function(b){this.dataURL=
b.dataURL;this.onData=b.onData||function(b){return b};this.onComplete=b.onComplete||function(){};this.onError=b.onError||function(){};this.args=b;this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(b,g){b=this.onData(b);this.args.series=this._splice({data:b,series:this.args.series});this.graph=this.graph||
new l.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(b){var g=b.data,c=b.series;if(!b.series)return g;c.forEach(function(b){var c=b.key||b.name;if(!c)throw"series needs a key or a name";g.forEach(function(e){var g=e.key||e.name;if(!g)throw"data needs a key or a name";c==g&&["color","name","data"].forEach(function(c){e[c]&&(b[c]=e[c])})})});return c}});l.namespace("Rickshaw.Graph.Annotate");l.Graph.Annotate=function(b){this.graph=b.graph;this.elements={timeline:b.element};
var g=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(b,f,k){g.data[b]=g.data[b]||{boxes:[]};g.data[b].boxes.push({content:f,end:k})};this.update=function(){l.keys(g.data).forEach(function(b){var f=g.data[b],k=g.graph.x(b);if(0>k||k>g.graph.x.range()[1])f.element&&(f.line.classList.add("offscreen"),f.element.style.display="none"),f.boxes.forEach(function(b){b.rangeElement&&b.rangeElement.classList.add("offscreen")});else{if(!f.element){var e=
f.element=document.createElement("div");e.classList.add("annotation");this.elements.timeline.appendChild(e);e.addEventListener("click",function(b){e.classList.toggle("active");f.line.classList.toggle("active");f.boxes.forEach(function(b){b.rangeElement&&b.rangeElement.classList.toggle("active")})},!1)}f.element.style.left=k+"px";f.element.style.display="block";f.boxes.forEach(function(b){var c=b.element;c||(c=b.element=document.createElement("div"),c.classList.add("content"),c.innerHTML=b.content,
f.element.appendChild(c),f.line=document.createElement("div"),f.line.classList.add("annotation_line"),g.graph.element.appendChild(f.line),b.end&&(b.rangeElement=document.createElement("div"),b.rangeElement.classList.add("annotation_range"),g.graph.element.appendChild(b.rangeElement)));if(b.end){var c=k,e=Math.min(g.graph.x(b.end),g.graph.x.range()[1]);c>e&&(e=k,c=Math.max(g.graph.x(b.end),g.graph.x.range()[0]));b.rangeElement.style.left=c+"px";b.rangeElement.style.width=e-c+"px";b.rangeElement.classList.remove("offscreen")}f.line.classList.remove("offscreen");
f.line.style.left=k+"px"})}},this)};this.graph.onUpdate(function(){g.update()})};l.namespace("Rickshaw.Graph.Axis.Time");l.Graph.Axis.Time=function(b){var g=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;var c=b.timeFixture||new l.Fixtures.Time;this.appropriateTimeUnit=function(){var b,g=c.units,e=this.graph.x.domain(),k=e[1]-e[0];g.forEach(function(c){2<=Math.floor(k/c.seconds)&&(b=b||c)});return b||c.units[c.units.length-1]};
this.tickOffsets=function(){for(var b=this.graph.x.domain(),g=this.fixedTimeUnit||this.appropriateTimeUnit(),e=Math.ceil((b[1]-b[0])/g.seconds),b=b[0],k=[],l=0;l<e;l++){var r=c.ceil(b,g),b=r+g.seconds/2;k.push({value:r,unit:g})}return k};this.render=function(){this.elements.forEach(function(b){b.parentNode.removeChild(b)});this.elements=[];this.tickOffsets().forEach(function(b){if(!(g.graph.x(b.value)>g.graph.x.range()[1])){var c=document.createElement("div");c.style.left=g.graph.x(b.value)+"px";
c.classList.add("x_tick");c.classList.add(g.ticksTreatment);var e=document.createElement("div");e.classList.add("title");e.innerHTML=b.unit.formatter(new Date(1E3*b.value));c.appendChild(e);g.graph.element.appendChild(c);g.elements.push(c)}})};this.graph.onUpdate(function(){g.render()})};l.namespace("Rickshaw.Graph.Axis.X");l.Graph.Axis.X=function(k){var g=this;this.initialize=function(c){this.graph=c.graph;this.orientation=c.orientation||"top";this.pixelsPerTick=c.pixelsPerTick||75;c.ticks&&(this.staticTicks=
c.ticks);c.tickValues&&(this.tickValues=c.tickValues);this.tickSize=c.tickSize||4;this.ticksTreatment=c.ticksTreatment||"plain";c.element?(this.element=c.element,this._discoverSize(c.element,c),this.vis=b.select(c.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:c.width,height:c.height})):this.vis=this.graph.vis;this.graph.onUpdate(function(){g.render()})};
this.setSize=function(b){b=b||{};this.element&&(this._discoverSize(this.element.parentNode,b),this.vis.attr("height",this.height).attr("width",1.1*this.width),this.element.style.left=-1*Math.floor(0.1*this.width/2)+"px")};this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var c=b.svg.axis().scale(this.graph.x).orient(this.orientation);c.tickFormat(k.tickFormat||function(b){return b});this.tickValues&&c.tickValues(this.tickValues);this.ticks=
this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var f=Math.floor(0.1*this.width/2)||0,f="top"==this.orientation?"translate("+f+","+(this.height||this.graph.height)+")":"translate("+f+", 0)";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",f).call(c.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));f=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class",
"x_grid_d3").call(c.ticks(this.ticks).tickSubdivide(0).tickSize(f)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)});this._renderHeight=this.graph.height};this._discoverSize=function(b,f){if("undefined"!==typeof window){var g=window.getComputedStyle(b,null),e=parseInt(g.getPropertyValue("height"),10);if(!f.auto)var k=parseInt(g.getPropertyValue("width"),10)}this.width=1.1*(f.width||k||this.graph.width);this.height=f.height||e||40};this.initialize(k)};
l.namespace("Rickshaw.Graph.Axis.Y");l.Graph.Axis.Y=l.Class.create({initialize:function(k){this.graph=k.graph;this.orientation=k.orientation||"right";this.pixelsPerTick=k.pixelsPerTick||75;k.ticks&&(this.staticTicks=k.ticks);k.tickValues&&(this.tickValues=k.tickValues);this.tickSize=k.tickSize||4;this.ticksTreatment=k.ticksTreatment||"plain";this.tickFormat=k.tickFormat||function(b){return b};this.berthRate=0.1;k.element?(this.element=k.element,this.vis=b.select(k.element).append("svg:svg").attr("class",
"rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:k.width,height:k.height})):this.vis=this.graph.vis;var g=this;this.graph.onUpdate(function(){g.render()})},setSize:function(b){b=b||{};if(this.element){if("undefined"!==typeof window){var g=window.getComputedStyle(this.element.parentNode,null),c=parseInt(g.getPropertyValue("width"),10);if(!b.auto)var f=parseInt(g.getPropertyValue("height"),10)}this.width=b.width||c||this.graph.width*this.berthRate;
this.height=b.height||f||this.graph.height;this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));b=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*b+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0});this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var b=this._drawAxis(this.graph.y);this._drawGrid(b);this._renderHeight=this.graph.height},_drawAxis:function(k){k=
b.svg.axis().scale(k).orient(this.orientation);k.tickFormat(this.tickFormat);this.tickValues&&k.tickValues(this.tickValues);if("left"==this.orientation)var g="translate("+this.width+", "+this.height*this.berthRate+")";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",g).call(k.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));return k},_drawGrid:function(b){var g=("right"==this.orientation?1:-1)*
this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(b.ticks(this.ticks).tickSubdivide(0).tickSize(g)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}});l.namespace("Rickshaw.Graph.Axis.Y.Scaled");l.Graph.Axis.Y.Scaled=l.Class.create(l.Graph.Axis.Y,{initialize:function($super,b){if("undefined"===typeof b.scale)throw Error("Scaled requires scale");this.scale=b.scale;this.grid="undefined"===typeof b.grid?!0:b.grid;$super(b)},
_drawAxis:function($super,g){var c=this.scale.domain(),f=this.graph.renderer.domain().y,l=[Math.min.apply(Math,c),Math.max.apply(Math,c)],e=b.scale.linear().domain([0,1]).range(l),f=[e(f[0]),e(f[1])],l=b.scale.linear().domain(l).range(f),c=this.scale.copy().domain(c.map(l)).range(g.range());return $super(c)},_drawGrid:function($super,b){this.grid&&$super(b)}});l.namespace("Rickshaw.Graph.Behavior.Series.Highlight");l.Graph.Behavior.Series.Highlight=function(k){this.graph=k.graph;this.legend=k.legend;
var g=this,c={},f=null,l=k.disabledColor||function(c){return b.interpolateRgb(c,b.rgb("#d8d8d8"))(0.8).toString()};this.addHighlightEvents=function(b){b.element.addEventListener("mouseover",function(k){f||(f=b,g.legend.lines.forEach(function(f){if(b===f){if(g.graph.renderer.unstack&&(f.series.renderer?f.series.renderer.unstack:1)){var k=g.graph.series.indexOf(f.series);f.originalIndex=k;f=g.graph.series.splice(k,1)[0];g.graph.series.push(f)}}else c[f.series.name]=c[f.series.name]||f.series.color,
f.series.color=l(f.series.color)}),g.graph.update())},!1);b.element.addEventListener("mouseout",function(k){f&&(f=null,g.legend.lines.forEach(function(f){if(b===f&&f.hasOwnProperty("originalIndex")){var k=g.graph.series.pop();g.graph.series.splice(f.originalIndex,0,k);delete f.originalIndex}c[f.series.name]&&(f.series.color=c[f.series.name])}),g.graph.update())},!1)};this.legend&&this.legend.lines.forEach(function(b){g.addHighlightEvents(b)})};l.namespace("Rickshaw.Graph.Behavior.Series.Order");l.Graph.Behavior.Series.Order=
function(b){this.graph=b.graph;this.legend=b.legend;var g=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(g.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(b,f){var k=[];jQuery(g.legend.list).find("li").each(function(b,c){c.series&&k.push(c.series)});for(var e=g.graph.series.length-1;0<=e;e--)g.graph.series[e]=k.shift();
g.graph.update()}});jQuery(g.legend.list).disableSelection()});this.graph.onUpdate(function(){var b=window.getComputedStyle(g.legend.element).height;g.legend.element.style.height=b})};l.namespace("Rickshaw.Graph.Behavior.Series.Toggle");l.Graph.Behavior.Series.Toggle=function(b){this.graph=b.graph;this.legend=b.legend;var g=this;this.addAnchor=function(b){var f=document.createElement("a");f.innerHTML="&#10004;";f.classList.add("action");b.element.insertBefore(f,b.element.firstChild);f.onclick=function(f){if(b.series.disabled)b.series.enable(),
b.element.classList.remove("disabled");else{if(1>=this.graph.series.filter(function(b){return!b.disabled}).length)return;b.series.disable();b.element.classList.add("disabled")}g.graph.update()}.bind(this);b.element.getElementsByTagName("span")[0].onclick=function(f){f=b.series.disabled;if(!f)for(var e=0;e<g.legend.lines.length;e++){var k=g.legend.lines[e];if(b.series!==k.series&&!k.series.disabled){f=!0;break}}f?(b.series.enable(),b.element.classList.remove("disabled"),g.legend.lines.forEach(function(e){b.series!==
e.series&&(e.series.disable(),e.element.classList.add("disabled"))})):g.legend.lines.forEach(function(b){b.series.enable();b.element.classList.remove("disabled")});g.graph.update()}};this.legend&&(b=jQuery,"undefined"!=typeof b&&b(this.legend.list).sortable&&b(this.legend.list).sortable({start:function(b,f){f.item.bind("no.onclick",function(b){b.preventDefault()})},stop:function(b,f){setTimeout(function(){f.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(b){g.addAnchor(b)}));
this._addBehavior=function(){this.graph.series.forEach(function(b){b.disable=function(){if(1>=g.graph.series.length)throw"only one series left";b.disabled=!0};b.enable=function(){b.disabled=!1}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};l.namespace("Rickshaw.Graph.HoverDetail");l.Graph.HoverDetail=l.Class.create({initialize:function(b){var g=this.graph=b.graph;this.xFormatter=b.xFormatter||function(b){return(new Date(1E3*b)).toUTCString()};this.yFormatter=b.yFormatter||
function(b){return null===b?b:b.toFixed(2)};var c=this.element=document.createElement("div");c.className="detail";this.visible=!0;g.element.appendChild(c);this.lastEvent=null;this._addListeners();this.onShow=b.onShow;this.onHide=b.onHide;this.onRender=b.onRender;this.formatter=b.formatter||this.formatter},formatter:function(b,g,c,f,l,e){return b.name+":&nbsp;"+l},update:function(k){if(k=k||this.lastEvent)if(this.lastEvent=k,k.target.nodeName.match(/^(path|svg|rect|circle)$/)){var g=this.graph,c=k.offsetX||
k.layerX,f=k.offsetY||k.layerY,l=0,e=[],p;this.graph.series.active().forEach(function(k){var m=this.graph.stackedData[l++];if(m.length){var v=g.x.invert(c),u=b.scale.linear().domain([m[0].x,m.slice(-1)[0].x]).range([0,m.length-1]),A=Math.round(u(v));A==m.length-1&&A--;for(u=Math.min(A||0,m.length-1);A<m.length-1&&m[A]&&m[A+1];){if(m[A].x<=v&&m[A+1].x>v){u=Math.abs(v-m[A].x)<Math.abs(v-m[A+1].x)?A:A+1;break}m[A+1].x<=v?A++:A--}0>u&&(u=0);v=m[u];m=Math.sqrt(Math.pow(Math.abs(g.x(v.x)-c),2)+Math.pow(Math.abs(g.y(v.y+
v.y0)-f),2));u=k.yFormatter||this.yFormatter;k={formattedXValue:(k.xFormatter||this.xFormatter)(v.x),formattedYValue:u(k.scale?k.scale.invert(v.y):v.y),series:k,value:v,distance:m,order:l,name:k.name};if(!p||m<p.distance)p=k;e.push(k)}},this);if(p){p.active=!0;k=p.value.x;var m=p.formattedXValue;this.element.innerHTML="";this.element.style.left=g.x(k)+"px";this.visible&&this.render({points:e,detail:e,mouseX:c,mouseY:f,formattedXValue:m,domainX:k})}}},hide:function(){this.visible=!1;this.element.classList.add("inactive");
if("function"==typeof this.onHide)this.onHide()},show:function(){this.visible=!0;this.element.classList.remove("inactive");if("function"==typeof this.onShow)this.onShow()},render:function(b){var g=this.graph,c=b.points.filter(function(b){return b.active}).shift();if(null!==c.value.y){var f=c.formattedXValue,l=c.formattedYValue;this.element.innerHTML="";this.element.style.left=g.x(c.value.x)+"px";g=document.createElement("div");g.className="x_label";g.innerHTML=f;this.element.appendChild(g);var e=
document.createElement("div");e.className="item";var p=c.series,m=p.scale?p.scale.invert(c.value.y):c.value.y;e.innerHTML=this.formatter(p,c.value.x,m,f,l,c);e.style.top=this.graph.y(c.value.y0+c.value.y)+"px";this.element.appendChild(e);f=document.createElement("div");f.className="dot";f.style.top=e.style.top;f.style.borderColor=p.color;this.element.appendChild(f);c.active&&(e.classList.add("active"),f.classList.add("active"));c=[g,e];c.forEach(function(b){b.classList.add("left")});this.show();f=
this._calcLayoutError(c);0<f&&(c.forEach(function(b){b.classList.remove("left");b.classList.add("right")}),this._calcLayoutError(c)>f&&c.forEach(function(b){b.classList.remove("right");b.classList.add("left")}));if("function"==typeof this.onRender)this.onRender(b)}},_calcLayoutError:function(b){var g=this.element.parentNode.getBoundingClientRect(),c=0;b.forEach(function(b){b=b.getBoundingClientRect();b.width&&(b.right>g.right&&(c+=b.right-g.right),b.left<g.left&&(c+=g.left-b.left))});return c},_addListeners:function(){this.graph.element.addEventListener("mousemove",
function(b){this.visible=!0;this.update(b)}.bind(this),!1);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(b){!b.relatedTarget||b.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}});l.namespace("Rickshaw.Graph.JSONP");l.Graph.JSONP=l.Class.create(l.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});
l.namespace("Rickshaw.Graph.Legend");l.Graph.Legend=l.Class.create({className:"rickshaw_legend",initialize:function(b){this.element=b.element;this.graph=b.graph;this.naturalOrder=b.naturalOrder;this.element.classList.add(this.className);this.list=document.createElement("ul");this.element.appendChild(this.list);this.render();this.graph.onUpdate(function(){})},render:function(){for(var b=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var g=this.graph.series.map(function(b){return b});
this.naturalOrder||(g=g.reverse());g.forEach(function(c){b.addLine(c)})},addLine:function(k){var g=document.createElement("li");g.className="line";k.disabled&&(g.className+=" disabled");k.className&&b.select(g).classed(k.className,!0);var c=document.createElement("div");c.className="swatch";c.style.backgroundColor=k.color;g.appendChild(c);c=document.createElement("span");c.className="label";c.innerHTML=k.name;g.appendChild(c);this.list.appendChild(g);g.series=k;k.noLegend&&(g.style.display="none");
k={element:g,series:k};this.shelving&&(this.shelving.addAnchor(k),this.shelving.updateBehaviour());this.highlighter&&this.highlighter.addHighlightEvents(k);this.lines.push(k);return g}});l.namespace("Rickshaw.Graph.RangeSlider");l.Graph.RangeSlider=l.Class.create({initialize:function(b){this.element=b.element;b=this.graph=b.graph;this.slideCallbacks=[];this.build();b.onUpdate(function(){this.update()}.bind(this))},build:function(){var b=this.element,g=this.graph,c=jQuery,f=g.dataDomain(),l=this;c(function(){c(b).slider({range:!0,
min:f[0],max:f[1],values:[f[0],f[1]],slide:function(b,c){if(!(c.values[1]<=c.values[0])){g.window.xMin=c.values[0];g.window.xMax=c.values[1];g.update();var f=g.dataDomain();f[0]==c.values[0]&&(g.window.xMin=void 0);f[1]==c.values[1]&&(g.window.xMax=void 0);l.slideCallbacks.forEach(function(b){b(g,g.window.xMin,g.window.xMax)})}}})});c(b)[0].style.width=g.width+"px"},update:function(){var b=this.element,g=this.graph,c=jQuery,f=c(b).slider("option","values"),l=g.dataDomain();c(b).slider("option","min",
l[0]);c(b).slider("option","max",l[1]);null==g.window.xMin&&(f[0]=l[0]);null==g.window.xMax&&(f[1]=l[1]);c(b).slider("option","values",f)},onSlide:function(b){this.slideCallbacks.push(b)}});l.namespace("Rickshaw.Graph.RangeSlider.Preview");l.Graph.RangeSlider.Preview=l.Class.create({initialize:function(k){if(!k.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!k.graph&&!k.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";
this.element=k.element;this.element.style.position="relative";this.graphs=k.graph?[k.graph]:k.graphs;this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:0.2};this.heightRatio=k.heightRatio||this.defaults.heightRatio;this.defaults.gripperColor=b.rgb(this.defaults.frameColor).darker().toString();this.configureCallbacks=[];this.slideCallbacks=[];this.previews=[];k.width||(this.widthFromGraph=
!0);k.height||(this.heightFromGraph=!0);if(this.widthFromGraph||this.heightFromGraph)this.graphs[0].onConfigure(function(){this.configure(k);this.render()}.bind(this));k.width=k.width||this.graphs[0].width||this.defaults.width;k.height=k.height||this.graphs[0].height*this.heightRatio||this.defaults.height;this.configure(k);this.render()},onSlide:function(b){this.slideCallbacks.push(b)},onConfigure:function(b){this.configureCallbacks.push(b)},configure:function(b){this.config=this.config||{};this.configureCallbacks.forEach(function(g){g(b)});
l.keys(this.defaults).forEach(function(g){this.config[g]=g in b?b[g]:g in this.config?this.config[g]:this.defaults[g]},this);if("width"in b||"height"in b)this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(b){var c=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,f=this.config.width-2*this.config.frameHandleThickness;
b.setSize({width:f,height:c});this.svg&&(b=c+2*this.config.frameHandleThickness,this.svg.style("width",f+2*this.config.frameHandleThickness+"px"),this.svg.style("height",b+"px"))},this)},render:function(){var k=this;this.svg=b.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]);this.previewHeight=this.config.height-2*this.config.frameTopThickness;this.previewWidth=this.config.width-2*this.config.frameHandleThickness;this.currentFrame=[0,this.previewWidth];var g=b.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),
c="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";g.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",c).style("-moz-transform",c).style("-ms-transform",c).style("transform",c).each(function(b,c){var e=l.extend({},b.config),g=k.previewHeight/k.graphs.length,m=b.renderer.name;l.extend(e,{element:this.appendChild(document.createElement("div")),height:g,width:k.previewWidth,series:b.series,renderer:m});var r=
new l.Graph(e);k.previews.push(r);b.onUpdate(function(){r.render();k.render()});b.onConfigure(function(b){delete b.height;b.width-=2*k.config.frameHandleThickness;r.configure(b);r.render()});r.render()});g.exit().remove();c=this.graphs[0];g=b.scale.linear().domain([0,this.previewWidth]).range(c.dataDomain());c=[c.window.xMin,c.window.xMax];this.currentFrame[0]=void 0===c[0]?0:Math.round(g.invert(c[0]));0>this.currentFrame[0]&&(this.currentFrame[0]=0);this.currentFrame[1]=void 0===c[1]?this.previewWidth:
g.invert(c[1]);this.currentFrame[1]-this.currentFrame[0]<k.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+k.config.minimumFrameWidth);this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0);this._renderDimming();this._renderFrame();this._renderGrippers();this._renderHandles();this._renderMiddle();this._registerMouseEvents()},_renderDimming:function(){var b=
this.svg.selectAll("path.dimming").data([null]);b.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var g;g=""+(" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness);g+=" h "+this.previewWidth;g+=" v "+this.previewHeight;g+=" h "+-this.previewWidth;g=g+" z "+(" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness);g+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,
this.previewWidth+this.config.frameHandleThickness);g+=" v "+this.previewHeight;g+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness);g+=" z";b.attr("d",g)},_renderFrame:function(){var b=this.svg.selectAll("path.frame").data([null]);b.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var g;g=""+(" M "+
this.currentFrame[0]+" 0");g+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness);g+=" V "+this.config.height;g+=" H "+this.currentFrame[0];g=g+" z"+(" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness);g+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness);g+=" v "+this.previewHeight;g+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness);g+=" z";b.attr("d",g)},_renderGrippers:function(){var b=this.svg.selectAll("path.gripper").data([null]);
b.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var g="";[0.4,0.6].forEach(function(b){g+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*b)+" "+Math.round(0.3*this.config.height);g+=" V "+Math.round(0.7*this.config.height);g+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+b))+" "+Math.round(0.3*this.config.height);g+=" V "+Math.round(0.7*this.config.height)}.bind(this));b.attr("d",g)},_renderHandles:function(){var b=
this.svg.selectAll("rect.left_handle").data([null]);b.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0);b.attr("x",this.currentFrame[0]).attr("height",this.config.height);b=this.svg.selectAll("rect.right_handle").data([null]);b.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0);b.attr("x",this.currentFrame[1]+
this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var b=this.svg.selectAll("rect.middle_handle").data([null]);b.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0);b.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function k(c,e){m.stop=r._getClientXFromEvent(b.event,
m);var f=m.stop-m.start,g=r.frameBeforeDrag.slice(0),a=r.config.minimumFrameWidth;m.rigid&&(a=r.frameBeforeDrag[1]-r.frameBeforeDrag[0]);m.left&&(g[0]=Math.max(g[0]+f,0));m.right&&(g[1]=Math.min(g[1]+f,r.previewWidth));g[1]-g[0]<=a&&(m.left&&(g[0]=g[1]-a),m.right&&(g[1]=g[0]+a),0>=g[0]&&(g[1]-=g[0],g[0]=0),g[1]>=r.previewWidth&&(g[0]-=g[1]-r.previewWidth,g[1]=r.previewWidth));r.graphs.forEach(function(a){var c=b.scale.linear().interpolate(b.interpolateNumber).domain([0,r.previewWidth]).range(a.dataDomain()),
e=[c(g[0]),c(g[1])];r.slideCallbacks.forEach(function(b){b(a,e[0],e[1])});0===g[0]&&(e[0]=void 0);g[1]===r.previewWidth&&(e[1]=void 0);a.window.xMin=e[0];a.window.xMax=e[1];a.update()})}function g(){m.target=b.event.target;m.start=r._getClientXFromEvent(b.event,m);r.frameBeforeDrag=r.currentFrame.slice();b.event.preventDefault?b.event.preventDefault():b.event.returnValue=!1;b.select(document).on("mousemove.rickshaw_range_slider_preview",k);b.select(document).on("mouseup.rickshaw_range_slider_preview",
e);b.select(document).on("touchmove.rickshaw_range_slider_preview",k);b.select(document).on("touchend.rickshaw_range_slider_preview",e);b.select(document).on("touchcancel.rickshaw_range_slider_preview",e)}function c(b,c){m.left=!0;g()}function f(b,c){m.right=!0;g()}function l(b,c){m.left=!0;m.right=!0;m.rigid=!0;g()}function e(c,e){b.select(document).on("mousemove.rickshaw_range_slider_preview",null);b.select(document).on("mouseup.rickshaw_range_slider_preview",null);b.select(document).on("touchmove.rickshaw_range_slider_preview",
null);b.select(document).on("touchend.rickshaw_range_slider_preview",null);b.select(document).on("touchcancel.rickshaw_range_slider_preview",null);delete r.frameBeforeDrag;m.left=!1;m.right=!1;m.rigid=!1}var p=b.select(this.element),m={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},r=this;p.select("rect.left_handle").on("mousedown",c);p.select("rect.right_handle").on("mousedown",f);p.select("rect.middle_handle").on("mousedown",l);p.select("rect.left_handle").on("touchstart",c);p.select("rect.right_handle").on("touchstart",
f);p.select("rect.middle_handle").on("touchstart",l)},_getClientXFromEvent:function(b,g){switch(b.type){case "touchstart":case "touchmove":for(var c=b.changedTouches,f=null,l=0;l<c.length;l++)if(c[l].target===g.target){f=c[l];break}return null!==f?f.clientX:void 0;default:return b.clientX}}});l.namespace("Rickshaw.Graph.Renderer");l.Graph.Renderer=l.Class.create({initialize:function(b){this.graph=b.graph;this.tension=b.tension||this.tension;this.configure(b)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},
defaults:function(){return{tension:0.8,strokeWidth:2,unstack:!0,padding:{top:0.01,right:0,bottom:0.01,left:0},stroke:!1,fill:!1}},domain:function(b){b=b||this.graph.stackedData||this.graph.stackData();var g=Infinity,c=-Infinity,f=Infinity,l=-Infinity;b.forEach(function(b){b.forEach(function(b){null!=b.y&&(b=b.y+b.y0,b<f&&(f=b),b>l&&(l=b))});b.length&&(b[0].x<g&&(g=b[0].x),b[b.length-1].x>c&&(c=b[b.length-1].x))});g-=(c-g)*this.padding.left;c+=(c-g)*this.padding.right;f="auto"===this.graph.min?f:this.graph.min||
0;l=void 0===this.graph.max?l:this.graph.max;if("auto"===this.graph.min||0>f)f-=(l-f)*this.padding.bottom;void 0===this.graph.max&&(l+=(l-f)*this.padding.top);return{x:[g,c],y:[f,l]}},render:function(b){b=b||{};var g=this.graph,c=b.series||g.series;b=b.vis||g.vis;b.selectAll("*").remove();var g=c.filter(function(b){return!b.disabled}).map(function(b){return b.stack}),f=b.selectAll("path.path").data(g).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var l=
b.selectAll("path.stroke").data(g).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var e=0;c.forEach(function(b){b.disabled||(b.path=f[0][e],this.stroke&&(b.stroke=l[0][e]),this._styleSeries(b),e++)},this)},_styleSeries:function(k){var g=this.stroke?k.color:"none";k.path.setAttribute("fill",this.fill?k.color:"none");k.path.setAttribute("stroke",g);k.path.setAttribute("stroke-width",this.strokeWidth);k.className&&b.select(k.path).classed(k.className,!0);k.className&&
this.stroke&&b.select(k.stroke).classed(k.className,!0)},configure:function(b){b=b||{};l.keys(this.defaults()).forEach(function(g){b.hasOwnProperty(g)?"object"==typeof this.defaults()[g]?l.keys(this.defaults()[g]).forEach(function(c){this[g][c]=void 0!==b[g][c]?b[g][c]:void 0!==this[g][c]?this[g][c]:this.defaults()[g][c]},this):this[g]=void 0!==b[g]?b[g]:void 0!==this[g]?this[g]:void 0!==this.graph[g]?this.graph[g]:this.defaults()[g]:this[g]=this[g]||this.graph[g]||this.defaults()[g]},this)},setStrokeWidth:function(b){void 0!==
b&&(this.strokeWidth=b)},setTension:function(b){void 0!==b&&(this.tension=b)}});l.namespace("Rickshaw.Graph.Renderer.Line");l.Graph.Renderer.Line=l.Class.create(l.Graph.Renderer,{name:"line",defaults:function($super){return l.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var k=this.graph,g=b.svg.line().x(function(b){return k.x(b.x)}).y(function(b){return k.y(b.y)}).interpolate(this.graph.interpolation).tension(this.tension);g.defined&&g.defined(function(b){return null!==
b.y});return g}});l.namespace("Rickshaw.Graph.Renderer.Stack");l.Graph.Renderer.Stack=l.Class.create(l.Graph.Renderer,{name:"stack",defaults:function($super){return l.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var k=this.graph,g=b.svg.area().x(function(b){return k.x(b.x)}).y0(function(b){return k.y(b.y0)}).y1(function(b){return k.y(b.y+b.y0)}).interpolate(this.graph.interpolation).tension(this.tension);g.defined&&g.defined(function(b){return null!==b.y});return g}});
l.namespace("Rickshaw.Graph.Renderer.Bar");l.Graph.Renderer.Bar=l.Class.create(l.Graph.Renderer,{name:"bar",defaults:function($super){var b=l.extend($super(),{gapSize:0.05,unstack:!1});delete b.tension;return b},initialize:function($super,b){b=b||{};this.gapSize=b.gapSize||this.gapSize;$super(b)},domain:function($super){var b=$super(),c=this._frequentInterval(this.graph.stackedData.slice(-1).shift());b.x[1]+=Number(c.magnitude);return b},barWidth:function(b){b=this._frequentInterval(b.stack);return this.graph.x.magnitude(b.magnitude)*
(1-this.gapSize)},render:function(b){b=b||{};var g=this.graph,c=b.series||g.series,f=b.vis||g.vis;f.selectAll("*").remove();b=this.barWidth(c.active()[0]);var l=0,e=c.filter(function(b){return!b.disabled}).length,p=this.unstack?b/e:b,m=function(b){return"matrix("+[1,0,0,0>b.y?-1:1,0,0>b.y?2*g.y.magnitude(Math.abs(b.y)):0].join()+")"};c.forEach(function(b){if(!b.disabled){this.barWidth(b);var c=f.selectAll("path").data(b.stack.filter(function(b){return null!==b.y})).enter().append("svg:rect").attr("x",
function(b){return g.x(b.x)+l}).attr("y",function(b){return g.y(b.y0+Math.abs(b.y))*(0>b.y?-1:1)}).attr("width",p).attr("height",function(b){return g.y.magnitude(Math.abs(b.y))}).attr("transform",m);Array.prototype.forEach.call(c[0],function(c){c.setAttribute("fill",b.color)});this.unstack&&(l+=p)}},this)},_frequentInterval:function(b){for(var g={},c=0;c<b.length-1;c++){var f=b[c+1].x-b[c].x;g[f]=g[f]||0;g[f]++}var n={count:0,magnitude:1};l.keys(g).forEach(function(b){n.count<g[b]&&(n={count:g[b],
magnitude:b})});return n}});l.namespace("Rickshaw.Graph.Renderer.Area");l.Graph.Renderer.Area=l.Class.create(l.Graph.Renderer,{name:"area",defaults:function($super){return l.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var k=this.graph,g=b.svg.area().x(function(b){return k.x(b.x)}).y0(function(b){return k.y(b.y0)}).y1(function(b){return k.y(b.y+b.y0)}).interpolate(k.interpolation).tension(this.tension);g.defined&&g.defined(function(b){return null!==b.y});return g},
seriesStrokeFactory:function(){var k=this.graph,g=b.svg.line().x(function(b){return k.x(b.x)}).y(function(b){return k.y(b.y+b.y0)}).interpolate(k.interpolation).tension(this.tension);g.defined&&g.defined(function(b){return null!==b.y});return g},render:function(b){b=b||{};var g=this.graph,c=b.series||g.series;b=b.vis||g.vis;b.selectAll("*").remove();var g=this.unstack?"append":"insert",f=c.filter(function(b){return!b.disabled}).map(function(b){return b.stack}),l=b.selectAll("path").data(f).enter()[g]("svg:g",
"g");l.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");this.stroke&&l.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var e=0;c.forEach(function(b){b.disabled||(b.path=l[0][e++],this._styleSeries(b))},this)},_styleSeries:function(k){k.path&&(b.select(k.path).select(".area").attr("fill",k.color),this.stroke&&b.select(k.path).select(".line").attr("fill","none").attr("stroke",k.stroke||b.interpolateRgb(k.color,"black")(0.125)).attr("stroke-width",
this.strokeWidth),k.className&&k.path.setAttribute("class",k.className))}});l.namespace("Rickshaw.Graph.Renderer.ScatterPlot");l.Graph.Renderer.ScatterPlot=l.Class.create(l.Graph.Renderer,{name:"scatterplot",defaults:function($super){return l.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:0.01,right:0.01,bottom:0.01,left:0.01},dotSize:4})},initialize:function($super,b){$super(b)},render:function(b){b=b||{};var g=this.graph,c=b.series||g.series,f=b.vis||g.vis,l=this.dotSize;f.selectAll("*").remove();
c.forEach(function(b){if(!b.disabled){var c=f.selectAll("path").data(b.stack.filter(function(b){return null!==b.y})).enter().append("svg:circle").attr("cx",function(b){return g.x(b.x)}).attr("cy",function(b){return g.y(b.y)}).attr("r",function(b){return"r"in b?b.r:l});b.className&&c.classed(b.className,!0);Array.prototype.forEach.call(c[0],function(c){c.setAttribute("fill",b.color)})}},this)}});l.namespace("Rickshaw.Graph.Renderer.Multi");l.Graph.Renderer.Multi=l.Class.create(l.Graph.Renderer,{name:"multi",
initialize:function($super,b){$super(b)},defaults:function($super){return l.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,b){this.config=b=b||{};$super(b)},domain:function($super){this.graph.stackData();var g=[],c=this._groups();this._stack(c);c.forEach(function(b){var c=b.series.filter(function(b){return!b.disabled}).map(function(b){return b.stack});if(c.length){var e=null,e=b.renderer&&b.renderer.domain?b.renderer.domain(c):$super(c);g.push(e)}});var c=b.min(g.map(function(b){return b.x[0]})),
f=b.max(g.map(function(b){return b.x[1]})),l=b.min(g.map(function(b){return b.y[0]})),e=b.max(g.map(function(b){return b.y[1]}));return{x:[c,f],y:[l,e]}},_groups:function(){var k=this.graph,g={};k.series.forEach(function(c){if(!c.disabled){if(!g[c.renderer]){var n=document.createElementNS("http://www.w3.org/2000/svg","g");k.vis[0][0].appendChild(n);var e=k._renderers[c.renderer],p={};[this.defaults(),e.defaults(),this.config,this.graph].forEach(function(b){l.extend(p,b)});e.configure(p);g[c.renderer]=
{renderer:e,series:[],vis:b.select(n)}}g[c.renderer].series.push(c)}},this);var c=[];Object.keys(g).forEach(function(b){c.push(g[b])});return c},_stack:function(k){k.forEach(function(g){var c=g.series.filter(function(b){return!b.disabled}),f=c.map(function(b){return b.stack});if(!g.renderer.unstack){g=b.layout.stack();var k=l.clone(g(f));c.forEach(function(b,c){b._stack=l.clone(k[c])})}},this);return k},render:function(){this.graph.series.forEach(function(b){if(!b.renderer)throw Error("Each series needs a renderer for graph 'multi' renderer");
});this.graph.vis.selectAll("*").remove();var b=this._groups(),b=this._stack(b);b.forEach(function(b){var c=b.series.filter(function(b){return!b.disabled});c.active=function(){return c};b.renderer.render({series:c,vis:b.vis});c.forEach(function(b){b.stack=b._stack||b.stack||b.data})})}});l.namespace("Rickshaw.Graph.Renderer.LinePlot");l.Graph.Renderer.LinePlot=l.Class.create(l.Graph.Renderer,{name:"lineplot",defaults:function($super){return l.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:0.01,
right:0.01,bottom:0.01,left:0.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var k=this.graph,g=b.svg.line().x(function(b){return k.x(b.x)}).y(function(b){return k.y(b.y)}).interpolate(this.graph.interpolation).tension(this.tension);g.defined&&g.defined(function(b){return null!==b.y});return g},render:function(b){b=b||{};var g=this.graph,c=b.series||g.series,f=b.vis||g.vis,l=this.dotSize;f.selectAll("*").remove();b=c.filter(function(b){return!b.disabled}).map(function(b){return b.stack});
var e=f.selectAll("path").data(b).enter().append("svg:path").attr("d",this.seriesPathFactory()),p=0;c.forEach(function(b){b.disabled||(b.path=e[0][p++],this._styleSeries(b))},this);c.forEach(function(b){if(!b.disabled){var c=f.selectAll("x").data(b.stack.filter(function(b){return null!==b.y})).enter().append("svg:circle").attr("cx",function(b){return g.x(b.x)}).attr("cy",function(b){return g.y(b.y)}).attr("r",function(b){return"r"in b?b.r:l});Array.prototype.forEach.call(c[0],function(c){c&&(c.setAttribute("data-color",
b.color),c.setAttribute("fill","white"),c.setAttribute("stroke",b.color),c.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}});l.namespace("Rickshaw.Graph.Smoother");l.Graph.Smoother=l.Class.create({initialize:function(b){this.graph=b.graph;this.element=b.element;this.aggregationScale=1;this.build();this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var b=this,g=jQuery;this.element&&g(function(){g(b.element).slider({min:1,
max:100,slide:function(c,f){b.setScale(f.value)}})})},setScale:function(b){if(1>b)throw"scale out of range: "+b;this.aggregationScale=b;this.graph.update()},transformer:function(b){if(1==this.aggregationScale)return b;var g=[];b.forEach(function(b){for(var f=[];b.length;){var k=0,e=0,l=b.splice(0,this.aggregationScale);l.forEach(function(b){k+=b.x/l.length;e+=b.y/l.length});f.push({x:k,y:e})}g.push(f)}.bind(this));return g}});l.namespace("Rickshaw.Graph.Socketio");l.Graph.Socketio=l.Class.create(l.Graph.Ajax,
{request:function(){var b=this;io.connect(this.dataURL).on("rickshaw",function(g){b.success(g)})}});l.namespace("Rickshaw.Series");l.Series=l.Class.create(Array,{initialize:function(b,g,c){c=c||{};this.palette=new l.Color.Palette(g);this.timeBase="undefined"===typeof c.timeBase?Math.floor((new Date).getTime()/1E3):c.timeBase;this.setTimeInterval("undefined"==typeof c.timeInterval?1E3:c.timeInterval);b&&"object"==typeof b&&Array.isArray(b)&&b.forEach(function(b){this.addItem(b)},this)},addItem:function(b){if("undefined"===
typeof b.name)throw"addItem() needs a name";b.color=b.color||this.palette.color(b.name);b.data=b.data||[];0===b.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(g){b.data.push({x:g.x,y:0})}):0===b.data.length&&b.data.push({x:this.timeBase-(this.timeInterval||0),y:0});this.push(b);this.legend&&this.legend.addLine(this.itemByName(b.name))},addData:function(b,g){var c=this.getIndex();l.keys(b).forEach(function(b){this.itemByName(b)||this.addItem({name:b})},this);this.forEach(function(f){f.data.push({x:g||
(c*this.timeInterval||1)+this.timeBase,y:b[f.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(b){for(var g=0;g<this.length;g++)if(this[g].name==b)return this[g]},setTimeInterval:function(b){this.timeInterval=b/1E3},setTimeBase:function(b){this.timeBase=b},dump:function(){var b={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};this.forEach(function(g){var c={color:g.color,name:g.name,data:[]};g.data.forEach(function(b){c.data.push({x:b.x,
y:b.y})});b.items.push(c)});return b},load:function(b){b.timeInterval&&(this.timeInterval=b.timeInterval);b.timeBase&&(this.timeBase=b.timeBase);b.items&&b.items.forEach(function(b){this.push(b);this.legend&&this.legend.addLine(this.itemByName(b.name))},this)}});l.Series.zeroFill=function(b){l.Series.fill(b,0)};l.Series.fill=function(b,g){for(var c,f=0,l=b.map(function(b){return b.data});f<Math.max.apply(null,l.map(function(b){return b.length}));)c=Math.min.apply(null,l.filter(function(b){return b[f]}).map(function(b){return b[f].x})),
l.forEach(function(b){b[f]&&b[f].x==c||b.splice(f,0,{x:c,y:g})}),f++};l.namespace("Rickshaw.Series.FixedDuration");l.Series.FixedDuration=l.Class.create(l.Series,{initialize:function(b,g,c){c=c||{};if("undefined"===typeof c.timeInterval)throw Error("FixedDuration series requires timeInterval");if("undefined"===typeof c.maxDataPoints)throw Error("FixedDuration series requires maxDataPoints");this.palette=new l.Color.Palette(g);this.timeBase="undefined"===typeof c.timeBase?Math.floor((new Date).getTime()/
1E3):c.timeBase;this.setTimeInterval(c.timeInterval);this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):this.currentIndex=this.currentSize=0;this.maxDataPoints=c.maxDataPoints;b&&"object"==typeof b&&Array.isArray(b)&&(b.forEach(function(b){this.addItem(b)},this),this.currentSize+=1,this.currentIndex+=1);this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if("undefined"!==typeof this.maxDataPoints&&this.currentSize<
this.maxDataPoints)for(var f=this.maxDataPoints-this.currentSize-1;1<f;f--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(b){b.data.unshift({x:((f-1)*this.timeInterval||1)+this.timeBase,y:0,i:f})},this)},addData:function($super,b,c){$super(b,c);this.currentSize+=1;this.currentIndex+=1;if(void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(b){b.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});
return l});
Rickshaw.Graph.Renderer.prototype.domain=function(b){b=b||this.graph.stackedData||this.graph.stackData();var l=Infinity,k=-Infinity,g=Infinity,c=-Infinity;b.forEach(function(b){b.forEach(function(b){null!=b.y&&(b=b.y+b.y0,b<g&&(g=b),b>c&&(c=b))});b.length&&(b[0].x<l&&(l=b[0].x),b[b.length-1].x>k&&(k=b[b.length-1].x))});l-=(k-l)*this.padding.left;k+=(k-l)*this.padding.right;g="auto"===this.graph.min?g:this.graph.min||0;c=void 0===this.graph.max?c:this.graph.max;if("auto"===this.graph.min||0>g)g-=(10<
c-g?c-g:10)*this.padding.bottom;void 0===this.graph.max&&(c+=(10<c-g?c-g:10)*this.padding.top);return{x:[l,k],y:[g,c]}};
!function(b,l){"function"==typeof define&&define.amd?define("stackframe",[],l):"object"==typeof exports?module.exports=l():b.StackFrame=l()}(this,function(){function b(b){return!isNaN(parseFloat(b))&&isFinite(b)}function l(b,g,c,f,l,e){void 0!==b&&this.setFunctionName(b);void 0!==g&&this.setArgs(g);void 0!==c&&this.setFileName(c);void 0!==f&&this.setLineNumber(f);void 0!==l&&this.setColumnNumber(l);void 0!==e&&this.setSource(e)}return l.prototype={getFunctionName:function(){return this.functionName},
setFunctionName:function(b){this.functionName=String(b)},getArgs:function(){return this.args},setArgs:function(b){if("[object Array]"!==Object.prototype.toString.call(b))throw new TypeError("Args must be an Array");this.args=b},getFileName:function(){return this.fileName},setFileName:function(b){this.fileName=String(b)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(k){if(!b(k))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(k)},getColumnNumber:function(){return this.columnNumber},
setColumnNumber:function(k){if(!b(k))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(k)},getSource:function(){return this.source},setSource:function(b){this.source=String(b)},toString:function(){var k=this.getFunctionName()||"{anonymous}",g="("+(this.getArgs()||[]).join(",")+")",c=this.getFileName()?"@"+this.getFileName():"",f=b(this.getLineNumber())?":"+this.getLineNumber():"",l=b(this.getColumnNumber())?":"+this.getColumnNumber():"";return k+g+c+f+l}},l});
var SourceMap=function(b){function l(g){if(k[g])return k[g].exports;var c=k[g]={exports:{},id:g,loaded:!1};return b[g].call(c.exports,c,c.exports,l),c.loaded=!0,c.exports}var k={};return l.m=b,l.c=k,l.p="",l(0)}([function(b,l,k){function g(b){var e=b;return"string"==typeof b&&(e=JSON.parse(b.replace(/^\)\]\}'/,""))),null!=e.sections?new n(e):new c(e)}function c(b){var c=b;"string"==typeof b&&(c=JSON.parse(b.replace(/^\)\]\}'/,"")));b=e.getArg(c,"version");var f=e.getArg(c,"sources"),a=e.getArg(c,
"names",[]),d=e.getArg(c,"sourceRoot",null),h=e.getArg(c,"sourcesContent",null),g=e.getArg(c,"mappings"),c=e.getArg(c,"file",null);if(b!=this._version)throw Error("Unsupported version: "+b);f=f.map(e.normalize).map(function(a){return d&&e.isAbsolute(d)&&e.isAbsolute(a)?e.relative(d,a):a});this._names=m.fromArray(a,!0);this._sources=m.fromArray(f,!0);this.sourceRoot=d;this.sourcesContent=h;this._mappings=g;this.file=c}function f(){this.generatedColumn=this.generatedLine=0;this.name=this.originalColumn=
this.originalLine=this.source=null}function n(b){var c=b;"string"==typeof b&&(c=JSON.parse(b.replace(/^\)\]\}'/,"")));b=e.getArg(c,"version");c=e.getArg(c,"sections");if(b!=this._version)throw Error("Unsupported version: "+b);this._sources=new m;this._names=new m;var f={line:-1,column:0};this._sections=c.map(function(a){if(a.url)throw Error("Support for url field in sections not implemented.");var b=e.getArg(a,"offset"),c=e.getArg(b,"line"),k=e.getArg(b,"column");if(c<f.line||c===f.line&&k<f.column)throw Error("Section offsets must be ordered and non-overlapping.");
return f=b,{generatedOffset:{generatedLine:c+1,generatedColumn:k+1},consumer:new g(e.getArg(a,"map"))}})}var e=k(1),p=k(2),m=k(3).ArraySet,r=k(4),s=k(6).quickSort;g.fromSourceMap=function(b){return c.fromSourceMap(b)};g.prototype._version=3;g.prototype.__generatedMappings=null;Object.defineProperty(g.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});g.prototype.__originalMappings=null;Object.defineProperty(g.prototype,
"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});g.prototype._charIsMappingSeparator=function(b,c){var e=b.charAt(c);return";"===e||","===e};g.prototype._parseMappings=function(b,c){throw Error("Subclasses must implement _parseMappings");};g.GENERATED_ORDER=1;g.ORIGINAL_ORDER=2;g.GREATEST_LOWER_BOUND=1;g.LEAST_UPPER_BOUND=2;g.prototype.eachMapping=function(b,c,f){c=c||null;switch(f||g.GENERATED_ORDER){case g.GENERATED_ORDER:f=
this._generatedMappings;break;case g.ORIGINAL_ORDER:f=this._originalMappings;break;default:throw Error("Unknown order of iteration.");}var a=this.sourceRoot;f.map(function(b){var c=null===b.source?null:this._sources.at(b.source);return null!=c&&null!=a&&(c=e.join(a,c)),{source:c,generatedLine:b.generatedLine,generatedColumn:b.generatedColumn,originalLine:b.originalLine,originalColumn:b.originalColumn,name:null===b.name?null:this._names.at(b.name)}},this).forEach(b,c)};g.prototype.allGeneratedPositionsFor=
function(b){var c=e.getArg(b,"line"),f={source:e.getArg(b,"source"),originalLine:c,originalColumn:e.getArg(b,"column",0)};if(null!=this.sourceRoot&&(f.source=e.relative(this.sourceRoot,f.source)),!this._sources.has(f.source))return[];f.source=this._sources.indexOf(f.source);var a=[],f=this._findMapping(f,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,p.LEAST_UPPER_BOUND);if(0<=f){var d=this._originalMappings[f];if(void 0===b.column)for(c=d.originalLine;d&&d.originalLine===
c;)a.push({line:e.getArg(d,"generatedLine",null),column:e.getArg(d,"generatedColumn",null),lastColumn:e.getArg(d,"lastGeneratedColumn",null)}),d=this._originalMappings[++f];else for(b=d.originalColumn;d&&d.originalLine===c&&d.originalColumn==b;)a.push({line:e.getArg(d,"generatedLine",null),column:e.getArg(d,"generatedColumn",null),lastColumn:e.getArg(d,"lastGeneratedColumn",null)}),d=this._originalMappings[++f]}return a};l.SourceMapConsumer=g;c.prototype=Object.create(g.prototype);c.prototype.consumer=
g;c.fromSourceMap=function(b){var g=Object.create(c.prototype),k=g._names=m.fromArray(b._names.toArray(),!0),a=g._sources=m.fromArray(b._sources.toArray(),!0);g.sourceRoot=b._sourceRoot;g.sourcesContent=b._generateSourcesContent(g._sources.toArray(),g.sourceRoot);g.file=b._file;b=b._mappings.toArray().slice();for(var d=g.__generatedMappings=[],h=g.__originalMappings=[],l=0,n=b.length;n>l;l++){var p=b[l],r=new f;r.generatedLine=p.generatedLine;r.generatedColumn=p.generatedColumn;p.source&&(r.source=
a.indexOf(p.source),r.originalLine=p.originalLine,r.originalColumn=p.originalColumn,p.name&&(r.name=k.indexOf(p.name)),h.push(r));d.push(r)}return s(g.__originalMappings,e.compareByOriginalPositions),g};c.prototype._version=3;Object.defineProperty(c.prototype,"sources",{get:function(){return this._sources.toArray().map(function(b){return null!=this.sourceRoot?e.join(this.sourceRoot,b):b},this)}});c.prototype._parseMappings=function(b,c){for(var g,a,d,h,k,l=1,m=0,n=0,p=0,O=0,W=0,ca=b.length,R=0,V=
{},Y={},J=[],U=[];ca>R;)if(";"===b.charAt(R))l++,R++,m=0;else if(","===b.charAt(R))R++;else{g=new f;g.generatedLine=l;for(h=R;ca>h&&!this._charIsMappingSeparator(b,h);h++);if(a=b.slice(R,h),d=V[a])R+=a.length;else{for(d=[];h>R;)r.decode(b,R,Y),k=Y.value,R=Y.rest,d.push(k);if(2===d.length)throw Error("Found a source, but no line and column");if(3===d.length)throw Error("Found a source and line, but no column");V[a]=d}g.generatedColumn=m+d[0];m=g.generatedColumn;1<d.length&&(g.source=O+d[1],O+=d[1],
g.originalLine=n+d[2],n=g.originalLine,g.originalLine+=1,g.originalColumn=p+d[3],p=g.originalColumn,4<d.length&&(g.name=W+d[4],W+=d[4]));U.push(g);"number"==typeof g.originalLine&&J.push(g)}s(U,e.compareByGeneratedPositionsDeflated);this.__generatedMappings=U;s(J,e.compareByOriginalPositions);this.__originalMappings=J};c.prototype._findMapping=function(b,c,e,a,d,f){if(0>=b[e])throw new TypeError("Line must be greater than or equal to 1, got "+b[e]);if(0>b[a])throw new TypeError("Column must be greater than or equal to 0, got "+
b[a]);return p.search(b,c,d,f)};c.prototype.computeColumnSpans=function(){for(var b=0;b<this._generatedMappings.length;++b){var c=this._generatedMappings[b];if(b+1<this._generatedMappings.length){var e=this._generatedMappings[b+1];if(c.generatedLine===e.generatedLine){c.lastGeneratedColumn=e.generatedColumn-1;continue}}c.lastGeneratedColumn=1/0}};c.prototype.originalPositionFor=function(b){var c={generatedLine:e.getArg(b,"line"),generatedColumn:e.getArg(b,"column")};b=this._findMapping(c,this._generatedMappings,
"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(b,"bias",g.GREATEST_LOWER_BOUND));if(0<=b&&(b=this._generatedMappings[b],b.generatedLine===c.generatedLine)){c=e.getArg(b,"source",null);null!==c&&(c=this._sources.at(c),null!=this.sourceRoot&&(c=e.join(this.sourceRoot,c)));var f=e.getArg(b,"name",null);return null!==f&&(f=this._names.at(f)),{source:c,line:e.getArg(b,"originalLine",null),column:e.getArg(b,"originalColumn",null),name:f}}return{source:null,line:null,column:null,
name:null}};c.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(b){return null==b}):!1};c.prototype.sourceContentFor=function(b,c){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(b=e.relative(this.sourceRoot,b)),this._sources.has(b))return this.sourcesContent[this._sources.indexOf(b)];var f;if(null!=this.sourceRoot&&(f=e.urlParse(this.sourceRoot))){var a=b.replace(/^file:\/\//,
"");if("file"==f.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!f.path||"/"==f.path)&&this._sources.has("/"+b))return this.sourcesContent[this._sources.indexOf("/"+b)]}if(c)return null;throw Error('"'+b+'" is not in the SourceMap.');};c.prototype.generatedPositionFor=function(b){var c=e.getArg(b,"source");if(null!=this.sourceRoot&&(c=e.relative(this.sourceRoot,c)),!this._sources.has(c))return{line:null,column:null,lastColumn:null};c=this._sources.indexOf(c);
c={source:c,originalLine:e.getArg(b,"line"),originalColumn:e.getArg(b,"column")};b=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(b,"bias",g.GREATEST_LOWER_BOUND));return 0<=b&&(b=this._originalMappings[b],b.source===c.source)?{line:e.getArg(b,"generatedLine",null),column:e.getArg(b,"generatedColumn",null),lastColumn:e.getArg(b,"lastGeneratedColumn",null)}:{line:null,column:null,lastColumn:null}};l.BasicSourceMapConsumer=c;n.prototype=
Object.create(g.prototype);n.prototype.constructor=g;n.prototype._version=3;Object.defineProperty(n.prototype,"sources",{get:function(){for(var b=[],c=0;c<this._sections.length;c++)for(var e=0;e<this._sections[c].consumer.sources.length;e++)b.push(this._sections[c].consumer.sources[e]);return b}});n.prototype.originalPositionFor=function(b){var c={generatedLine:e.getArg(b,"line"),generatedColumn:e.getArg(b,"column")},f=p.search(c,this._sections,function(a,b){var c=a.generatedLine-b.generatedOffset.generatedLine;
return c?c:a.generatedColumn-b.generatedOffset.generatedColumn});return(f=this._sections[f])?f.consumer.originalPositionFor({line:c.generatedLine-(f.generatedOffset.generatedLine-1),column:c.generatedColumn-(f.generatedOffset.generatedLine===c.generatedLine?f.generatedOffset.generatedColumn-1:0),bias:b.bias}):{source:null,line:null,column:null,name:null}};n.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(b){return b.consumer.hasContentsOfAllSources()})};n.prototype.sourceContentFor=
function(b,c){for(var e=0;e<this._sections.length;e++){var a=this._sections[e].consumer.sourceContentFor(b,!0);if(a)return a}if(c)return null;throw Error('"'+b+'" is not in the SourceMap.');};n.prototype.generatedPositionFor=function(b){for(var c=0;c<this._sections.length;c++){var f=this._sections[c];if(-1!==f.consumer.sources.indexOf(e.getArg(b,"source"))){var a=f.consumer.generatedPositionFor(b);if(a)return{line:a.line+(f.generatedOffset.generatedLine-1),column:a.column+(f.generatedOffset.generatedLine===
a.line?f.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}};n.prototype._parseMappings=function(b,c){this.__generatedMappings=[];this.__originalMappings=[];for(var f=0;f<this._sections.length;f++)for(var a=this._sections[f],d=a.consumer._generatedMappings,h=0;h<d.length;h++){var g=d[h],k=a.consumer._sources.at(g.source);null!==a.consumer.sourceRoot&&(k=e.join(a.consumer.sourceRoot,k));this._sources.add(k);var k=this._sources.indexOf(k),l=a.consumer._names.at(g.name);this._names.add(l);
l=this._names.indexOf(l);g={source:k,generatedLine:g.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:g.generatedColumn+(a.generatedOffset.generatedLine===g.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:g.originalLine,originalColumn:g.originalColumn,name:l};this.__generatedMappings.push(g);"number"==typeof g.originalLine&&this.__originalMappings.push(g)}s(this.__generatedMappings,e.compareByGeneratedPositionsDeflated);s(this.__originalMappings,e.compareByOriginalPositions)};
l.IndexedSourceMapConsumer=n},function(b,l){function k(b){return(b=b.match(f))?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}function g(b){var c="";return b.scheme&&(c+=b.scheme+":"),c+="//",b.auth&&(c+=b.auth+"@"),b.host&&(c+=b.host),b.port&&(c+=":"+b.port),b.path&&(c+=b.path),c}function c(b){var c=b,f=k(b);if(f){if(!f.path)return b;c=f.path}for(var n=l.isAbsolute(c),s=c.split(/\/+/),v=0,u=s.length-1;0<=u;u--)b=s[u],"."===b?s.splice(u,1):".."===b?v++:0<v&&(""===b?(s.splice(u+1,v),v=
0):(s.splice(u,2),v--));return c=s.join("/"),""===c&&(c=n?"/":"."),f?(f.path=c,g(f)):c}l.getArg=function(b,c,f){if(c in b)return b[c];if(3===arguments.length)return f;throw Error('"'+c+'" is a required argument.');};var f=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,n=/^data:.+\,.+$/;l.urlParse=k;l.urlGenerate=g;l.normalize=c;l.join=function(b,f){""===b&&(b=".");""===f&&(f=".");var l=k(f),r=k(b);if(r&&(b=r.path||"/"),l&&!l.scheme)return r&&(l.scheme=r.scheme),g(l);if(l||f.match(n))return f;
if(r&&!r.host&&!r.path)return r.host=f,g(r);l="/"===f.charAt(0)?f:c(b.replace(/\/+$/,"")+"/"+f);return r?(r.path=l,g(r)):l};l.isAbsolute=function(b){return"/"===b.charAt(0)||!!b.match(f)};l.relative=function(b,c){""===b&&(b=".");b=b.replace(/\/$/,"");for(var f=0;0!==c.indexOf(b+"/");){var g=b.lastIndexOf("/");if(0>g||(b=b.slice(0,g),b.match(/^([^\/]+:\/)?\/*$/)))return c;++f}return Array(f+1).join("../")+c.substr(b.length+1)};l.toSetString=function(b){return"$"+b};l.fromSetString=function(b){return b.substr(1)};
l.compareByOriginalPositions=function(b,c,f){var g=b.source-c.source;return 0!==g?g:(g=b.originalLine-c.originalLine,0!==g?g:(g=b.originalColumn-c.originalColumn,0!==g||f?g:(g=b.generatedColumn-c.generatedColumn,0!==g?g:(g=b.generatedLine-c.generatedLine,0!==g?g:b.name-c.name))))};l.compareByGeneratedPositionsDeflated=function(b,c,f){var g=b.generatedLine-c.generatedLine;return 0!==g?g:(g=b.generatedColumn-c.generatedColumn,0!==g||f?g:(g=b.source-c.source,0!==g?g:(g=b.originalLine-c.originalLine,
0!==g?g:(g=b.originalColumn-c.originalColumn,0!==g?g:b.name-c.name))))};l.compareByGeneratedPositionsInflated=function(b,c){var f=b.generatedLine-c.generatedLine;return 0!==f?f:(f=b.generatedColumn-c.generatedColumn,0!==f?f:(f=b.source===c.source?0:b.source>c.source?1:-1,0!==f?f:(f=b.originalLine-c.originalLine,0!==f?f:(f=b.originalColumn-c.originalColumn,0!==f?f:b.name===c.name?0:b.name>c.name?1:-1))))}},function(b,l){function k(b,c,f,n,e,p){var m=Math.floor((c-b)/2)+b,r=e(f,n[m],!0);return 0===
r?m:0<r?1<c-m?k(m,c,f,n,e,p):p==l.LEAST_UPPER_BOUND?c<n.length?c:-1:m:1<m-b?k(b,m,f,n,e,p):p==l.LEAST_UPPER_BOUND?m:0>b?-1:b}l.GREATEST_LOWER_BOUND=1;l.LEAST_UPPER_BOUND=2;l.search=function(b,c,f,n){if(0===c.length)return-1;b=k(-1,c.length,b,c,f,n||l.GREATEST_LOWER_BOUND);if(0>b)return-1;for(;0<=b-1&&0===f(c[b],c[b-1],!0);)--b;return b}},function(b,l,k){function g(){this._array=[];this._set={}}var c=k(1);g.fromArray=function(b,c){for(var e=new g,k=0,l=b.length;l>k;k++)e.add(b[k],c);return e};g.prototype.size=
function(){return Object.getOwnPropertyNames(this._set).length};g.prototype.add=function(b,g){var e=c.toSetString(b),k=this._set.hasOwnProperty(e),l=this._array.length;k&&!g||this._array.push(b);k||(this._set[e]=l)};g.prototype.has=function(b){b=c.toSetString(b);return this._set.hasOwnProperty(b)};g.prototype.indexOf=function(b){var g=c.toSetString(b);if(this._set.hasOwnProperty(g))return this._set[g];throw Error('"'+b+'" is not in the set.');};g.prototype.at=function(b){if(0<=b&&b<this._array.length)return this._array[b];
throw Error("No element indexed by "+b);};g.prototype.toArray=function(){return this._array.slice()};l.ArraySet=g},function(b,l,k){var g=k(5);l.encode=function(b){var f="",k=0>b?(-b<<1)+1:(b<<1)+0;do b=k&31,k>>>=5,0<k&&(b|=32),f+=g.encode(b);while(0<k);return f};l.decode=function(b,f,k){var e,l,m=b.length,r=0,s=0;do{if(f>=m)throw Error("Expected more digits in base 64 VLQ value.");if(l=g.decode(b.charCodeAt(f++)),-1===l)throw Error("Invalid base64 digit: "+b.charAt(f-1));e=!!(l&32);l&=31;r+=l<<s;
s+=5}while(e);b=r>>1;k.value=1===(1&r)?-b:b;k.rest=f}},function(b,l){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");l.encode=function(b){if(0<=b&&b<k.length)return k[b];throw new TypeError("Must be between 0 and 63: "+b);};l.decode=function(b){return 65<=b&&90>=b?b-65:97<=b&&122>=b?b-97+26:48<=b&&57>=b?b-48+52:43==b?62:47==b?63:-1}},function(b,l){function k(b,f,g){var e=b[f];b[f]=b[g];b[g]=e}function g(b,f,l,e){if(e>l){var p=Math.round(l+Math.random()*(e-l)),m=
l-1;k(b,p,e);for(var p=b[e],r=l;e>r;r++)0>=f(b[r],p)&&(m+=1,k(b,m,r));k(b,m+1,r);m+=1;g(b,f,l,m-1);g(b,f,m+1,e)}}l.quickSort=function(b,f){g(b,f,0,b.length-1)}}]);
!function(b,l){"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],l):"object"==typeof exports?module.exports=l(require("source-map/lib/source-map-consumer"),require("stackframe")):b.StackTraceGPS=l(b.SourceMap||b.sourceMap,b.StackFrame)}(this,function(b,l){function k(b){return new Promise(function(c,f){var g=new XMLHttpRequest;g.open("get",b);g.onerror=f;g.onreadystatechange=function(){4===g.readyState&&(200<=g.status&&300>g.status?c(g.responseText):f(Error("HTTP status: "+
g.status+" retrieving "+b)))};g.send()})}function g(b){if("undefined"!=typeof window&&window.atob)return window.atob(b);throw Error("You must supply a polyfill for window.atob in this environment");}function c(b){if("object"!=typeof b)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof b.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof b.lineNumber||0!==b.lineNumber%1||1>b.lineNumber)throw new TypeError("Given line number must be a positive integer");
if("number"!=typeof b.columnNumber||0!==b.columnNumber%1||0>b.columnNumber)throw new TypeError("Given column number must be a non-negative integer");return!0}function f(b){if((b=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(b))&&b[1])return b[1];throw Error("sourceMappingURL not found");}return function e(p){return this instanceof e?(p=p||{},this.sourceCache=p.sourceCache||{},this.ajax=p.ajax||k,this._atob=p.atob||g,this._get=function(b){return new Promise(function(c,e){var f="data:"===b.substr(0,
5);this.sourceCache[b]?c(this.sourceCache[b]):p.offline&&!f?e(Error("Cannot make network requests in offline mode")):f?(f=b.match(/^data:application\/json;([\w=:"-]+;)*base64,/))?(f=b.substr(f[0].length),f=this._atob(f),this.sourceCache[b]=f,c(f)):e(Error("The encoding of the inline sourcemap is not supported")):(f=this.ajax(b,{method:"get"}),this.sourceCache[b]=f,f.then(c,e))}.bind(this))},this.pinpoint=function(b){return new Promise(function(c,e){this.getMappedLocation(b).then(function(b){function e(){c(b)}
this.findFunctionName(b).then(c,e)["catch"](e)}.bind(this),e)}.bind(this))},this.findFunctionName=function(b){return new Promise(function(e,f){c(b);this._get(b.fileName).then(function(c){var f;a:{f=b.lineNumber;var g,a=/function\s+([^(]*?)\s*\(([^)]*)\)/,d=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,h=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;c=c.split("\n");for(var k="",p=Math.min(f,20),s=0;p>s;++s){var y=c[f-s-1],P=y.indexOf("//");if(0<=P&&(y=y.substr(0,
P)),y){if(k=y+k,g=d.exec(k),g&&g[1]){f=g[1];break a}if(g=a.exec(k),g&&g[1]){f=g[1];break a}if(g=h.exec(k),g&&g[1]){f=g[1];break a}}}f=void 0}e(new l(f,b.args,b.fileName,b.lineNumber,b.columnNumber))},f)["catch"](f)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(g,k){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw Error("Unable to consume source maps in older browsers");c(e);var p=this.sourceCache,u=e.fileName;this._get(u).then(function(c){c=
f(c);var a="data:"===c.substr(0,5),d=u.substring(0,u.lastIndexOf("/")+1);"/"===c[0]||a||/^https?:\/\/|^\/\//i.test(c)||(c=d+c);this._get(c).then(function(a){var c=e.lineNumber,f=e.columnNumber;if("string"==typeof a){var k;k=a.replace(/^\)\]\}'/,"");if("undefined"!=typeof JSON&&JSON.parse)k=JSON.parse(k);else throw Error("You must supply a polyfill for JSON.parse in this environment");a=k}"undefined"==typeof a.sourceRoot&&(a.sourceRoot=d);k=e.args;a=new b.SourceMapConsumer(a);c=a.originalPositionFor({line:c,
column:f});f=a.sourceContentFor(c.source);c=(f&&(p[c.source]=f),new l(c.name,k,c.source,c.line,c.column));g(c)},k)["catch"](k)}.bind(this),k)["catch"](k)}.bind(this))})):new e(p)}});
(function(b,l){"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],l):"object"==typeof exports?module.exports=l(require("stackframe")):b.StackGenerator=l(b.StackFrame)})(this,function(b){return{backtrace:function(l){var k=[],g=10;"object"==typeof l&&"number"==typeof l.maxStackSize&&(g=l.maxStackSize);for(var c=arguments.callee;c&&k.length<g;){for(var f=Array(c.arguments.length),n=0;n<f.length;++n)f[n]=c.arguments[n];/function(?:\s+([\w$]+))+\s*\(/.test(c.toString())?k.push(new b(RegExp.$1||
void 0,f)):k.push(new b(void 0,f));try{c=c.caller}catch(e){break}}return k}}});
(function(b,l){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],l):"object"==typeof exports?module.exports=l(require("stackframe")):b.ErrorStackParser=l(b.StackFrame)})(this,function(b){var l=/(^|@)\S+\:\d+/,k=/\s+at .*(\S+\:\d+|\(native\))/;return{parse:function(b){if("undefined"!=typeof b.stacktrace||"undefined"!=typeof b["opera#sourceloc"])return this.parseOpera(b);if(b.stack&&b.stack.match(k))return this.parseV8OrIE(b);if(b.stack&&b.stack.match(l))return this.parseFFOrSafari(b);
throw Error("Cannot parse given Error object");},extractLocation:function(b){if(-1===b.indexOf(":"))return[b];b=b.replace(/[\(\)\s]/g,"").split(":");var c=b.pop(),f=b[b.length-1];return!isNaN(parseFloat(f))&&isFinite(f)?(f=b.pop(),[b.join(":"),f,c]):[b.join(":"),c,void 0]},parseV8OrIE:function(g){return g.stack.split("\n").filter(function(b){return!!b.match(k)},this).map(function(c){var f=c.replace(/^\s+/,"").split(/\s+/).slice(1),g=this.extractLocation(f.pop());return new b(f[0]&&"Anonymous"!==f[0]?
f[0]:void 0,void 0,g[0],g[1],g[2],c)},this)},parseFFOrSafari:function(g){return g.stack.split("\n").filter(function(b){return!!b.match(l)},this).map(function(c){var f=c.split("@"),g=this.extractLocation(f.pop()),f=f.shift()||void 0;return new b(f,void 0,g[0],g[1],g[2],c)},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf("\n")&&b.message.split("\n").length>b.stacktrace.split("\n").length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(g){var c=
/Line (\d+).*script (?:in )?(\S+)/i;g=g.message.split("\n");for(var f=[],k=2,e=g.length;e>k;k+=2){var l=c.exec(g[k]);l&&f.push(new b(void 0,void 0,l[2],l[1],void 0,g[k]))}return f},parseOpera10:function(g){var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;g=g.stacktrace.split("\n");for(var f=[],k=0,e=g.length;e>k;k+=2){var l=c.exec(g[k]);l&&f.push(new b(l[3]||void 0,void 0,l[2],l[1],void 0,g[k]))}return f},parseOpera11:function(g){return g.stack.split("\n").filter(function(b){return!!b.match(l)&&
!b.match(/^Error created at/)},this).map(function(c){var f,g=c.split("@"),e=this.extractLocation(g.pop()),k=g.shift()||"",g=k.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;k.match(/\(([^\)]*)\)/)&&(f=k.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));f=void 0===f||"[arguments not available]"===f?void 0:f.split(",");return new b(g,f,e[0],e[1],e[2],c)},this)}}});
(function(b,l){"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps"],l):"object"==typeof exports?module.exports=l(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps")):b.StackTrace=l(b.ErrorStackParser,b.StackGenerator,b.StackTraceGPS)})(this,function(b,l,k){function g(b,c){var e={};return[b,c].forEach(function(b){for(var c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);return e}),e}var c={filter:function(b){return-1===
(b.functionName||"").indexOf("StackTrace$$")&&-1===(b.functionName||"").indexOf("ErrorStackParser$$")&&-1===(b.functionName||"").indexOf("StackTraceGPS$$")&&-1===(b.functionName||"").indexOf("StackGenerator$$")}};return{get:function(b){try{throw Error();}catch(c){return c.stack||c["opera#sourceloc"]?this.fromError(c,b):this.generateArtificially(b)}},fromError:function(f,l){return l=g(c,l),new Promise(function(c){var g=b.parse(f);"function"==typeof l.filter&&(g=g.filter(l.filter));c(Promise.all(g.map(function(b){return new Promise(function(c){function e(){c(b)}
(new k(l)).pinpoint(b).then(c,e)["catch"](e)})})))}.bind(this))},generateArtificially:function(b){b=g(c,b);var k=l.backtrace(b);return"function"==typeof b.filter&&(k=k.filter(b.filter)),Promise.resolve(k)},instrument:function(b,c,e,g){if("function"!=typeof b)throw Error("Cannot instrument non-function object");if("function"==typeof b.__stacktraceOriginalFn)return b;var k=function(){try{return this.get().then(c,e)["catch"](e),b.apply(g||this,arguments)}catch(k){throw(k.stack||k["opera#sourceloc"])&&
this.fromError(k).then(c,e)["catch"](e),k;}}.bind(this);return k.__stacktraceOriginalFn=b,k},deinstrument:function(b){if("function"!=typeof b)throw Error("Cannot de-instrument non-function object");return"function"==typeof b.__stacktraceOriginalFn?b.__stacktraceOriginalFn:b},report:function(b,c){return new Promise(function(e,g){var k=new XMLHttpRequest;k.onerror=g;k.onreadystatechange=function(){4===k.readyState&&(200<=k.status&&400>k.status?e(k.responseText):g(Error("POST to "+c+" failed with status: "+
k.status)))};k.open("post",c);k.setRequestHeader("Content-Type","application/json");k.send(JSON.stringify({stack:b}))})}}});
(function(b,l){"object"===typeof exports&&"undefined"!==typeof module?l(require("jquery")):"function"===typeof define&&define.amd?define(["jquery"],l):l(b.$)})(this,function(b){function l(a){return"number"===typeof a&&!isNaN(a)}function k(a){return"undefined"===typeof a}function g(a,b){var c=[];l(b)&&c.push(b);return c.slice.apply(a,c)}function c(a,b){for(var c=arguments.length,d=Array(2<c?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return function(){for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=
arguments[f];return a.apply(b,d.concat(g(e)))}}function f(a){var c=[];b.each(a,function(a){c.push(a)});return c}function n(a){return(a=a.match(/^(https?:)\/\/([^:/?#]+):?(\d*)/i))&&(a[1]!==location.protocol||a[2]!==location.hostname||a[3]!==location.port)}function e(a){var b="timestamp="+(new Date).getTime();return a+(-1===a.indexOf("?")?"?":"&")+b}function p(a,b){if(a.naturalWidth&&!B)b(a.naturalWidth,a.naturalHeight);else{var c=document.createElement("img");c.onload=function(){b(this.width,this.height)};
c.src=a.src}}function m(a){var b=[],c=a.translateX,d=a.translateY,e=a.rotate,f=a.scaleX;a=a.scaleY;l(c)&&0!==c&&b.push("translateX("+c+"px)");l(d)&&0!==d&&b.push("translateY("+d+"px)");l(e)&&0!==e&&b.push("rotate("+e+"deg)");l(f)&&1!==f&&b.push("scaleX("+f+")");l(a)&&1!==a&&b.push("scaleY("+a+")");return b.length?b.join(" "):"none"}function r(a,b){var c=Math.abs(a.degree)%180,d=(90<c?180-c:c)*Math.PI/180,c=Math.sin(d),d=Math.cos(d),e=a.width,f=a.height,g=a.aspectRatio,h=void 0,k=void 0;b?(h=e/(d+
c/g),k=h/g):(h=e*d+f*c,k=e*c+f*d);return{width:h,height:k}}function s(a,c){var d=b("<canvas>")[0],e=d.getContext("2d"),f=0,g=0,h=c.naturalWidth,k=c.naturalHeight,m=c.rotate,n=c.scaleX,p=c.scaleY,q=l(n)&&l(p)&&(1!==n||1!==p),s=l(m)&&0!==m,u=s||q,v=h*Math.abs(n||1),w=k*Math.abs(p||1),y=void 0,A=void 0,B=void 0;q&&(y=v/2,A=w/2);s&&(B=r({width:v,height:w,degree:m}),v=B.width,w=B.height,y=v/2,A=w/2);d.width=v;d.height=w;u&&(f=-h/2,g=-k/2,e.save(),e.translate(y,A));s&&e.rotate(m*Math.PI/180);q&&e.scale(n,
p);e.drawImage(a,Math.floor(f),Math.floor(g),Math.floor(h),Math.floor(k));u&&e.restore();return d}function v(a){a=a.replace(h,"");a=atob(a);for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=void 0,e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}function u(a,c){var d=a.pageX,e=a.pageY,f={endX:d,endY:e};return c?f:b.extend({startX:d,startY:e},f)}function A(a){var c=b.extend({},a),d=[];b.each(a,function(a,e){delete c[a];b.each(c,function(a,b){var c=Math.abs(e.startX-b.startX),f=Math.abs(e.startY-
b.startY),g=Math.abs(e.endX-b.endX),h=Math.abs(e.endY-b.endY),c=Math.sqrt(c*c+f*f),g=(Math.sqrt(g*g+h*h)-c)/c;d.push(g)})});d.sort(function(a,b){return Math.abs(a)<Math.abs(b)});return d[0]}function a(a){var c=0,d=0,e=0;b.each(a,function(a,b){var f=b.startY;c+=b.startX;d+=f;e+=1});c/=e;d/=e;return{pageX:c,pageY:d}}b="default"in b?b["default"]:b;var d={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,
center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:0.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:0.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},h=/^data:.*,/,q=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,w="undefined"!==typeof window?
window.navigator:null,B=w&&q.test(w.userAgent),y=String.fromCharCode,P=(q="undefined"!==typeof window?window.PointerEvent:null)?"pointerdown":"touchstart mousedown",O=q?"pointermove":"touchmove mousemove",W=q?" pointerup pointercancel":"touchend touchcancel mouseup",ca=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,R=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,
c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),V=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},Y=/^data:/,J=/^data:image\/jpeg;base64,/,U=function(){function a(c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.$element=b(c);this.options=b.extend({},d,b.isPlainObject(e)&&e);this.isImg=this.wheeling=this.limited=this.replaced=this.disabled=this.cropped=this.rotated=this.completed=this.ready=
this.loaded=!1;this.originalUrl="";this.cropBox=this.canvas=null;this.pointers={};this.init()}R(a,[{key:"init",value:function(){var a=this.$element,b=void 0;if(a.is("img")){this.isImg=!0;this.originalUrl=b=a.attr("src");if(!b)return;b=a.prop("src")}else a.is("canvas")&&window.HTMLCanvasElement&&(b=a[0].toDataURL());this.load(b)}},{key:"trigger",value:function(a,c){var d=b.Event(a,c);this.$element.trigger(d);return d}},{key:"load",value:function(a){var c=this,d=c.options,f=c.$element;if(a)if(c.url=
a,c.image={},d.checkOrientation&&ArrayBuffer)if(Y.test(a))J.test(a)?c.read(v(a)):c.clone();else{var g=new XMLHttpRequest;g.onerror=g.onabort=b.proxy(function(){c.clone()},this);g.onload=function(){c.read(this.response)};d.checkCrossOrigin&&n(a)&&f.prop("crossOrigin")&&(a=e(a));g.open("get",a);g.responseType="arraybuffer";g.withCredentials="use-credentials"===f.prop("crossOrigin");g.send()}else c.clone()}},{key:"read",value:function(a){var b=this.options,c;c=new DataView(a);var d=c.byteLength,e=void 0,
f=void 0,g=void 0,h=f=void 0,k=g=f=void 0,l=f=void 0;if(255===c.getUint8(0)&&216===c.getUint8(1))for(f=2;f<d;){if(255===c.getUint8(f)&&225===c.getUint8(f+1)){g=f;break}f++}if(g){f=g+4;g+=10;d="";l=void 0;l=f;for(f=4+f;l<f;l++)d+=y(c.getUint8(l));"Exif"===d&&(f=c.getUint16(g),!(h=18761===f)&&19789!==f||42!==c.getUint16(g+2,h)||(f=c.getUint32(g+4,h),8<=f&&(k=g+f)))}if(k)for(d=c.getUint16(k,h),l=0;l<d;l++)if(f=k+12*l+2,274===c.getUint16(f,h)){f+=8;e=c.getUint16(f,h);B&&c.setUint16(f,1,h);break}c=e;e=
this.image;h=0;d=k=1;if(1<c){a=new Uint8Array(a);g=a.length;f="";l=void 0;for(l=0;l<g;l++)f+=y(a[l]);this.url="data:image/jpeg;base64,"+btoa(f);switch(c){case 2:k=-1;break;case 3:h=-180;break;case 4:d=-1;break;case 5:h=90;d=-1;break;case 6:h=90;break;case 7:h=90;k=-1;break;case 8:h=-90}}b.rotatable&&(e.rotate=h);b.scalable&&(e.scaleX=k,e.scaleY=d);this.clone()}},{key:"clone",value:function(){var a=this.$element,c=this.url,d="",f=void 0;this.options.checkCrossOrigin&&n(c)&&((d=a.prop("crossOrigin"))?
f=c:(d="anonymous",f=e(c)));this.crossOrigin=d;this.crossOriginUrl=f;this.$clone=c=b("<img "+(d?' crossOrigin="'+d+'"':"")+' src="'+(f||c)+'">');if(this.isImg)if(a[0].complete)this.start();else a.one("load",b.proxy(this.start,this));else c.one("load",b.proxy(this.start,this)).one("error",b.proxy(this.stop,this)).addClass("cropper-hide").insertAfter(a)}},{key:"start",value:function(){var a=this,c=a.$clone,d=a.$element;a.isImg||(c.off("error",a.stop),d=c);p(d[0],function(c,d){b.extend(a.image,{naturalWidth:c,
naturalHeight:d,aspectRatio:c/d});a.loaded=!0;a.build()})}},{key:"stop",value:function(){this.$clone.remove();this.$clone=null}},{key:"build",value:function(){var a=this,c=a.options,d=a.$element,e=a.$clone,f=void 0,g=void 0,h=void 0;a.loaded&&(a.ready&&a.unbuild(),a.$container=d.parent(),a.$cropper=f=b('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),
a.$canvas=f.find(".cropper-canvas").append(e),a.$dragBox=f.find(".cropper-drag-box"),a.$cropBox=g=f.find(".cropper-crop-box"),a.$viewBox=f.find(".cropper-view-box"),a.$face=h=g.find(".cropper-face"),d.addClass("cropper-hidden").after(f),a.isImg||e.removeClass("cropper-hide"),a.initPreview(),a.bind(),c.aspectRatio=Math.max(0,c.aspectRatio)||NaN,c.viewMode=Math.max(0,Math.min(3,Math.round(c.viewMode)))||0,(a.cropped=c.autoCrop)?c.modal&&a.$dragBox.addClass("cropper-modal"):g.addClass("cropper-hidden"),
c.guides||g.find(".cropper-dashed").addClass("cropper-hidden"),c.center||g.find(".cropper-center").addClass("cropper-hidden"),c.cropBoxMovable&&h.addClass("cropper-move").data("action","all"),c.highlight||h.addClass("cropper-invisible"),c.background&&f.addClass("cropper-bg"),c.cropBoxResizable||g.find(".cropper-line, .cropper-point").addClass("cropper-hidden"),a.setDragMode(c.dragMode),a.render(),a.ready=!0,a.setData(c.data),a.completing=setTimeout(function(){if(b.isFunction(c.ready))d.one("ready",
c.ready);a.trigger("ready");a.trigger("crop",a.getData());a.completed=!0},0))}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.completed=this.ready=!1,this.cropBox=this.canvas=this.container=this.initialCropBox=this.initialCanvas=this.initialImage=null,this.unbind(),this.resetPreview(),this.$container=this.$canvas=this.$dragBox=this.$cropBox=this.$viewBox=this.$preview=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(a){b.extend(d,
b.isPlainObject(a)&&a)}}]);return a}();b.extend(U.prototype,{render:function(){this.initContainer();this.initCanvas();this.initCropBox();this.renderCanvas();this.cropped&&this.renderCropBox()},initContainer:function(){var a=this.options,b=this.$element,c=this.$container,d=this.$cropper;d.addClass("cropper-hidden");b.removeClass("cropper-hidden");d.css(this.container={width:Math.max(c.width(),Number(a.minContainerWidth)||200),height:Math.max(c.height(),Number(a.minContainerHeight)||100)});b.addClass("cropper-hidden");
d.removeClass("cropper-hidden")},initCanvas:function(){var a=this.options.viewMode,c=this.container,d=c.width,c=c.height,e=this.image,f=e.naturalWidth,g=e.naturalHeight,h=90===Math.abs(e.rotate),k=h?g:f,h=h?f:g,l=k/h,f=d,g=c;c*l>d?3===a?f=c*l:g=d/l:3===a?g=d/l:f=c*l;k={naturalWidth:k,naturalHeight:h,aspectRatio:l,width:f,height:g};k.oldLeft=k.left=(d-f)/2;k.oldTop=k.top=(c-g)/2;this.canvas=k;this.limited=1===a||2===a;this.limitCanvas(!0,!0);this.initialImage=b.extend({},e);this.initialCanvas=b.extend({},
k)},limitCanvas:function(a,b){var c=this.options,d=c.viewMode,e=this.container,f=e.width,e=e.height,g=this.canvas,h=g.aspectRatio,k=this.cropBox,l=this.cropped&&k;if(a){var m=Number(c.minCanvasWidth)||0,c=Number(c.minCanvasHeight)||0;d&&(1<d?(m=Math.max(m,f),c=Math.max(c,e),3===d&&(c*h>m?m=c*h:c=m/h)):m?m=Math.max(m,l?k.width:0):c?c=Math.max(c,l?k.height:0):l&&(m=k.width,c=k.height,c*h>m?m=c*h:c=m/h));m&&c?c*h>m?c=m/h:m=c*h:m?c=m/h:c&&(m=c*h);g.minWidth=m;g.minHeight=c;g.maxWidth=Infinity;g.maxHeight=
Infinity}b&&(d?(c=f-g.width,h=e-g.height,g.minLeft=Math.min(0,c),g.minTop=Math.min(0,h),g.maxLeft=Math.max(0,c),g.maxTop=Math.max(0,h),l&&this.limited&&(g.minLeft=Math.min(k.left,k.left+k.width-g.width),g.minTop=Math.min(k.top,k.top+k.height-g.height),g.maxLeft=k.left,g.maxTop=k.top,2===d&&(g.width>=f&&(g.minLeft=Math.min(0,c),g.maxLeft=Math.max(0,c)),g.height>=e&&(g.minTop=Math.min(0,h),g.maxTop=Math.max(0,h))))):(g.minLeft=-g.width,g.minTop=-g.height,g.maxLeft=f,g.maxTop=e))},renderCanvas:function(a){var b=
this.canvas,c=this.image,d=c.rotate,e=c.naturalWidth,f=c.naturalHeight;if(this.rotated){this.rotated=!1;var g=r({width:c.width,height:c.height,degree:d}),h=g.width/g.height;if((c=1===c.aspectRatio)||h!==b.aspectRatio){b.left-=(g.width-b.width)/2;b.top-=(g.height-b.height)/2;b.width=g.width;b.height=g.height;b.aspectRatio=h;b.naturalWidth=e;b.naturalHeight=f;if(c&&d%90||d%180)d=r({width:e,height:f,degree:d}),b.naturalWidth=d.width,b.naturalHeight=d.height;this.limitCanvas(!0,!1)}}if(b.width>b.maxWidth||
b.width<b.minWidth)b.left=b.oldLeft;if(b.height>b.maxHeight||b.height<b.minHeight)b.top=b.oldTop;b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth);b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight);this.limitCanvas(!1,!0);b.oldLeft=b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft);b.oldTop=b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop);this.$canvas.css({width:b.width,height:b.height,transform:m({translateX:b.left,translateY:b.top})});this.renderImage();this.cropped&&this.limited&&
this.limitCropBox(!0,!0);a&&this.output()},renderImage:function(a){var c=this.canvas,d=this.image,e=void 0;d.rotate&&(e=r({width:c.width,height:c.height,degree:d.rotate,aspectRatio:d.aspectRatio},!0));b.extend(d,e?{width:e.width,height:e.height,left:(c.width-e.width)/2,top:(c.height-e.height)/2}:{width:c.width,height:c.height,left:0,top:0});this.$clone.css({width:d.width,height:d.height,transform:m(b.extend({translateX:d.left,translateY:d.top},d))});a&&this.output()},initCropBox:function(){var a=
this.options,c=this.canvas,d=a.aspectRatio,a=Number(a.autoCropArea)||0.8,e={width:c.width,height:c.height};d&&(c.height*d>c.width?e.height=e.width/d:e.width=e.height*d);this.cropBox=e;this.limitCropBox(!0,!0);e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth);e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight);e.width=Math.max(e.minWidth,e.width*a);e.height=Math.max(e.minHeight,e.height*a);e.oldLeft=e.left=c.left+(c.width-e.width)/2;e.oldTop=e.top=c.top+(c.height-e.height)/2;this.initialCropBox=
b.extend({},e)},limitCropBox:function(a,b){var c=this.options,d=c.aspectRatio,e=this.container,f=e.width,e=e.height,g=this.canvas,h=this.cropBox,k=this.limited;if(a){var l=Number(c.minCropBoxWidth)||0,c=Number(c.minCropBoxHeight)||0,m=Math.min(f,k?g.width:f),n=Math.min(e,k?g.height:e),l=Math.min(l,f),c=Math.min(c,e);d&&(l&&c?c*d>l?c=l/d:l=c*d:l?c=l/d:c&&(l=c*d),n*d>m?n=m/d:m=n*d);h.minWidth=Math.min(l,m);h.minHeight=Math.min(c,n);h.maxWidth=m;h.maxHeight=n}b&&(k?(h.minLeft=Math.max(0,g.left),h.minTop=
Math.max(0,g.top),h.maxLeft=Math.min(f,g.left+g.width)-h.width,h.maxTop=Math.min(e,g.top+g.height)-h.height):(h.minLeft=0,h.minTop=0,h.maxLeft=f-h.width,h.maxTop=e-h.height))},renderCropBox:function(){var a=this.options,b=this.container,c=b.width,b=b.height,d=this.cropBox;if(d.width>d.maxWidth||d.width<d.minWidth)d.left=d.oldLeft;if(d.height>d.maxHeight||d.height<d.minHeight)d.top=d.oldTop;d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth);d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight);
this.limitCropBox(!1,!0);d.oldLeft=d.left=Math.min(Math.max(d.left,d.minLeft),d.maxLeft);d.oldTop=d.top=Math.min(Math.max(d.top,d.minTop),d.maxTop);a.movable&&a.cropBoxMovable&&this.$face.data("action",d.width===c&&d.height===b?"move":"all");this.$cropBox.css({width:d.width,height:d.height,transform:m({translateX:d.left,translateY:d.top})});this.cropped&&this.limited&&this.limitCanvas(!0,!0);this.disabled||this.output()},output:function(){this.preview();this.completed&&this.trigger("crop",this.getData())}});
b.extend(U.prototype,{initPreview:function(){var a=this.crossOrigin?' crossOrigin="'+this.crossOrigin+'"':"",c=a?this.crossOriginUrl:this.url,d=void 0;this.$preview=b(this.options.preview);this.$clone2=d=b("<img "+a+' src="'+c+'">');this.$viewBox.html(d);this.$preview.each(function(d,e){var f=b(e);f.data("preview",{width:f.width(),height:f.height(),html:f.html()});f.html("<img "+a+' src="'+c+'" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">')})},
resetPreview:function(){this.$preview.each(function(a,c){var d=b(c),e=d.data("preview");d.css({width:e.width,height:e.height}).html(e.html).removeData("preview")})},preview:function(){var a=this.image,c=this.canvas,d=this.cropBox,e=d.width,f=d.height,g=a.width,h=a.height,k=d.left-c.left-a.left,l=d.top-c.top-a.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:g,height:h,transform:m(b.extend({translateX:-k,translateY:-l},a))}),this.$preview.each(function(c,d){var n=b(d),p=n.data("preview"),
q=p.width,p=p.height,r=q,s=p,u=1;e&&(u=q/e,s=f*u);f&&s>p&&(u=p/f,r=e*u,s=p);n.css({width:r,height:s}).find("img").css({width:g*u,height:h*u,transform:m(b.extend({translateX:-k*u,translateY:-l*u},a))})}))}});b.extend(U.prototype,{bind:function(){var a=this.options,d=this.$element,e=this.$cropper;if(b.isFunction(a.cropstart))d.on("cropstart",a.cropstart);if(b.isFunction(a.cropmove))d.on("cropmove",a.cropmove);if(b.isFunction(a.cropend))d.on("cropend",a.cropend);if(b.isFunction(a.crop))d.on("crop",a.crop);
if(b.isFunction(a.zoom))d.on("zoom",a.zoom);e.on(P,c(this.cropStart,this));if(a.zoomable&&a.zoomOnWheel)e.on("wheel mousewheel DOMMouseScroll",c(this.wheel,this));if(a.toggleDragModeOnDblclick)e.on("dblclick",c(this.dblclick,this));b(document).on(O,this.onCropMove=c(this.cropMove,this)).on(W,this.onCropEnd=c(this.cropEnd,this));if(a.responsive)b(window).on("resize",this.onResize=c(this.resize,this))},unbind:function(){var a=this.options,c=this.$element,d=this.$cropper;b.isFunction(a.cropstart)&&c.off("cropstart",
a.cropstart);b.isFunction(a.cropmove)&&c.off("cropmove",a.cropmove);b.isFunction(a.cropend)&&c.off("cropend",a.cropend);b.isFunction(a.crop)&&c.off("crop",a.crop);b.isFunction(a.zoom)&&c.off("zoom",a.zoom);d.off(P,this.cropStart);a.zoomable&&a.zoomOnWheel&&d.off("wheel mousewheel DOMMouseScroll",this.wheel);a.toggleDragModeOnDblclick&&d.off("dblclick",this.dblclick);b(document).off(O,this.onCropMove).off(W,this.onCropEnd);a.responsive&&b(window).off("resize",this.onResize)}});b.extend(U.prototype,
{resize:function(){var a=this,c=a.options.restore,d=a.$container,e=a.container;if(!a.disabled&&e){var f=d.width()/e.width;1===f&&d.height()===e.height||function(){var d=void 0,e=void 0;c&&(d=a.getCanvasData(),e=a.getCropBoxData());a.render();c&&(a.setCanvasData(b.each(d,function(a,b){d[a]=b*f})),a.setCropBoxData(b.each(e,function(a,b){e[a]=b*f})))}()}},dblclick:function(){this.disabled||this.setDragMode(this.$dragBox.hasClass("cropper-crop")?"move":"crop")},wheel:function(a){var b=this,c=a.originalEvent||
a,d=Number(b.options.wheelZoomRatio)||0.1;if(!b.disabled&&(a.preventDefault(),!b.wheeling)){b.wheeling=!0;setTimeout(function(){b.wheeling=!1},50);var e=1;c.deltaY?e=0<c.deltaY?1:-1:c.wheelDelta?e=-c.wheelDelta/120:c.detail&&(e=0<c.detail?1:-1);b.zoom(-e*d,a)}},cropStart:function(a){if(!this.disabled){var c=this.options,d=this.pointers,e=a.originalEvent,g=void 0;e&&e.changedTouches?b.each(e.changedTouches,function(a,b){d[b.identifier]=u(b)}):d[e&&e.pointerId||0]=u(a);g=1<f(d).length&&c.zoomable&&
c.zoomOnTouch?"zoom":b(a.target).data("action");ca.test(g)&&!this.trigger("cropstart",{originalEvent:e,action:g}).isDefaultPrevented()&&(a.preventDefault(),this.action=g,this.cropping=!1,"crop"===g&&(this.cropping=!0,this.$dragBox.addClass("cropper-modal")))}},cropMove:function(a){var c=this.action;if(!this.disabled&&c){var d=this.pointers,e=a.originalEvent;a.preventDefault();this.trigger("cropmove",{originalEvent:e,action:c}).isDefaultPrevented()||(e&&e.changedTouches?b.each(e.changedTouches,function(a,
c){b.extend(d[c.identifier],u(c,!0))}):b.extend(d[e&&e.pointerId||0],u(a,!0)),this.change(a))}},cropEnd:function(a){var c=this.action;if(!this.disabled&&c){var d=this.pointers,e=a.originalEvent;a.preventDefault();e&&e.changedTouches?b.each(e.changedTouches,function(a,b){delete d[b.identifier]}):delete d[e&&e.pointerId||0];f(d).length||(this.action="");this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass("cropper-modal",this.cropped&&this.options.modal));this.trigger("cropend",{originalEvent:e,
action:c})}}});b.extend(U.prototype,{change:function(a){var c=this.options,d=this.pointers,e=d[f(d)[0]],g=this.container,h=this.canvas,k=this.cropBox,l=this.action,c=c.aspectRatio,m=k.width,n=k.height,p=k.left,q=k.top,r=p+m,s=q+n,u=0,v=0,w=g.width,y=g.height,B=!0,H=void 0;!c&&a.shiftKey&&(c=m&&n?m/n:1);this.limited&&(u=k.minLeft,v=k.minTop,w=u+Math.min(g.width,h.width,h.left+h.width),y=v+Math.min(g.height,h.height,h.top+h.height));var g=e.endX-e.startX,h=e.endY-e.startY,J,O;c&&(J=h*c,O=g/c);switch(l){case "all":p+=
g;q+=h;break;case "e":if(0<=g&&(r>=w||c&&(q<=v||s>=y))){B=!1;break}m+=g;c&&(n=m/c,q-=O/2);0>m&&(l="w",m=0);break;case "n":if(0>=h&&(q<=v||c&&(p<=u||r>=w))){B=!1;break}n-=h;q+=h;c&&(m=n*c,p+=J/2);0>n&&(l="s",n=0);break;case "w":if(0>=g&&(p<=u||c&&(q<=v||s>=y))){B=!1;break}m-=g;p+=g;c&&(n=m/c,q+=O/2);0>m&&(l="e",m=0);break;case "s":if(0<=h&&(s>=y||c&&(p<=u||r>=w))){B=!1;break}n+=h;c&&(m=n*c,p-=J/2);0>n&&(l="n",n=0);break;case "ne":if(c){if(0>=h&&(q<=v||r>=w)){B=!1;break}n-=h;q+=h;m=n*c}else 0<=g?r<
w?m+=g:0>=h&&q<=v&&(B=!1):m+=g,0>=h?q>v&&(n-=h,q+=h):(n-=h,q+=h);0>m&&0>n?(l="sw",m=n=0):0>m?(l="nw",m=0):0>n&&(l="se",n=0);break;case "nw":if(c){if(0>=h&&(q<=v||p<=u)){B=!1;break}n-=h;q+=h;m=n*c;p+=J}else 0>=g?p>u?(m-=g,p+=g):0>=h&&q<=v&&(B=!1):(m-=g,p+=g),0>=h?q>v&&(n-=h,q+=h):(n-=h,q+=h);0>m&&0>n?(l="se",m=n=0):0>m?(l="ne",m=0):0>n&&(l="sw",n=0);break;case "sw":if(c){if(0>=g&&(p<=u||s>=y)){B=!1;break}m-=g;p+=g;n=m/c}else 0>=g?p>u?(m-=g,p+=g):0<=h&&s>=y&&(B=!1):(m-=g,p+=g),0<=h?s<y&&(n+=h):n+=h;
0>m&&0>n?(l="ne",m=n=0):0>m?(l="se",m=0):0>n&&(l="nw",n=0);break;case "se":if(c){if(0<=g&&(r>=w||s>=y)){B=!1;break}m+=g;n=m/c}else 0<=g?r<w?m+=g:0<=h&&s>=y&&(B=!1):m+=g,0<=h?s<y&&(n+=h):n+=h;0>m&&0>n?(l="nw",m=n=0):0>m?(l="sw",m=0):0>n&&(l="ne",n=0);break;case "move":this.move(g,h);B=!1;break;case "zoom":this.zoom(A(d),a.originalEvent);B=!1;break;case "crop":if(!g||!h){B=!1;break}H=this.$cropper.offset();p=e.startX-H.left;q=e.startY-H.top;m=k.minWidth;n=k.minHeight;0<g?l=0<h?"se":"ne":0>g&&(p-=m,
l=0<h?"sw":"nw");0>h&&(q-=n);this.cropped||(this.$cropBox.removeClass("cropper-hidden"),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}B&&(k.width=m,k.height=n,k.left=p,k.top=q,this.action=l,this.renderCropBox());b.each(d,function(a,b){b.startX=b.endX;b.startY=b.endY})}});b.extend(U.prototype,{crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass("cropper-modal"),this.$cropBox.removeClass("cropper-hidden")),
this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=b.extend({},this.initialImage),this.canvas=b.extend({},this.initialCanvas),this.cropBox=b.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(b.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass("cropper-modal"),
this.$cropBox.addClass("cropper-hidden"))},replace:function(a,b){!this.disabled&&a&&(this.isImg&&this.$element.attr("src",a),b?(this.url=a,this.$clone.attr("src",a),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",a)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(a)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass("cropper-disabled"))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass("cropper-disabled"))},destroy:function(){var a=
this.$element;this.loaded?(this.isImg&&this.replaced&&a.attr("src",this.originalUrl),this.unbuild(),a.removeClass("cropper-hidden")):this.isImg?a.off("load",this.start):this.$clone&&this.$clone.remove();a.removeData("cropper")},move:function(a,b){var c=this.canvas;this.moveTo(k(a)?a:c.left+Number(a),k(b)?b:c.top+Number(b))},moveTo:function(a,b){var c=this.canvas,d=!1;k(b)&&(b=a);a=Number(a);b=Number(b);this.ready&&!this.disabled&&this.options.movable&&(l(a)&&(c.left=a,d=!0),l(b)&&(c.top=b,d=!0),d&&
this.renderCanvas(!0))},zoom:function(a,b){var c=this.canvas;a=Number(a);this.zoomTo(c.width*(0>a?1/(1-a):1+a)/c.naturalWidth,b)},zoomTo:function(b,c){var d=this.options,e=this.pointers,g=this.canvas,h=g.width,k=g.height,l=g.naturalWidth,m=g.naturalHeight;b=Number(b);if(0<=b&&this.ready&&!this.disabled&&d.zoomable){var d=l*b,m=m*b,n=void 0;c&&(n=c.originalEvent);this.trigger("zoom",{originalEvent:n,oldRatio:h/l,ratio:d/l}).isDefaultPrevented()||(n?(l=this.$cropper.offset(),e=e&&f(e).length?a(e):{pageX:c.pageX||
n.pageX||0,pageY:c.pageY||n.pageY||0},g.left-=(d-h)*((e.pageX-l.left-g.left)/h),g.top-=(m-k)*((e.pageY-l.top-g.top)/k)):(g.left-=(d-h)/2,g.top-=(m-k)/2),g.width=d,g.height=m,this.renderCanvas(!0))}},rotate:function(a){this.rotateTo((this.image.rotate||0)+Number(a))},rotateTo:function(a){a=Number(a);l(a)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=a%360,this.rotated=!0,this.renderCanvas(!0))},scale:function(a,b){var c=this.image,d=!1;k(b)&&(b=a);a=Number(a);b=Number(b);
this.ready&&!this.disabled&&this.options.scalable&&(l(a)&&(c.scaleX=a,d=!0),l(b)&&(c.scaleY=b,d=!0),d&&this.renderImage(!0))},scaleX:function(a){var b=this.image.scaleY;this.scale(a,l(b)?b:1)},scaleY:function(a){var b=this.image.scaleX;this.scale(l(b)?b:1,a)},getData:function(a){var c=this.options,d=this.image,e=this.canvas,f=this.cropBox,g=void 0,h=void 0;this.ready&&this.cropped?(h={x:f.left-e.left,y:f.top-e.top,width:f.width,height:f.height},g=d.width/d.naturalWidth,b.each(h,function(b,c){c/=g;
h[b]=a?Math.round(c):c})):h={x:0,y:0,width:0,height:0};c.rotatable&&(h.rotate=d.rotate||0);c.scalable&&(h.scaleX=d.scaleX||1,h.scaleY=d.scaleY||1);return h},setData:function(a){var c=this.options,d=this.image,e=this.canvas,f={},g=void 0,h=void 0,k=void 0;b.isFunction(a)&&(a=a.call(this.element));this.ready&&!this.disabled&&b.isPlainObject(a)&&(c.rotatable&&l(a.rotate)&&a.rotate!==d.rotate&&(d.rotate=a.rotate,this.rotated=g=!0),c.scalable&&(l(a.scaleX)&&a.scaleX!==d.scaleX&&(d.scaleX=a.scaleX,h=!0),
l(a.scaleY)&&a.scaleY!==d.scaleY&&(d.scaleY=a.scaleY,h=!0)),g?this.renderCanvas():h&&this.renderImage(),k=d.width/d.naturalWidth,l(a.x)&&(f.left=a.x*k+e.left),l(a.y)&&(f.top=a.y*k+e.top),l(a.width)&&(f.width=a.width*k),l(a.height)&&(f.height=a.height*k),this.setCropBoxData(f))},getContainerData:function(){return this.ready?this.container:{}},getImageData:function(){return this.loaded?this.image:{}},getCanvasData:function(){var a=this.canvas,c={};this.ready&&b.each("left top width height naturalWidth naturalHeight".split(" "),
function(b,d){c[d]=a[d]});return c},setCanvasData:function(a){var c=this.canvas,d=c.aspectRatio;b.isFunction(a)&&(a=a.call(this.$element));this.ready&&!this.disabled&&b.isPlainObject(a)&&(l(a.left)&&(c.left=a.left),l(a.top)&&(c.top=a.top),l(a.width)?(c.width=a.width,c.height=a.width/d):l(a.height)&&(c.height=a.height,c.width=a.height*d),this.renderCanvas(!0))},getCropBoxData:function(){var a=this.cropBox;return this.ready&&this.cropped?{left:a.left,top:a.top,width:a.width,height:a.height}:{}},setCropBoxData:function(a){var c=
this.cropBox,d=this.options.aspectRatio,e=void 0,f=void 0;b.isFunction(a)&&(a=a.call(this.$element));this.ready&&this.cropped&&!this.disabled&&b.isPlainObject(a)&&(l(a.left)&&(c.left=a.left),l(a.top)&&(c.top=a.top),l(a.width)&&a.width!==c.width&&(e=!0,c.width=a.width),l(a.height)&&a.height!==c.height&&(f=!0,c.height=a.height),d&&(e?c.height=c.width/d:f&&(c.width=c.height*d)),this.renderCropBox())},getCroppedCanvas:function(a){if(!this.ready||!window.HTMLCanvasElement)return null;if(!this.cropped)return s(this.$clone[0],
this.image);b.isPlainObject(a)||(a={});var c=this.getData(),d=c.width,e=c.height,f=d/e,g=void 0,h=void 0,k=void 0;b.isPlainObject(a)&&(g=a.width,h=a.height,g?(h=g/f,k=g/d):h&&(g=h*f,k=h/e));var g=Math.floor(g||d),l=Math.floor(h||e),h=b("<canvas>")[0],f=h.getContext("2d");h.width=g;h.height=l;a.fillColor&&(f.fillStyle=a.fillColor,f.fillRect(0,0,g,l));l=s(this.$clone[0],this.image);a=l.width;var g=l.height,m=this.canvas,l=[l],n=c.x+m.naturalWidth*(Math.abs(c.scaleX||1)-1)/2,c=c.y+m.naturalHeight*(Math.abs(c.scaleY||
1)-1)/2,p=m=void 0,q=void 0,r=void 0,u=void 0,v=void 0;n<=-d||n>a?n=m=q=u=0:0>=n?(q=-n,n=0,m=u=Math.min(a,d+n)):n<=a&&(q=0,m=u=Math.min(d,a-n));0>=m||c<=-e||c>g?c=p=r=v=0:0>=c?(r=-c,c=0,p=v=Math.min(g,e+c)):c<=g&&(r=0,p=v=Math.min(e,g-c));l.push(Math.floor(n),Math.floor(c),Math.floor(m),Math.floor(p));k&&(q*=k,r*=k,u*=k,v*=k);0<u&&0<v&&l.push(Math.floor(q),Math.floor(r),Math.floor(u),Math.floor(v));f.drawImage.apply(f,V(l));return h},setAspectRatio:function(a){var b=this.options;this.disabled||k(a)||
(b.aspectRatio=Math.max(0,a)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(a){var b=this.options,c=void 0,d=void 0;this.loaded&&!this.disabled&&(c="crop"===a,d=b.movable&&"move"===a,a=c||d?a:"none",this.$dragBox.data("action",a).toggleClass("cropper-crop",c).toggleClass("cropper-move",d),b.cropBoxMovable||this.$face.data("action",a).toggleClass("cropper-crop",c).toggleClass("cropper-move",d))}});var H=b.fn.cropper;b.fn.cropper=function(a){for(var c=
arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=void 0;this.each(function(c,e){var g=b(e),h=g.data("cropper");if(!h){if(/destroy/.test(a))return;h=b.extend({},g.data(),b.isPlainObject(a)&&a);g.data("cropper",h=new U(e,h))}"string"===typeof a&&(g=h[a],b.isFunction(g)&&(f=g.apply(h,d)))});return"undefined"!==typeof f?f:this};b.fn.cropper.Constructor=U;b.fn.cropper.setDefaults=U.setDefaults;b.fn.cropper.noConflict=function(){b.fn.cropper=H;return this}});
/*!
 * bootstrap-tokenfield
 * https://github.com/sliptree/bootstrap-tokenfield
 * Copyright 2013-2014 Sliptree and other contributors; Licensed MIT
 */

(function (factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // For CommonJS and CommonJS-like environments where a window with jQuery
        // is present, execute the factory with the jQuery instance from the window object
        // For environments that do not inherently posses a window with a document
        // (such as Node.js), expose a Tokenfield-making factory as module.exports
        // This accentuates the need for the creation of a real window or passing in a jQuery instance
        // e.g. require("bootstrap-tokenfield")(window); or require("bootstrap-tokenfield")($);
        module.exports = global.window && global.window.$ ?
            factory(global.window.$) :
            function (input) {
                if (!input.$ && !input.fn) {
                    throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance");
                }
                return factory(input.$ || input);
            };
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($, window) {

    "use strict"; // jshint ;_;

    /* TOKENFIELD PUBLIC CLASS DEFINITION
     * ============================== */

    var Tokenfield = function (element, options) {
        var _self = this

        this.$element = $(element)
        this.textDirection = this.$element.css('direction');

        // Extend options
        this.options = $.extend(true, {}, $.fn.tokenfield.defaults, { tokens: this.$element.val() }, this.$element.data(), options)

        // Setup delimiters and trigger keys
        this._delimiters = (typeof this.options.delimiter === 'string') ? [this.options.delimiter] : this.options.delimiter
        this._triggerKeys = $.map(this._delimiters, function (delimiter) {
            return delimiter.charCodeAt(0);
        });
        this._firstDelimiter = this._delimiters[0];

        // Check for whitespace, dash and special characters
        var whitespace = $.inArray(' ', this._delimiters)
            , dash = $.inArray('-', this._delimiters)

        if (whitespace >= 0)
            this._delimiters[whitespace] = '\\s'

        if (dash >= 0) {
            delete this._delimiters[dash]
            this._delimiters.unshift('-')
        }

        var specialCharacters = ['\\', '$', '[', '{', '^', '.', '|', '?', '*', '+', '(', ')']
        $.each(this._delimiters, function (index, char) {
            var pos = $.inArray(char, specialCharacters)
            if (pos >= 0) _self._delimiters[index] = '\\' + char;
        });

        // Store original input width
        var elRules = (window && typeof window.getMatchedCSSRules === 'function') ? window.getMatchedCSSRules(element) : null
            , elStyleWidth = element.style.width
            , elCSSWidth
            , elWidth = this.$element.width()

        if (elRules) {
            $.each(elRules, function (i, rule) {
                if (rule.style.width) {
                    elCSSWidth = rule.style.width;
                }
            });
        }

        // Move original input out of the way
        var hidingPosition = $('body').css('direction') === 'rtl' ? 'right' : 'left',
            originalStyles = { position: this.$element.css('position') };
        originalStyles[hidingPosition] = this.$element.css(hidingPosition);

        this.$element
            .data('original-styles', originalStyles)
            .data('original-tabindex', this.$element.prop('tabindex'))
            .css('position', 'absolute')
            .css(hidingPosition, '-10000px')
            .prop('tabindex', -1)

        // Create a wrapper
        this.$wrapper = $('<div class="tokenfield form-control" />')
        if (this.$element.hasClass('input-lg')) this.$wrapper.addClass('input-lg')
        if (this.$element.hasClass('input-sm')) this.$wrapper.addClass('input-sm')
        if (this.textDirection === 'rtl') this.$wrapper.addClass('rtl')

        // Create a new input
        var id = this.$element.prop('id') || new Date().getTime() + '' + Math.floor((1 + Math.random()) * 100)
        this.$input = $('<input type="text" class="token-input" autocomplete="off" />')
            .appendTo(this.$wrapper)
            .prop('placeholder', this.$element.prop('placeholder'))
            .prop('id', id + '-tokenfield')
            .prop('tabindex', this.$element.data('original-tabindex'))

        // Re-route original input label to new input
        var $label = $('label[for="' + this.$element.prop('id') + '"]')
        if ($label.length) {
            $label.prop('for', this.$input.prop('id'))
        }

        // Set up a copy helper to handle copy & paste
        this.$copyHelper = $('<input type="text" />').css('position', 'absolute').css(hidingPosition, '-10000px').prop('tabindex', -1).prependTo(this.$wrapper)

        // Set wrapper width
        if (elStyleWidth) {
            this.$wrapper.css('width', elStyleWidth);
        }
        else if (elCSSWidth) {
            this.$wrapper.css('width', elCSSWidth);
        }
        // If input is inside inline-form with no width set, set fixed width
        else if (this.$element.parents('.form-inline').length) {
            this.$wrapper.width(elWidth)
        }

        // Set tokenfield disabled, if original or fieldset input is disabled
        if (this.$element.prop('disabled') || this.$element.parents('fieldset[disabled]').length) {
            this.disable();
        }

        // Set tokenfield readonly, if original input is readonly
        if (this.$element.prop('readonly')) {
            this.readonly();
        }

        // Set up mirror for input auto-sizing
        this.$mirror = $('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>');
        this.$input.css('min-width', this.options.minWidth + 'px')
        $.each([
            'fontFamily',
            'fontSize',
            'fontWeight',
            'fontStyle',
            'letterSpacing',
            'textTransform',
            'wordSpacing',
            'textIndent'
        ], function (i, val) {
            _self.$mirror[0].style[val] = _self.$input.css(val);
        });
        this.$mirror.appendTo('body')

        // Insert tokenfield to HTML
        this.$wrapper.insertBefore(this.$element)
        this.$element.prependTo(this.$wrapper)

        // Calculate inner input width
        this.update()

        // Create initial tokens, if any
        this.setTokens(this.options.tokens, false, false)

        // Start listening to events
        this.listen()

        // Initialize autocomplete, if necessary
        if (!$.isEmptyObject(this.options.autocomplete)) {
            var side = this.textDirection === 'rtl' ? 'right' : 'left'
                , autocompleteOptions = $.extend({
                    minLength: this.options.showAutocompleteOnFocus ? 0 : null,
                    position: { my: side + " top", at: side + " bottom", of: this.$wrapper }
                }, this.options.autocomplete)

            this.$input.autocomplete(autocompleteOptions)
        }

        // Initialize typeahead, if necessary
        if (!$.isEmptyObject(this.options.typeahead)) {

            var typeaheadOptions = this.options.typeahead
                , defaults = {
                    minLength: this.options.showAutocompleteOnFocus ? 0 : null
                }
                , args = $.isArray(typeaheadOptions) ? typeaheadOptions : [typeaheadOptions, typeaheadOptions]

            args[0] = $.extend({}, defaults, args[0])

            this.$input.typeahead.apply(this.$input, args)
            this.typeahead = true
        }

        this.$element.trigger('tokenfield:initialize')
    }

    Tokenfield.prototype = {

        constructor: Tokenfield, createToken: function (attrs, triggerChange) {
            var _self = this

            if (typeof attrs === 'string') {
                attrs = { value: attrs, label: attrs }
            }

            if (typeof triggerChange === 'undefined') {
                triggerChange = true
            }

            // Normalize label and value
            attrs.value = $.trim(attrs.value).toLowerCase();
            attrs.label = attrs.label && attrs.label.length ? $.trim(attrs.label) : attrs.value

            // Bail out if has no value or label, or label is too short
            if (!attrs.value.length || !attrs.label.length || attrs.label.length <= this.options.minLength) return

            // Bail out if maximum number of tokens is reached
            if (this.options.limit && this.getTokens().length >= this.options.limit) return

            // Allow changing token data before creating it
            var createEvent = $.Event('tokenfield:createtoken', { attrs: attrs })
            this.$element.trigger(createEvent)

            // Bail out if there if attributes are empty or event was defaultPrevented
            if (!createEvent.attrs || createEvent.isDefaultPrevented()) return

            var $token = $('<div class="token" />')
                .attr('data-value', attrs.value)
                .append('<span class="token-label" />')
                .append('<a href="#" class="close" tabindex="-1">&times;</a>')

            // Insert token into HTML
            if (this.$input.hasClass('tt-input')) {
                // If the input has typeahead enabled, insert token before it's parent
                this.$input.parent().before($token)
            } else {
                this.$input.before($token)
            }

            // Temporarily set input width to minimum
            this.$input.css('width', this.options.minWidth + 'px')

            var $tokenLabel = $token.find('.token-label')
                , $closeButton = $token.find('.close')

            // Determine maximum possible token label width
            if (!this.maxTokenWidth) {
                this.maxTokenWidth =
                    this.$wrapper.width() - $closeButton.outerWidth() -
                    parseInt($closeButton.css('margin-left'), 10) -
                    parseInt($closeButton.css('margin-right'), 10) -
                    parseInt($token.css('border-left-width'), 10) -
                    parseInt($token.css('border-right-width'), 10) -
                    parseInt($token.css('padding-left'), 10) -
                    parseInt($token.css('padding-right'), 10)
                parseInt($tokenLabel.css('border-left-width'), 10) -
                parseInt($tokenLabel.css('border-right-width'), 10) -
                parseInt($tokenLabel.css('padding-left'), 10) -
                parseInt($tokenLabel.css('padding-right'), 10)
                parseInt($tokenLabel.css('margin-left'), 10) -
                parseInt($tokenLabel.css('margin-right'), 10)
            }

            $tokenLabel
                .text(attrs.label)
                .css('max-width', this.maxTokenWidth)

            // Listen to events on token
            $token
                .on('mousedown', function (e) {
                    if (_self._disabled || _self._readonly) return false
                    _self.preventDeactivation = true
                })
                .on('click', function (e) {
                    if (_self._disabled || _self._readonly) return false
                    _self.preventDeactivation = false

                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault()
                        return _self.toggle($token)
                    }

                    _self.activate($token, e.shiftKey, e.shiftKey)
                })
                .on('dblclick', function (e) {
                    if (_self._disabled || _self._readonly || !_self.options.allowEditing) return false
                    _self.edit($token)
                })

            $closeButton
                .on('click', $.proxy(this.remove, this))

            // Trigger createdtoken event on the original field
            // indicating that the token is now in the DOM
            this.$element.trigger($.Event('tokenfield:createdtoken', {
                attrs: attrs,
                relatedTarget: $token.get(0)
            }))

            // Trigger change event on the original field
            if (triggerChange) {
                this.$element.val(this.getTokensList()).trigger($.Event('change', { initiator: 'tokenfield' }))
            }

            // Update tokenfield dimensions
            this.update()

            // Return original element
            return this.$element.get(0)
        }, setTokens: function (tokens, add, triggerChange) {
            if (!tokens) return

            if (!add) this.$wrapper.find('.token').remove()

            if (typeof triggerChange === 'undefined') {
                triggerChange = true
            }

            if (typeof tokens === 'string') {
                if (this._delimiters.length) {
                    // Split based on delimiters
                    tokens = tokens.split(new RegExp('[' + this._delimiters.join('') + ']'))
                } else {
                    tokens = [tokens];
                }
            }

            var _self = this
            $.each(tokens, function (i, attrs) {
                _self.createToken(attrs, triggerChange)
            })

            return this.$element.get(0)
        }, getTokenData: function ($token) {
            var data = $token.map(function () {
                var $token = $(this);
                return {
                    value: $token.attr('data-value'),
                    label: $token.find('.token-label').text()
                }
            }).get();

            if (data.length == 1) {
                data = data[0];
            }

            return data;
        }, getTokens: function (active) {
            var self = this
                , tokens = []
                , activeClass = active ? '.active' : '' // get active tokens only
            this.$wrapper.find('.token' + activeClass).each(function () {
                tokens.push(self.getTokenData($(this)))
            })
            return tokens
        }, getTokensList: function (delimiter, beautify, active) {
            delimiter = delimiter || this._firstDelimiter
            beautify = ( typeof beautify !== 'undefined' && beautify !== null ) ? beautify : this.options.beautify

            var separator = delimiter + ( beautify && delimiter !== ' ' ? ' ' : '')
            return $.map(this.getTokens(active), function (token) {
                return token.value
            }).join(separator)
        }, getInput: function () {
            return this.$input.val()
        }, listen: function () {
            var _self = this

            this.$element
                .on('change', $.proxy(this.change, this))

            this.$wrapper
                .on('mousedown', $.proxy(this.focusInput, this))

            this.$input
                .on('focus', $.proxy(this.focus, this))
                .on('blur', $.proxy(this.blur, this))
                .on('paste', $.proxy(this.paste, this))
                .on('keydown', $.proxy(this.keydown, this))
                .on('keypress', $.proxy(this.keypress, this))
                .on('keyup', $.proxy(this.keyup, this))

            this.$copyHelper
                .on('focus', $.proxy(this.focus, this))
                .on('blur', $.proxy(this.blur, this))
                .on('keydown', $.proxy(this.keydown, this))
                .on('keyup', $.proxy(this.keyup, this))

            // Secondary listeners for input width calculation
            this.$input
                .on('keypress', $.proxy(this.update, this))
                .on('keyup', $.proxy(this.update, this))

            this.$input
                .on('autocompletecreate', function () {
                    // Set minimum autocomplete menu width
                    var $_menuElement = $(this).data('ui-autocomplete').menu.element

                    var minWidth = _self.$wrapper.outerWidth() -
                        parseInt($_menuElement.css('border-left-width'), 10) -
                        parseInt($_menuElement.css('border-right-width'), 10)

                    $_menuElement.css('min-width', minWidth + 'px')
                })
                .on('autocompleteselect', function (e, ui) {
                    if (_self.createToken(ui.item)) {
                        _self.$input.val('')
                        if (_self.$input.data('edit')) {
                            _self.unedit(true)
                        }
                    }
                    return false
                })
                .on('typeahead:selected typeahead:autocompleted', function (e, datum, dataset) {
                    // Create token
                    if (_self.createToken(datum)) {
                        _self.$input.typeahead('val', '')
                        if (_self.$input.data('edit')) {
                            _self.unedit(true)
                        }
                    }
                })

            // Listen to window resize
            $(window).on('resize', $.proxy(this.update, this))

        }, keydown: function (e) {

            if (!this.focused) return

            var _self = this

            switch (e.keyCode) {
                case 8: // backspace
                    if (!this.$input.is(document.activeElement)) break
                    this.lastInputValue = this.$input.val()
                    break

                case 37: // left arrow
                    leftRight(this.textDirection === 'rtl' ? 'next' : 'prev')
                    break

                case 38: // up arrow
                    upDown('prev')
                    break

                case 39: // right arrow
                    leftRight(this.textDirection === 'rtl' ? 'prev' : 'next')
                    break

                case 40: // down arrow
                    upDown('next')
                    break

                case 65: // a (to handle ctrl + a)
                    if (this.$input.val().length > 0 || !(e.ctrlKey || e.metaKey)) break
                    this.activateAll()
                    e.preventDefault()
                    break

                case 9: // tab
                case 13: // enter

                    // We will handle creating tokens from autocomplete in autocomplete events
                    if (this.$input.data('ui-autocomplete') && this.$input.data('ui-autocomplete').menu.element.find("li:has(a.ui-state-focus)").length) break

                    // We will handle creating tokens from typeahead in typeahead events
                    if (this.$input.hasClass('tt-input') && this.$wrapper.find('.tt-cursor').length) break
                    if (this.$input.hasClass('tt-input') && this.$wrapper.find('.tt-hint').val().length) break

                    // Create token
                    if (this.$input.is(document.activeElement) && this.$input.val().length || this.$input.data('edit')) {
                        return this.createTokensFromInput(e, this.$input.data('edit'));
                    }

                    // Edit token
                    if (e.keyCode === 13) {
                        if (!this.$copyHelper.is(document.activeElement) || this.$wrapper.find('.token.active').length !== 1) break
                        if (!_self.options.allowEditing) break
                        this.edit(this.$wrapper.find('.token.active'))
                    }
            }

            function leftRight(direction) {
                if (_self.$input.is(document.activeElement)) {
                    if (_self.$input.val().length > 0) return

                    direction += 'All'
                    var $token = _self.$input.hasClass('tt-input') ? _self.$input.parent()[direction]('.token:first') : _self.$input[direction]('.token:first')
                    if (!$token.length) return

                    _self.preventInputFocus = true
                    _self.preventDeactivation = true

                    _self.activate($token)
                    e.preventDefault()

                } else {
                    _self[direction](e.shiftKey)
                    e.preventDefault()
                }
            }

            function upDown(direction) {
                if (!e.shiftKey) return

                if (_self.$input.is(document.activeElement)) {
                    if (_self.$input.val().length > 0) return

                    var $token = _self.$input.hasClass('tt-input') ? _self.$input.parent()[direction + 'All']('.token:first') : _self.$input[direction + 'All']('.token:first')
                    if (!$token.length) return

                    _self.activate($token)
                }

                var opposite = direction === 'prev' ? 'next' : 'prev'
                    , position = direction === 'prev' ? 'first' : 'last'

                _self.firstActiveToken[opposite + 'All']('.token').each(function () {
                    _self.deactivate($(this))
                })

                _self.activate(_self.$wrapper.find('.token:' + position), true, true)
                e.preventDefault()
            }

            this.lastKeyDown = e.keyCode
        }, keypress: function (e) {
            this.lastKeyPressCode = e.keyCode
            this.lastKeyPressCharCode = e.charCode

            // Comma
            if ($.inArray(e.charCode, this._triggerKeys) !== -1 && this.$input.is(document.activeElement)) {
                if (this.$input.val()) {
                    this.createTokensFromInput(e)
                }
                return false;
            }
        }, keyup: function (e) {
            this.preventInputFocus = false

            if (!this.focused) return

            switch (e.keyCode) {
                case 8: // backspace
                    if (this.$input.is(document.activeElement)) {
                        if (this.$input.val().length || this.lastInputValue.length && this.lastKeyDown === 8) break

                        this.preventDeactivation = true
                        var $prevToken = this.$input.hasClass('tt-input') ? this.$input.parent().prevAll('.token:first') : this.$input.prevAll('.token:first')

                        if (!$prevToken.length) break

                        this.activate($prevToken)
                    } else {
                        this.remove(e)
                    }
                    break

                case 46: // delete
                    this.remove(e, 'next')
                    break
            }
            this.lastKeyUp = e.keyCode
        }, focus: function (e) {
            this.focused = true
            this.$wrapper.addClass('focus')

            if (this.$input.is(document.activeElement)) {
                this.$wrapper.find('.active').removeClass('active')
                this.$firstActiveToken = null

                if (this.options.showAutocompleteOnFocus) {
                    this.search()
                }
            }
        }, blur: function (e) {

            this.focused = false
            this.$wrapper.removeClass('focus')

            if (!this.preventDeactivation && !this.$element.is(document.activeElement)) {
                this.$wrapper.find('.active').removeClass('active')
                this.$firstActiveToken = null
            }

            if (!this.preventCreateTokens && (this.$input.data('edit') && !this.$input.is(document.activeElement) || this.options.createTokensOnBlur )) {
                this.createTokensFromInput(e)
            }

            this.preventDeactivation = false
            this.preventCreateTokens = false
        }, paste: function (e) {
            var _self = this

            // Add tokens to existing ones
            setTimeout(function () {
                _self.createTokensFromInput(e)
            }, 1)
        }, change: function (e) {
            if (e.initiator === 'tokenfield') return // Prevent loops

            this.setTokens(this.$element.val())
        }, createTokensFromInput: function (e, focus) {
            if (this.$input.val().length < this.options.minLength)
                return // No input, simply return

            var tokensBefore = this.getTokensList()
            this.setTokens(this.$input.val(), true)

            if (tokensBefore == this.getTokensList() && this.$input.val().length)
                return false // No tokens were added, do nothing (prevent form submit)

            if (this.$input.hasClass('tt-input')) {
                // Typeahead acts weird when simply setting input value to empty,
                // so we set the query to empty instead
                this.$input.typeahead('val', '')
            } else {
                this.$input.val('')
            }

            if (this.$input.data('edit')) {
                this.unedit(focus)
            }

            return false // Prevent form being submitted
        }, next: function (add) {
            if (add) {
                var $firstActiveToken = this.$wrapper.find('.active:first')
                    , deactivate = $firstActiveToken && this.$firstActiveToken ? $firstActiveToken.index() < this.$firstActiveToken.index() : false

                if (deactivate) return this.deactivate($firstActiveToken)
            }

            var $lastActiveToken = this.$wrapper.find('.active:last')
                , $nextToken = $lastActiveToken.nextAll('.token:first')

            if (!$nextToken.length) {
                this.$input.focus()
                return
            }

            this.activate($nextToken, add)
        }, prev: function (add) {

            if (add) {
                var $lastActiveToken = this.$wrapper.find('.active:last')
                    , deactivate = $lastActiveToken && this.$firstActiveToken ? $lastActiveToken.index() > this.$firstActiveToken.index() : false

                if (deactivate) return this.deactivate($lastActiveToken)
            }

            var $firstActiveToken = this.$wrapper.find('.active:first')
                , $prevToken = $firstActiveToken.prevAll('.token:first')

            if (!$prevToken.length) {
                $prevToken = this.$wrapper.find('.token:first')
            }

            if (!$prevToken.length && !add) {
                this.$input.focus()
                return
            }

            this.activate($prevToken, add)
        }, activate: function ($token, add, multi, remember) {

            if (!$token) return

            if (typeof remember === 'undefined') var remember = true

            if (multi) var add = true

            this.$copyHelper.focus()

            if (!add) {
                this.$wrapper.find('.active').removeClass('active')
                if (remember) {
                    this.$firstActiveToken = $token
                } else {
                    delete this.$firstActiveToken
                }
            }

            if (multi && this.$firstActiveToken) {
                // Determine first active token and the current tokens indicies
                // Account for the 1 hidden textarea by subtracting 1 from both
                var i = this.$firstActiveToken.index() - 2
                    , a = $token.index() - 2
                    , _self = this

                this.$wrapper.find('.token').slice(Math.min(i, a) + 1, Math.max(i, a)).each(function () {
                    _self.activate($(this), true)
                })
            }

            $token.addClass('active')
            this.$copyHelper.val(this.getTokensList(null, null, true)).select()
        }, activateAll: function () {
            var _self = this

            this.$wrapper.find('.token').each(function (i) {
                _self.activate($(this), i !== 0, false, false)
            })
        }, deactivate: function ($token) {
            if (!$token) return

            $token.removeClass('active')
            this.$copyHelper.val(this.getTokensList(null, null, true)).select()
        }, toggle: function ($token) {
            if (!$token) return

            $token.toggleClass('active')
            this.$copyHelper.val(this.getTokensList(null, null, true)).select()
        }, edit: function ($token) {
            if (!$token) return

            var attrs = {
                value: $token.data('value'),
                label: $token.find('.token-label').text()
            }

            // Allow changing input value before editing
            var options = { attrs: attrs, relatedTarget: $token.get(0) }
            var editEvent = $.Event('tokenfield:edittoken', options)
            this.$element.trigger(editEvent)

            // Edit event can be cancelled if default is prevented
            if (editEvent.isDefaultPrevented()) return

            $token.find('.token-label').text(attrs.value)
            var tokenWidth = $token.outerWidth()

            var $_input = this.$input.hasClass('tt-input') ? this.$input.parent() : this.$input

            $token.replaceWith($_input)

            this.preventCreateTokens = true

            this.$input.val(attrs.value)
                .select()
                .data('edit', true)
                .width(tokenWidth)

            this.update();

            // Indicate that token in snow being edited, and is replaced with an input field in the DOM
            this.$element.trigger($.Event('tokenfield:editedtoken', options))
        }, unedit: function (focus) {
            var $_input = this.$input.hasClass('tt-input') ? this.$input.parent() : this.$input
            $_input.appendTo(this.$wrapper)

            this.$input.data('edit', false)
            this.$mirror.text('')

            this.update()

            // Because moving the input element around in DOM
            // will cause it to lose focus, we provide an option
            // to re-focus the input after appending it to the wrapper
            if (focus) {
                var _self = this
                setTimeout(function () {
                    _self.$input.focus()
                }, 1)
            }
        }, remove: function (e, direction) {
            if (this.$input.is(document.activeElement) || this._disabled || this._readonly) return

            var $token = (e.type === 'click') ? $(e.target).closest('.token') : this.$wrapper.find('.token.active')

            if (e.type !== 'click') {
                if (!direction) var direction = 'prev'
                this[direction]()

                // Was it the first token?
                if (direction === 'prev') var firstToken = $token.first().prevAll('.token:first').length === 0
            }

            // Prepare events and their options
            var options = { attrs: this.getTokenData($token), relatedTarget: $token.get(0) }
                , removeEvent = $.Event('tokenfield:removetoken', options)

            this.$element.trigger(removeEvent);

            // Remove event can be intercepted and cancelled
            if (removeEvent.isDefaultPrevented()) return

            var removedEvent = $.Event('tokenfield:removedtoken', options)
                , changeEvent = $.Event('change', { initiator: 'tokenfield' })

            // Remove token from DOM
            $token.remove()

            // Trigger events
            this.$element.val(this.getTokensList()).trigger(removedEvent).trigger(changeEvent)

            // Focus, when necessary:
            // When there are no more tokens, or if this was the first token
            // and it was removed with backspace or it was clicked on
            if (!this.$wrapper.find('.token').length || e.type === 'click' || firstToken) this.$input.focus()

            // Adjust input width
            this.$input.css('width', this.options.minWidth + 'px')
            this.update()

            // Cancel original event handlers
            e.preventDefault()
            e.stopPropagation()
        },

        removeToken: function (label) {
            if (this.$input.is(document.activeElement) || this._disabled || this._readonly) return;

            var $token = $(".token-label").filter(function() {
                return ($(this).text().toLowerCase() === label.toLowerCase())
            }).parent();

            // Prepare events and their options
            var options = { attrs: this.getTokenData($token), relatedTarget: $token.get(0) }
                , removeEvent = $.Event('tokenfield:removetoken', options)

            this.$element.trigger(removeEvent);

            // Remove event can be intercepted and cancelled
            if (removeEvent.isDefaultPrevented()) return

            var removedEvent = $.Event('tokenfield:removedtoken', options)
                , changeEvent = $.Event('change', { initiator: 'tokenfield' })

            // Remove token from DOM
            $token.remove()

            // Trigger events
            this.$element.val(this.getTokensList()).trigger(removedEvent).trigger(changeEvent)

            // Adjust input width
            this.$input.css('width', this.options.minWidth + 'px')
            this.update()
        }

        /**
         * Update tokenfield dimensions
         */, update: function (e) {
            var value = this.$input.val()
                , inputPaddingLeft = parseInt(this.$input.css('padding-left'), 10)
                , inputPaddingRight = parseInt(this.$input.css('padding-right'), 10)
                , inputPadding = inputPaddingLeft + inputPaddingRight

            if (this.$input.data('edit')) {

                if (!value) {
                    value = this.$input.prop("placeholder")
                }
                if (value === this.$mirror.text()) return

                this.$mirror.text(value)

                var mirrorWidth = this.$mirror.width() + 10;
                if (mirrorWidth > this.$wrapper.width()) {
                    return this.$input.width(this.$wrapper.width())
                }

                this.$input.width(mirrorWidth)
            }
            else {
                this.$input.css('width', this.options.minWidth + 'px')
                if (this.textDirection === 'rtl') {
                    return this.$input.width(this.$input.offset().left + this.$input.outerWidth() - this.$wrapper.offset().left - parseInt(this.$wrapper.css('padding-left'), 10) - inputPadding - 1)
                }
                this.$input.width(this.$wrapper.offset().left + this.$wrapper.width() + parseInt(this.$wrapper.css('padding-left'), 10) - this.$input.offset().left - inputPadding)
            }
        }, focusInput: function (e) {
            if ($(e.target).closest('.token').length || $(e.target).closest('.token-input').length || $(e.target).closest('.tt-dropdown-menu').length) return
            // Focus only after the current call stack has cleared,
            // otherwise has no effect.
            // Reason: mousedown is too early - input will lose focus
            // after mousedown. However, since the input may be moved
            // in DOM, there may be no click or mouseup event triggered.
            var _self = this
            setTimeout(function () {
                _self.$input.focus()
            }, 0)
        }, search: function () {
            if (this.$input.data('ui-autocomplete')) {
                this.$input.autocomplete('search')
            }
        }, disable: function () {
            this.setProperty('disabled', true);
        }, enable: function () {
            this.setProperty('disabled', false);
        }, readonly: function () {
            this.setProperty('readonly', true);
        }, writeable: function () {
            this.setProperty('readonly', false);
        }, setProperty: function (property, value) {
            this['_' + property] = value;
            this.$input.prop(property, value);
            this.$element.prop(property, value);
            this.$wrapper[ value ? 'addClass' : 'removeClass' ](property);
        }, destroy: function () {
            // Set field value
            this.$element.val(this.getTokensList());
            // Restore styles and properties
            this.$element.css(this.$element.data('original-styles'));
            this.$element.prop('tabindex', this.$element.data('original-tabindex'));

            // Re-route tokenfield labele to original input
            var $label = $('label[for="' + this.$input.prop('id') + '"]')
            if ($label.length) {
                $label.prop('for', this.$element.prop('id'))
            }

            // Move original element outside of tokenfield wrapper
            this.$element.insertBefore(this.$wrapper);

            // Remove tokenfield-related data
            this.$element.removeData('original-styles')
                .removeData('original-tabindex')
                .removeData('bs.tokenfield');

            // Remove tokenfield from DOM
            this.$wrapper.remove();

            var $_element = this.$element;
            delete this;

            return $_element;
        }

    }


    /* TOKENFIELD PLUGIN DEFINITION
     * ======================== */

    var old = $.fn.tokenfield

    $.fn.tokenfield = function (option, param) {
        var value
            , args = []

        Array.prototype.push.apply(args, arguments);

        var elements = this.each(function () {
            var $this = $(this)
                , data = $this.data('bs.tokenfield')
                , options = typeof option == 'object' && option

            if (typeof option === 'string' && data && data[option]) {
                args.shift()
                value = data[option].apply(data, args)
            } else {
                if (!data && typeof option !== 'string' && !param) $this.data('bs.tokenfield', (data = new Tokenfield(this, options)))
            }
        })

        return typeof value !== 'undefined' ? value : elements;
    }

    $.fn.tokenfield.defaults = {
        minWidth: 60,
        minLength: 0,
        allowEditing: true,
        limit: 0,
        autocomplete: {},
        typeahead: {},
        showAutocompleteOnFocus: false,
        createTokensOnBlur: false,
        delimiter: ',',
        beautify: true
    }

    $.fn.tokenfield.Constructor = Tokenfield


    /* TOKENFIELD NO CONFLICT
     * ================== */

    $.fn.tokenfield.noConflict = function () {
        $.fn.tokenfield = old
        return this
    }

    return Tokenfield;

}));

var ie9 = 0;
var ie8 = 0;

(function (h, a) {
    var f = h.amplitude || {};
    var b = a.createElement("script");
    b.type = "text/javascript";
    b.async = true;
    b.src = "https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.0.3-min.js";
    var g = a.getElementsByTagName("script")[0];
    g.parentNode.insertBefore(b, g);
    f._q = [];
    function e(i) {
        f[i] = function () {
            f._q.push([i].concat(Array.prototype.slice.call(arguments, 0)))
        }
    }

    var c = ["init", "logEvent", "setUserId", "setUserProperties", "setVersionName", "setDomain", "setDeviceId",
        "setGlobalUserProperties"];
    for (var d = 0; d < c.length; d++) {
        e(c[d])
    }
    h.amplitude = f
})(window, document);

<!-- fb Pixel Code -->
!function (f, b, e, v, n, t, s) {
    if (f.fbq)return;
    n = f.fbq = function () {
        n.callMethod ?
            n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if (!f._fbq)f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = '2.0';
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s)
}(window,
    document, 'script', '//connect.facebook.net/en_US/fbevents.js');

fbq('init', '314708382058594');
fbq('track', "PageView");

(function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=337307303021297";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

!function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = p + '://platform.twitter.com/widgets.js';
        fjs.parentNode.insertBefore(js, fjs);
    }
}(document, 'script', 'twitter-wjs');

// Put somewhere in your scripting environment
if (jQuery.when.all === undefined) {
    jQuery.when.all = function (deferreds) {
        var deferred = new jQuery.Deferred();
        $.when.apply(jQuery, deferreds).then(
            function () {
                deferred.resolve(Array.prototype.slice.call(arguments));
            },
            function () {
                deferred.reject(Array.prototype.slice.call(arguments));
            });

        return deferred;
    }
}

jQuery.Deferred.exceptionHook = function (error, stack) {
    throw error;
};
